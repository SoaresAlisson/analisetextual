<!DOCTYPE html>
<html lang="pt-br" xml:lang="pt-br">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Análise Textual (text mining) | Introdução à Análise Textual aplicada à Sociologia</title>
  <meta name="description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Análise Textual (text mining) | Introdução à Análise Textual aplicada à Sociologia" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Análise Textual (text mining) | Introdução à Análise Textual aplicada à Sociologia" />
  
  <meta name="twitter:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

<meta name="author" content="Alisson Soares" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualização-de-dados.html"/>
<link rel="next" href="text-mining-semantic-parsing.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.9/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Análise Textual</a></li>

<li class="divider"></li>
<li><a href="objetivos-deste-manual.html#objetivos-deste-manual">Objetivos deste manual<span></span></a>
<ul>
<li><a href="objetivos-deste-manual.html#plano-do-livro">Plano do livro<span></span></a></li>
</ul></li>
<li><a href="intro.html#intro">Introdução<span></span></a>
<ul>
<li><a href="intro.html#HD">O termo “humanidade digitais”<span></span></a></li>
<li><a href="intro.html#fluxo-de-trabalho">Fluxo de trabalho<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html"><i class="fa fa-check"></i><b>1</b> História da Análise Textual<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#linha-do-tempo-da-história-da-análise-textual"><i class="fa fa-check"></i><b>1.1</b> Linha do tempo da história da Análise Textual<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html"><i class="fa fa-check"></i><b>2</b> Exemplos de Pesquisas em Humanidades Digitais<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#bibliometria-cientometria-cienciometria"><i class="fa fa-check"></i><b>2.1</b> Bibliometria / cientometria / cienciometria<span></span></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-filósofos-da-ciência-na-sociologia"><i class="fa fa-check"></i><b>2.1.1</b> Exemplo: Filósofos da ciência na Sociologia<span></span></a></li>
<li class="chapter" data-level="2.1.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-a-teoria-dos-sistemas-sociais-de-niklas-luhmann"><i class="fa fa-check"></i><b>2.1.2</b> Exemplo: A teoria dos sistemas sociais de Niklas Luhmann<span></span></a></li>
<li class="chapter" data-level="2.1.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendência-de-termos-chave-da-sociologia"><i class="fa fa-check"></i><b>2.1.3</b> Exemplo: Tendência de termos chave da Sociologia<span></span></a></li>
<li class="chapter" data-level="2.1.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendências-das-correntes-na-filosofia"><i class="fa fa-check"></i><b>2.1.4</b> Exemplo: Tendências das correntes na filosofia<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exGoogleTrends"><i class="fa fa-check"></i><b>2.2</b> Exemplo: Google Trends como Proxy para epidemias<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#ExFakesNewsMundo"><i class="fa fa-check"></i><b>2.3</b> Exemplo: Como as fake news sobre a pandemia de Covid-19 se assemelham/divergem entre os países?<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-mudança-de-significado-de-palavras"><i class="fa fa-check"></i><b>2.4</b> Exemplo: Mudança de significado de palavras<span></span></a></li>
<li class="chapter" data-level="2.5" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-análise-de-complexidade-musical"><i class="fa fa-check"></i><b>2.5</b> Exemplo: Análise de complexidade musical<span></span></a></li>
<li class="chapter" data-level="2.6" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-polarização"><i class="fa fa-check"></i><b>2.6</b> Exemplo: Polarização<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-complementando-dados-qualitativos"><i class="fa fa-check"></i><b>2.7</b> Exemplo de integração quali-quanti: Complementando dados qualitativos<span></span></a></li>
<li class="chapter" data-level="2.8" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-depurando-dados-quantitativos"><i class="fa fa-check"></i><b>2.8</b> Exemplo de integração quali-quanti: Depurando dados quantitativos<span></span></a></li>
<li class="chapter" data-level="2.9" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-processo-civilizador"><i class="fa fa-check"></i><b>2.9</b> Exemplo: Processo Civilizador<span></span></a></li>
<li class="chapter" data-level="2.10" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#ex.-determinantes-sociais-do-florescimento-da-cultura-incel"><i class="fa fa-check"></i><b>2.10</b> Ex.: Determinantes sociais do florescimento da cultura Incel<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html"><i class="fa fa-check"></i><b>3</b> Estrutura de dados e tipos de formatos<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-estruturados"><i class="fa fa-check"></i><b>3.1</b> Dados estruturados<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#os-formatos-csv-comma-separeted-values-e-tsv."><i class="fa fa-check"></i><b>3.1.1</b> Os formatos csv (<em>comma separeted values</em>) e tsv.<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoJson"><i class="fa fa-check"></i><b>3.1.2</b> O formato Json<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-não-estruturados"><i class="fa fa-check"></i><b>3.2</b> Dados não estruturados<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-semi-estruturados"><i class="fa fa-check"></i><b>3.3</b> Dados semi-estruturados<span></span></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#exemplos-de-dados-semi-estruturados"><i class="fa fa-check"></i><b>3.3.1</b> Exemplos de dados semi-estruturados<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoMarkdown"><i class="fa fa-check"></i><b>3.3.2</b> O formato Markdown<span></span></a></li>
<li class="chapter" data-level="3.3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoYaml"><i class="fa fa-check"></i><b>3.3.3</b> O formato YAML<span></span></a></li>
<li class="chapter" data-level="3.3.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoLatex"><i class="fa fa-check"></i><b>3.3.4</b> O Formato LaTex<span></span></a></li>
<li class="chapter" data-level="3.3.5" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoBibtex"><i class="fa fa-check"></i><b>3.3.5</b> O formato BibTex<span></span></a></li>
<li class="chapter" data-level="3.3.6" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatosXmlHtml"><i class="fa fa-check"></i><b>3.3.6</b> Os formatos xml e html<span></span></a></li>
<li class="chapter" data-level="3.3.7" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatos-mais-raros"><i class="fa fa-check"></i><b>3.3.7</b> Formatos mais raros<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#observações-finais"><i class="fa fa-check"></i><b>3.4</b> Observações finais<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html"><i class="fa fa-check"></i><b>4</b> Noções básicas de programação em R<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#sequências-de-scaping"><i class="fa fa-check"></i><b>4.1</b> Sequências de scaping<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#comentando-o-código"><i class="fa fa-check"></i><b>4.1.1</b> Comentando o código<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#variavel"><i class="fa fa-check"></i><b>4.2</b> Variável e atribuição<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#funções-no-r"><i class="fa fa-check"></i><b>4.3</b> Funções no R<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#condicionais-seentão-ifelse"><i class="fa fa-check"></i><b>4.4</b> Condicionais: se/então, If/else<span></span></a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#else"><i class="fa fa-check"></i><b>4.4.1</b> Else<span></span></a></li>
<li class="chapter" data-level="4.4.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#else-if"><i class="fa fa-check"></i><b>4.4.2</b> else if<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores"><i class="fa fa-check"></i><b>4.5</b> Operadores<span></span></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores-de-atribuição-assignment"><i class="fa fa-check"></i><b>4.5.1</b> Operadores de atribuição (assignment)<span></span></a></li>
<li class="chapter" data-level="4.5.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores-aritiméticos"><i class="fa fa-check"></i><b>4.5.2</b> Operadores Aritiméticos<span></span></a></li>
<li class="chapter" data-level="4.5.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_relacionais"><i class="fa fa-check"></i><b>4.5.3</b> Operadores relacionais<span></span></a></li>
<li class="chapter" data-level="4.5.4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_booleanos"><i class="fa fa-check"></i><b>4.5.4</b> Operadores booleanos<span></span></a></li>
<li class="chapter" data-level="4.5.5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#outros-operadores"><i class="fa fa-check"></i><b>4.5.5</b> Outros operadores<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#loops-repetições"><i class="fa fa-check"></i><b>4.6</b> Loops, repetições<span></span></a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#for-loops"><i class="fa fa-check"></i><b>4.6.1</b> For Loops<span></span></a></li>
<li class="chapter" data-level="4.6.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#while-loop"><i class="fa fa-check"></i><b>4.6.2</b> While loop<span></span></a></li>
<li class="chapter" data-level="4.6.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#apply-lapply-sapply-tapply-e-mapply"><i class="fa fa-check"></i><b>4.6.3</b> apply (lapply, sapply, tapply e mapply)<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html"><i class="fa fa-check"></i><b>5</b> Introdução ao R<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#obtendo-ajuda-no-r"><i class="fa fa-check"></i><b>5.1</b> Obtendo Ajuda no R<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#rcommander"><i class="fa fa-check"></i><b>5.2</b> R em modo gráfico: RKWard e RCommander<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#nvim-r"><i class="fa fa-check"></i><b>5.2.1</b> NVIM-R<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataTypes"><i class="fa fa-check"></i><b>5.3</b> Tipos de Dados no R (data types)<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#estrutura-de-dados-no-r-data-structures"><i class="fa fa-check"></i><b>5.4</b> Estrutura de dados no R (Data Structures)<span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#vetor-vector"><i class="fa fa-check"></i><b>5.4.1</b> Vetor (vector)<span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#fatores"><i class="fa fa-check"></i><b>5.4.2</b> Fator (<em>Factor</em>)<span></span></a></li>
<li class="chapter" data-level="5.4.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#matrix"><i class="fa fa-check"></i><b>5.4.3</b> Matriz (Matrix)<span></span></a></li>
<li class="chapter" data-level="5.4.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tm-dtm"><i class="fa fa-check"></i><b>5.4.4</b> Gerando um DTM com o pacote TM<span></span></a></li>
<li class="chapter" data-level="5.4.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tidytext-dtm"><i class="fa fa-check"></i><b>5.4.5</b> Gerando DTM com o pacote Tidytext<span></span></a></li>
<li class="chapter" data-level="5.4.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lista"><i class="fa fa-check"></i><b>5.4.6</b> Listas (<em>list</em>)<span></span></a></li>
<li class="chapter" data-level="5.4.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dataframes"><i class="fa fa-check"></i><b>5.4.7</b> Data Frames<span></span></a></li>
<li class="chapter" data-level="5.4.8" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#considerações-finais-sobre-estrutura-de-dados"><i class="fa fa-check"></i><b>5.4.8</b> Considerações finais sobre estrutura de dados<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#instalandopacotes"><i class="fa fa-check"></i><b>5.5</b> Instalando pacotes no R<span></span></a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#modo-1-instalando-via-linha-de-comando"><i class="fa fa-check"></i><b>5.5.1</b> Modo 1: instalando via linha de comando<span></span></a></li>
<li class="chapter" data-level="5.5.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#modo-2-modo-gráfico"><i class="fa fa-check"></i><b>5.5.2</b> Modo 2: Modo gráfico<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tidyverse"><i class="fa fa-check"></i><b>5.6</b> A suíte de pacotes <code>tidyverse</code><span></span></a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#pipes"><i class="fa fa-check"></i><b>5.6.1</b> Pipes<span></span></a></li>
<li class="chapter" data-level="5.6.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tibbles"><i class="fa fa-check"></i><b>5.6.2</b> Tibbles<span></span></a></li>
<li class="chapter" data-level="5.6.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dplyr"><i class="fa fa-check"></i><b>5.6.3</b> Dplyr: Verbos (ou comandos)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataHora"><i class="fa fa-check"></i><b>5.7</b> Manipulando data e hora<span></span></a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#gerando-uma-sequencia-de-datas-no-r"><i class="fa fa-check"></i><b>5.7.1</b> Gerando uma sequencia de datas no R<span></span></a></li>
<li class="chapter" data-level="5.7.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lubridate"><i class="fa fa-check"></i><b>5.7.2</b> Lubridate: facilitando manipulação de datas<span></span></a></li>
<li class="chapter" data-level="5.7.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#converter-data-em-nome-por-extenso-do-mês"><i class="fa fa-check"></i><b>5.7.3</b> Converter data em nome por extenso do mês<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html"><i class="fa fa-check"></i><b>6</b> Normalização de texto e Expressões Regulares<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#expressões-regulares-regex"><i class="fa fa-check"></i><b>6.1</b> Expressões regulares (RegEx)<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#parâmetros-das-regex"><i class="fa fa-check"></i><b>6.1.1</b> Parâmetros das Regex<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#regex-no-r"><i class="fa fa-check"></i><b>6.2</b> RegEx no R<span></span></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#grep"><i class="fa fa-check"></i><b>6.2.1</b> Grep<span></span></a></li>
<li class="chapter" data-level="6.2.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#gsub"><i class="fa fa-check"></i><b>6.2.2</b> gsub()<span></span></a></li>
<li class="chapter" data-level="6.2.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exercício-qual-o-qualis-de-certas-revistas-quais-revistas-possuem-certo-qualis"><i class="fa fa-check"></i><b>6.2.3</b> Exercício: Qual o Qualis de certas revistas? Quais revistas possuem certo Qualis?<span></span></a></li>
<li class="chapter" data-level="6.2.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#transformando-strings-em-vetores-com-strsplit"><i class="fa fa-check"></i><b>6.2.4</b> Transformando strings em vetores com <code>strsplit()</code><span></span></a></li>
<li class="chapter" data-level="6.2.5" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exemplo-regex"><i class="fa fa-check"></i><b>6.2.5</b> Exemplo regex<span></span></a></li>
<li class="chapter" data-level="6.2.6" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#lookaround-lookadead-e-lookbehind"><i class="fa fa-check"></i><b>6.2.6</b> Lookaround lookadead e lookbehind<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#pacote-stringr"><i class="fa fa-check"></i><b>6.3</b> Pacote stringr<span></span></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#normalização-com-stringr"><i class="fa fa-check"></i><b>6.3.1</b> Normalização com stringr<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões-regex-no-r"><i class="fa fa-check"></i><b>6.4</b> Dicas/Sugestões: Regex no R<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html"><i class="fa fa-check"></i><b>7</b> Visualização de dados<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#baseplots"><i class="fa fa-check"></i><b>7.1</b> Base plots<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#cores"><i class="fa fa-check"></i><b>7.2</b> Cores<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#o-pacote-lattice"><i class="fa fa-check"></i><b>7.3</b> O pacote Lattice<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot2"><i class="fa fa-check"></i><b>7.4</b> O pacote ggplot2<span></span></a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-aes"><i class="fa fa-check"></i><b>7.4.1</b> ggplot: nível aes<span></span></a></li>
<li class="chapter" data-level="7.4.2" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-geom"><i class="fa fa-check"></i><b>7.4.2</b> ggplot: Nível geom<span></span></a></li>
<li class="chapter" data-level="7.4.3" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-facet_"><i class="fa fa-check"></i><b>7.4.3</b> ggplot: nível facet_<span></span></a></li>
<li class="chapter" data-level="7.4.4" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-stat"><i class="fa fa-check"></i><b>7.4.4</b> ggplot: nível stat<span></span></a></li>
<li class="chapter" data-level="7.4.5" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-sistema-de-coordenadas"><i class="fa fa-check"></i><b>7.4.5</b> ggplot: nível sistema de coordenadas<span></span></a></li>
<li class="chapter" data-level="7.4.6" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#cores-no-ggplot"><i class="fa fa-check"></i><b>7.4.6</b> Cores no ggplot<span></span></a></li>
<li class="chapter" data-level="7.4.7" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#dicas-ggplot"><i class="fa fa-check"></i><b>7.4.7</b> Dicas ggplot<span></span></a></li>
<li class="chapter" data-level="7.4.8" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#dicas-outros-pacotes-gráficos"><i class="fa fa-check"></i><b>7.4.8</b> Dicas outros pacotes gráficos<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html"><i class="fa fa-check"></i><b>8</b> Análise Textual (<em>text mining</em>)<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#introdução"><i class="fa fa-check"></i><b>8.1</b> Introdução<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagens-saco-de-palavras-bag-of-words-e-análise-semântica-semantic-parsing"><i class="fa fa-check"></i><b>8.2</b> Abordagens: saco de palavras (<em>bag of words</em>) e análise semântica (<em>semantic parsing</em>)<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagem-bag-of-words"><i class="fa fa-check"></i><b>8.3</b> Abordagem <em>Bag of words</em><span></span></a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#frequência-de-palavrastermos-e-ngrams"><i class="fa fa-check"></i><b>8.3.1</b> Frequência de palavras/termos e Ngrams<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stopwords"><i class="fa fa-check"></i><b>8.4</b> Remoção de palavra vazia (<em>stopwords</em>)<span></span></a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#criando-lista-com-stopwords"><i class="fa fa-check"></i><b>8.4.1</b> Criando lista com stopwords<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#estemização-stemming-e-lematização"><i class="fa fa-check"></i><b>8.5</b> Estemização (<em>stemming</em>) e lematização<span></span></a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stemming"><i class="fa fa-check"></i><b>8.5.1</b> Estemização<span></span></a></li>
<li class="chapter" data-level="8.5.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#lemma"><i class="fa fa-check"></i><b>8.5.2</b> Lematização<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#wordcloud"><i class="fa fa-check"></i><b>8.6</b> Nuvem de palavras<span></span></a></li>
<li class="chapter" data-level="8.7" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#kwic"><i class="fa fa-check"></i><b>8.7</b> Palavras em contexto (<em>keyword-in-context KWIC</em>)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html"><i class="fa fa-check"></i><b>9</b> Text mining: Semantic Parsing<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#pos---part-of-speech-tagging"><i class="fa fa-check"></i><b>9.1</b> POS - Part-of-speech tagging<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#udpipe"><i class="fa fa-check"></i><b>9.2</b> Pacote UDPipe<span></span></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#coocorrência-de-palavras"><i class="fa fa-check"></i><b>9.2.1</b> Coocorrência de palavras<span></span></a></li>
<li class="chapter" data-level="9.2.2" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#rede-de-palavras-wordnet"><i class="fa fa-check"></i><b>9.2.2</b> Rede de palavras (<em>wordnet</em>)<span></span></a></li>
<li class="chapter" data-level="9.2.3" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#análise-de-semelhanças"><i class="fa fa-check"></i><b>9.2.3</b> Análise de semelhanças<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#distância"><i class="fa fa-check"></i><b>9.3</b> Distância<span></span></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#cosine"><i class="fa fa-check"></i><b>9.3.1</b> Cosine Cosseno<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html"><i class="fa fa-check"></i><b>10</b> Análise de Redes Sociais<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#o-pacote-igraph"><i class="fa fa-check"></i><b>10.1</b> O pacote Igraph<span></span></a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#clusterização"><i class="fa fa-check"></i><b>10.1.1</b> Clusterização<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#os-pacotes-ggraph-e-tidygraph-.-construindo-grafos-com-o-tidyverse."><i class="fa fa-check"></i><b>10.2</b> Os pacotes <code>ggraph</code> e <code>tidygraph</code> . Construindo grafos com o <code>tidyverse</code>.<span></span></a></li>
<li class="chapter" data-level="10.3" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-palavras"><i class="fa fa-check"></i><b>10.3</b> Redes de palavras<span></span></a></li>
<li class="chapter" data-level="10.4" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-citação"><i class="fa fa-check"></i><b>10.4</b> Redes de citação<span></span></a></li>
<li class="chapter" data-level="10.5" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#gráfico-de-centralidade"><i class="fa fa-check"></i><b>10.5</b> Gráfico de centralidade<span></span></a></li>
<li class="chapter" data-level="10.6" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#comunidades"><i class="fa fa-check"></i><b>10.6</b> Comunidades<span></span></a></li>
<li class="chapter" data-level="10.7" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#SugestaoLinksredes"><i class="fa fa-check"></i><b>10.7</b> Sugestões de links<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="links-úteis.html"><a href="links-úteis.html"><i class="fa fa-check"></i><b>11</b> Links úteis<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="links-úteis.html"><a href="links-úteis.html#humanidades-digitais"><i class="fa fa-check"></i><b>11.1</b> Humanidades digitais<span></span></a></li>
<li class="chapter" data-level="11.2" data-path="links-úteis.html"><a href="links-úteis.html#análise-de-redes-sociais-1"><i class="fa fa-check"></i><b>11.2</b> Análise de redes sociais<span></span></a></li>
<li class="chapter" data-level="11.3" data-path="links-úteis.html"><a href="links-úteis.html#textos-sobre-análise-textual"><i class="fa fa-check"></i><b>11.3</b> Textos sobre análise textual<span></span></a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="links-úteis.html"><a href="links-úteis.html#sociologia-digital-sociologia-computacional"><i class="fa fa-check"></i><b>11.3.1</b> Sociologia Digital / Sociologia Computacional<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="links-úteis.html"><a href="links-úteis.html#processamento-linguagem-natural-pln-ou-nlp"><i class="fa fa-check"></i><b>11.4</b> Processamento Linguagem Natural (PLN ou NLP)<span></span></a></li>
<li class="chapter" data-level="11.5" data-path="links-úteis.html"><a href="links-úteis.html#revistas-journals-acadêmicos"><i class="fa fa-check"></i><b>11.5</b> Revistas / Journals acadêmicos<span></span></a></li>
<li class="chapter" data-level="11.6" data-path="links-úteis.html"><a href="links-úteis.html#dados-abertos"><i class="fa fa-check"></i><b>11.6</b> Dados Abertos<span></span></a></li>
<li class="chapter" data-level="11.7" data-path="links-úteis.html"><a href="links-úteis.html#vídeos"><i class="fa fa-check"></i><b>11.7</b> Vídeos<span></span></a></li>
<li class="chapter" data-level="11.8" data-path="links-úteis.html"><a href="links-úteis.html#sites-blogs"><i class="fa fa-check"></i><b>11.8</b> Sites / Blogs<span></span></a></li>
<li class="chapter" data-level="11.9" data-path="links-úteis.html"><a href="links-úteis.html#organizações"><i class="fa fa-check"></i><b>11.9</b> Organizações<span></span></a></li>
<li class="chapter" data-level="11.10" data-path="links-úteis.html"><a href="links-úteis.html#podcasts-relacionados-à-digital-humanities"><i class="fa fa-check"></i><b>11.10</b> Podcasts relacionados à Digital Humanities<span></span></a></li>
<li class="chapter" data-level="11.11" data-path="links-úteis.html"><a href="links-úteis.html#links-programação"><i class="fa fa-check"></i><b>11.11</b> Links Programação<span></span></a>
<ul>
<li class="chapter" data-level="11.11.1" data-path="links-úteis.html"><a href="links-úteis.html#r-introdução"><i class="fa fa-check"></i><b>11.11.1</b> R introdução<span></span></a></li>
<li class="chapter" data-level="11.11.2" data-path="links-úteis.html"><a href="links-úteis.html#r-e-estatística"><i class="fa fa-check"></i><b>11.11.2</b> R e estatística<span></span></a></li>
<li class="chapter" data-level="11.11.3" data-path="links-úteis.html"><a href="links-úteis.html#r---tópicos-específicos"><i class="fa fa-check"></i><b>11.11.3</b> R - tópicos específicos<span></span></a></li>
<li class="chapter" data-level="11.11.4" data-path="links-úteis.html"><a href="links-úteis.html#r---avançado"><i class="fa fa-check"></i><b>11.11.4</b> R - avançado<span></span></a></li>
<li class="chapter" data-level="11.11.5" data-path="links-úteis.html"><a href="links-úteis.html#links-python"><i class="fa fa-check"></i><b>11.11.5</b> Links Python<span></span></a></li>
<li class="chapter" data-level="11.11.6" data-path="links-úteis.html"><a href="links-úteis.html#python---tópicos-específicos"><i class="fa fa-check"></i><b>11.11.6</b> Python - tópicos específicos<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.12" data-path="links-úteis.html"><a href="links-úteis.html#links-de-cursos-online"><i class="fa fa-check"></i><b>11.12</b> Links de Cursos Online<span></span></a></li>
<li class="chapter" data-level="11.13" data-path="links-úteis.html"><a href="links-úteis.html#grupos-de-discussãoforum"><i class="fa fa-check"></i><b>11.13</b> Grupos de discussão/Forum<span></span></a>
<ul>
<li class="chapter" data-level="11.13.1" data-path="links-úteis.html"><a href="links-úteis.html#telegram"><i class="fa fa-check"></i><b>11.13.1</b> Telegram<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.14" data-path="links-úteis.html"><a href="links-úteis.html#links-de-folhas-de-dicas-cheat-sheets"><i class="fa fa-check"></i><b>11.14</b> Links de folhas de dicas (<em>Cheat-sheets</em>)<span></span></a></li>
<li class="chapter" data-level="11.15" data-path="links-úteis.html"><a href="links-úteis.html#tm_datasets"><i class="fa fa-check"></i><b>11.15</b> Alguns datasets/databases para análise textual<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Análise Textual aplicada à Sociologia</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="análise-textual-text-mining" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">8</span> Análise Textual (<em>text mining</em>)<a href="análise-textual-text-mining.html#análise-textual-text-mining" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!-- Conteúdo planejado: -->
<!-- - Introdução à análise textual via computador -->
<!-- - Tipos de abordagens: bag of words, semantic parsing. -->
<!-- - Frequência de termos (bag of words, n-grams, skipgrams, TF-IDF) -->
<!-- - nuvem de palavras (_wordclouds_), Polarized tag cloud, pyramid plot (em expansão). -->
<!-- - Correlação de palavras, tipos de distâncias, dendogramas -->
<!-- - parts-of-speech tagging -->
<!-- - keyword extraction (em expansão) -->
<!-- - redes de palavras (_word networks_) -->
<!-- - Inteligência Artificial: clusterização; topic modelling -->
<!-- - Análise de sentimentos. -->
<p><strong>Orientações para ler este capítulo:</strong> Em vários dos códigos aqui presentes, usaremos a notação <code>pacote::função</code>, que dispensa carregar o pacote previamente. Apesar de desnecessária caso o pacote seja carregado anteriormente, ele facilitar saber qual função de que pacote está sendo usada, além de desambiguar, uma vez que há funções de nome idêntico em pacotes diferentes.
Assim, sempre confira se o pacote utilizado no exemplo já está instalado em sua máquina. No Rstudio, basta ir à aba “packages” e fazer a busca na lupa para conferir. Se preferir usar o console do R, use o comando <code>installed.packages()[,1]</code> para listar todos os pacotes instalados, e <code>grep("dplyr", installed.packages()[,1], value=T)</code> para checar se um pacote (no caso, o dplyr) está instalado.</p>
<p>Há também uma listagem com <a href="links-úteis.html#tm_datasets">datasets</a> para usar na análise textual, algumas inclusive já no formato R.</p>
<div id="introdução" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Introdução<a href="análise-textual-text-mining.html#introdução" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A análise computacional de textos é praticamente um sinônimo de Mineração de Texto (<em>text mining</em>) e tem muito em comum com o campo de Processamento de Língua Natural ou Processamento de Linguagem Natural, mas não são exatamente a mesma coisa. Como vimos no capítulo sobre história da análise textual, esta existia antes antes da inteligência artifical e mesmo dos computadores.
Há diversas funções nativas do R que usamos na mineração de texto/análise textual, mas também há diversas suítes de pacotes (pacotes com vários pacotes, com várias funções) focados em análise textual com diversas ferramentas, como o
<a href="https://www.tidytextmining.com/tidytext.html">tidytext</a>,
<a href="https://cran.r-project.org/web/packages/quanteda/index.html">quanteda (QUantitative ANalysis TExtual DAta)</a>,
<!-- [Rweka]( https://cran.r-project.org/web/packages/RWeka/index.html ) -->
<a href="https://cran.r-project.org/web/packages/openNLP/index.html">OpenNLP</a>, <a href="https://cran.r-project.org/web/packages/RWeka/index.html">Rweka</a>,
<a href="https://cran.r-project.org/web/packages/languageR/index.html">languageR</a>,
<a href="https://cran.r-project.org/web/packages/koRpus/index.html">koRpus</a>,
<a href="https://cran.r-project.org/web/packages/RcmdrPlugin.temis/index.html">RcmdrPlugin.temis</a>, <a href="https://cran.r-project.org/web/packages/RWeka/index.html">RKEA (R Keyphrase Extraction Algorithm)</a>,
<a href="https://cran.r-project.org/web/packages/tm/tm.pdf">tm (Text Mining Package)</a> e
<a href="https://www.rdocumentation.org/packages/qdap/">qdap (Quantitative Discourse Analysis Package)</a>.
Estas são algumas das mais famosas suítes de pacotes, com diversas ferramentas, mas há alguns outros pacotes focados em funções mais específicas, como o pacote <a href="https://cran.r-project.org/web/packages/wordcloud/index.html">wordcloud</a>,
<a href="https://lepennec.github.io/ggwordcloud/">ggwordcloud</a> (nuvem de palavras para o ggplot2, com mais opções), por exemplo.
Há redundância entre estes pacotes, isto é, eles tem funções próprias muito semalhantes às funções de outros pacotes, o que não quer dizer que não existam diferenças significativas.
<!-- O pacote quanteda acompanha outros pacotes, como o quanteda.textstats, quanteda.textplots e o quanteda.textmodels que aconselhamos instalar também. --></p>
<p>Há também pacotes em R para análise textual em modo gráfico.
Um software bem conhecido de análise textual e que possui interface gráfica é o <a href="http://www.iramuteq.org/">iramuteq</a> (Interface de R pour les Analyses Multidimensionnelles de Textes et de Questionnaires), criado em 2009 por Pierre Ratinaud. Apesar de ainda ser bastante utilizado, o Iramuteq tem diversas limitações.
Vimos um pouco sobre o <a href="introdução-ao-r.html#rcommander">RCommander</a>. Há um plugin para ele dedicado à análise textual, o <a href="https://cran.r-project.org/web/packages/RcmdrPlugin.temis/index.html">RcmdrPlugin.temis</a>. Porém, sua última atualização ocorreu em 2018.</p>
<div class="infobox note">
<p><strong>Dicas</strong></p>
<ul>
<li>lista com <a href="https://cran.r-project.org/web/views/NaturalLanguageProcessing.html">diversos pacotes R, relacionados à Processamento de Linguagem Natural</a>. Lista extensa, porém desatualizada.</li>
</ul>
</div>
</div>
<div id="abordagens-saco-de-palavras-bag-of-words-e-análise-semântica-semantic-parsing" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Abordagens: saco de palavras (<em>bag of words</em>) e análise semântica (<em>semantic parsing</em>)<a href="análise-textual-text-mining.html#abordagens-saco-de-palavras-bag-of-words-e-análise-semântica-semantic-parsing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Na análise textual podemos analisar levando ou não em consideração a ordem das palavras ou sua função gramatical.
Se o ordenamento ou a função das palavras não é importante, e queremos saber, por exemplo, apenas a frequência de termos, então faremos uma abordagem tipo “saco de palavras” (<em>bag of words</em>).
Se precisamos saber as classes gramaticais, então a ordem das palavras é importante.
<!-- In semantic parsing you care about word type and order. -->
Vamos começar os exemplos com um pacote que pega dados do Google Ngram e nos retorna frequência de termos longitudinalmente, com base de dados do Google Books.</p>
<!-- "Oportunidade? Fulano de Tal perdeu uma boa oportunidade" -->
<!-- noun phrase -- fulano de tal -->
<!-- verb frase-- perdeu uma boa oportunidade -->
<!-- named entity -- Fulano de tal; verbo: perdeu; artigo: uma; adjetivo: boa; substantivo: oportunidade. -->
</div>
<div id="abordagem-bag-of-words" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Abordagem <em>Bag of words</em><a href="análise-textual-text-mining.html#abordagem-bag-of-words" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Na abordagem de “saco de palavras” (<em>bag of words</em>) a ordem dos termos não importa, bem como geralmente não importa a sua classe gramatical.</p>
<div id="frequência-de-palavrastermos-e-ngrams" class="section level3 hasAnchor" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> Frequência de palavras/termos e Ngrams<a href="análise-textual-text-mining.html#frequência-de-palavrastermos-e-ngrams" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Numa abordagem do tipo saco-de-palavras, a abordagem mais simples, mas sempre útil, é verificar a frequência de certos termos.
Apesar de simples, análises mais sofisticadas podem começar com a análise de frequência e partir para abordagens mais sofisticadas.</p>
<ul>
<li>aprendizado instrumental de uma língua, ao identificar as palavras mais frequentes em certa área do conhecimento.</li>
<li>detecção de língua</li>
<li>detecção de termos mais frequentes em uma busca</li>
<li>identificação de palavras compostas</li>
</ul>
<div id="ngram" class="section level4 hasAnchor" number="8.3.1.1">
<h4><span class="header-section-number">8.3.1.1</span> n-gram: explicando o conceito<a href="análise-textual-text-mining.html#ngram" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Se partirmos do exemplo da frase “Ivo viu a uva” teremos</p>
<table>
<tbody>
<tr class="odd">
<td>unigram</td>
<td>N=1</td>
<td>“a” “viu” “Ivo” “uva”</td>
</tr>
<tr class="even">
<td>bigrams</td>
<td>N=2</td>
<td>“a uva” “Ivo viu” “viu a”</td>
</tr>
<tr class="odd">
<td>trigrams</td>
<td>N=3</td>
<td>“Ivo viu a” “viu a uva”</td>
</tr>
<tr class="even">
<td>ngram=4</td>
<td>N=4</td>
<td>“Ivo viu a uva”</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>Quando o N passa de 3, chamamos de ngram e seu valor. Agora um exemplo com o R. Primeiro veremos exemplos com o Google Ngram, que é mais simples, e depois montaremos nosso próprio ngram.</p>
</div>
<div id="ngramr" class="section level4 hasAnchor" number="8.3.1.2">
<h4><span class="header-section-number">8.3.1.2</span> GoogleNgrams<a href="análise-textual-text-mining.html#ngramr" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A Google pegou sua enorme base de dados dos milhares de livros do Google Books e extraiu os termos mais frequentes, e os colocou disponível para consulta no site <a href="https://books.google.com/ngrams">Goolge Books Ngram Viewer</a>.
O Google Ngrams facilitou a busca por ngrams nesta base de dados, naquilo que chamavam de “<a href="http://www.culturomics.org/">culturonomics</a>”. O nome não pegou, a ferramenta tem suas limitações, mas ainda assim pode ser bem útil. A base de dados possui 5.2 milhões de livros, cerca de 4% de todos os livros já publicados.
Para mais informações sobre a <a href="http://www.culturomics.org/Resources/A-users-guide-to-culturomics">base de dados</a> e sobre o GoogleNgram <a href="https://books.google.com/ngrams/info">no site</a>. Tanto o Python (com o <a href="http://www.culturomics.org/Resources/get-ngrams">get-ngrams</a>) como o R (<a href="https://github.com/seancarmody/ngramr">ngramr</a>) possuem pacotes que usam os dados do Google Ngram.</p>
<p>Instalando o pacote ngramr</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="análise-textual-text-mining.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;ngramr&#39;</span>)</span></code></pre></div>
<p>Carregando os pacote</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="análise-textual-text-mining.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ngramr)</span></code></pre></div>
<p>E um exemplo de uso</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="análise-textual-text-mining.html#cb135-1" aria-hidden="true" tabindex="-1"></a>ng  <span class="ot">&lt;-</span> ngramr<span class="sc">::</span><span class="fu">ngram</span>(<span class="fu">c</span>(<span class="st">&quot;Max Weber&quot;</span>, <span class="st">&quot;Émile Durkheim&quot;</span>), <span class="at">year_start =</span> <span class="dv">1890</span>)</span>
<span id="cb135-2"><a href="análise-textual-text-mining.html#cb135-2" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(ng, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>Frequency, <span class="at">colour=</span>Phrase)) <span class="sc">+</span></span>
<span id="cb135-3"><a href="análise-textual-text-mining.html#cb135-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/unnamed-chunk-127-1.png" width="672" /></p>
<p>Um exemplo da <a href="https://github.com/seancarmody/ngramr">página do ngramr no Github</a> com mais opções, usando a função <a href="https://www.rdocumentation.org/packages/ngramr/versions/1.7.4/topics/ggram"><code>ggram()</code></a> no ngramr, que pega dados do GoogleNgram e plota os dados com o ggplot2:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="análise-textual-text-mining.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggram</span>(<span class="fu">c</span>(<span class="st">&quot;monarchy&quot;</span>, <span class="st">&quot;democracy&quot;</span>), <span class="at">year_start =</span> <span class="dv">1500</span>, <span class="at">year_end =</span> <span class="dv">2000</span>, </span>
<span id="cb136-2"><a href="análise-textual-text-mining.html#cb136-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">corpus =</span> <span class="st">&quot;eng_gb_2012&quot;</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>, </span>
<span id="cb136-3"><a href="análise-textual-text-mining.html#cb136-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">geom =</span> <span class="st">&quot;area&quot;</span>, <span class="at">geom_options =</span> <span class="fu">list</span>(<span class="at">position =</span> <span class="st">&quot;stack&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb136-4"><a href="análise-textual-text-mining.html#cb136-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/unnamed-chunk-128-1.png" width="672" /></p>
<p>É possível mudar entre diferentes corpus, que neste caso representam as diferentes línguas, como “eng_us_2019”, “eng_gb_2019”, “chi_sim_2019”, “fre_2019”, “ger_2019”, “heb_2019”, “ger_2012”, “spa_2012”, “rus_2012”, “ita_2012”.
Para ver todos os corpus disponíveis <a href="https://books.google.com/ngrams/info#">veja no site</a> busque a sessão “Corpora”. Infelizmente, não há corpus em português no Google Ngram.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="análise-textual-text-mining.html#cb137-1" aria-hidden="true" tabindex="-1"></a>classicos <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Max Weber&quot;</span>, <span class="st">&quot;Émile Durkheim&quot;</span>, <span class="st">&quot;Karl Marx&quot;</span>, <span class="st">&quot;Gabriel Tarde&quot;</span>, <span class="st">&quot;Georg Simmel&quot;</span>)</span>
<span id="cb137-2"><a href="análise-textual-text-mining.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggram</span>(classicos, <span class="at">year_start =</span> <span class="dv">1980</span>, <span class="at">year_end =</span> <span class="dv">2000</span>,</span>
<span id="cb137-3"><a href="análise-textual-text-mining.html#cb137-3" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Para mudar lingua, mude o corpus</span></span>
<span id="cb137-4"><a href="análise-textual-text-mining.html#cb137-4" aria-hidden="true" tabindex="-1"></a>      <span class="co"># ignore case: se diferencia maiúsculo de minúsculo</span></span>
<span id="cb137-5"><a href="análise-textual-text-mining.html#cb137-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">corpus =</span> <span class="st">&quot;fre_2019&quot;</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>,</span>
<span id="cb137-6"><a href="análise-textual-text-mining.html#cb137-6" aria-hidden="true" tabindex="-1"></a>      <span class="co"># tipo de grafico em geom</span></span>
<span id="cb137-7"><a href="análise-textual-text-mining.html#cb137-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">geom =</span> <span class="st">&quot;line&quot;</span>, <span class="at">geom_options =</span> <span class="fu">list</span>()) <span class="sc">+</span></span>
<span id="cb137-8"><a href="análise-textual-text-mining.html#cb137-8" aria-hidden="true" tabindex="-1"></a>      <span class="co"># labs: label do eixo y</span></span>
<span id="cb137-9"><a href="análise-textual-text-mining.html#cb137-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>) </span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/unnamed-chunk-129-1.png" width="672" /></p>
<div class="infobox note">
<p><strong>Dicas Ngramr:</strong></p>
<ul>
<li>Site do <a href="https://books.google.com/ngrams/info">Books Ngram Viewer</a> explicando seus parâmetros.</li>
<li><a href="https://cran.r-project.org/web//packages/ngramr/ngramr.pdf">PDF com a documentação do ngramr</a></li>
<li>Instalação/Primeiros passos com o Ngramr <a href="https://github.com/seancarmody/ngramr">na página do Github do ngramr</a></li>
<li>Um projeto similar ao Google Ngram - inclusive usando parte do mesmo pessoal -, porém melhorado, é o <a href="https://bookworm.htrc.illinois.edu/develop/">bookworm:HalthiTrust</a> do projeto <a href="https://www.hathitrust.org/">Halthi Trust-Digital Livrary</a>, com muito mais línguas, inclusive o português e mais opções de busca.
<ul>
<li>Há uma API dedicada ao HalthiTrust, podendo baixar as bases de dados direto do R, o <a href="https://xmarquez.github.io/hathiTools/">hathiTools</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="ngram" class="section level4 hasAnchor" number="8.3.1.3">
<h4><span class="header-section-number">8.3.1.3</span> N-grams no R<a href="análise-textual-text-mining.html#ngram" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="análise-textual-text-mining.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ngram)</span>
<span id="cb138-2"><a href="análise-textual-text-mining.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb138-3"><a href="análise-textual-text-mining.html#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Attaching package: &#39;ngram&#39;</span></span>
<span id="cb138-4"><a href="análise-textual-text-mining.html#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="do">## The following object is masked from &#39;package:ngramr&#39;:</span></span>
<span id="cb138-5"><a href="análise-textual-text-mining.html#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb138-6"><a href="análise-textual-text-mining.html#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="do">##     ngram</span></span></code></pre></div>
<p>Vamos pegar um trecho de Alfred Shutz.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="análise-textual-text-mining.html#cb139-1" aria-hidden="true" tabindex="-1"></a>txt<span class="ot">=</span><span class="st">&quot;A Fenomenologia busca o início real de todo pensamento filosófico... Seu lugar é além - ou melhor, antes - de todas as distinções entre realismo e idealismo.&quot;</span></span></code></pre></div>
<p>Vamos quebrar o texto em ngrams. Geralmente usa-se valores entre 1 e 3.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="análise-textual-text-mining.html#cb140-1" aria-hidden="true" tabindex="-1"></a>ng <span class="ot">&lt;-</span> ngram<span class="sc">::</span><span class="fu">ngram</span>(txt,</span>
<span id="cb140-2"><a href="análise-textual-text-mining.html#cb140-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># n = valor do ngram</span></span>
<span id="cb140-3"><a href="análise-textual-text-mining.html#cb140-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">n=</span><span class="dv">3</span>)</span>
<span id="cb140-4"><a href="análise-textual-text-mining.html#cb140-4" aria-hidden="true" tabindex="-1"></a><span class="co"># imprimindo o objeto que criamos, que mostra o total de ngrams</span></span>
<span id="cb140-5"><a href="análise-textual-text-mining.html#cb140-5" aria-hidden="true" tabindex="-1"></a>ng</span>
<span id="cb140-6"><a href="análise-textual-text-mining.html#cb140-6" aria-hidden="true" tabindex="-1"></a><span class="do">## An ngram object with 25 3-grams</span></span>
<span id="cb140-7"><a href="análise-textual-text-mining.html#cb140-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-8"><a href="análise-textual-text-mining.html#cb140-8" aria-hidden="true" tabindex="-1"></a><span class="co"># imprimindo os ngrams gerados.</span></span>
<span id="cb140-9"><a href="análise-textual-text-mining.html#cb140-9" aria-hidden="true" tabindex="-1"></a>ngram<span class="sc">::</span><span class="fu">get.ngrams</span>(ng)</span>
<span id="cb140-10"><a href="análise-textual-text-mining.html#cb140-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;além - ou&quot;                     &quot;início real de&quot;               </span></span>
<span id="cb140-11"><a href="análise-textual-text-mining.html#cb140-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  [3] &quot;- de todas&quot;                    &quot;antes - de&quot;                   </span></span>
<span id="cb140-12"><a href="análise-textual-text-mining.html#cb140-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;busca o início&quot;                &quot;entre realismo e&quot;             </span></span>
<span id="cb140-13"><a href="análise-textual-text-mining.html#cb140-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] &quot;o início real&quot;                 &quot;A Fenomenologia busca&quot;        </span></span>
<span id="cb140-14"><a href="análise-textual-text-mining.html#cb140-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;distinções entre realismo&quot;     &quot;lugar é além&quot;                 </span></span>
<span id="cb140-15"><a href="análise-textual-text-mining.html#cb140-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;as distinções entre&quot;           &quot;de todo pensamento&quot;           </span></span>
<span id="cb140-16"><a href="análise-textual-text-mining.html#cb140-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;filosófico... Seu lugar&quot;       &quot;é além -&quot;                     </span></span>
<span id="cb140-17"><a href="análise-textual-text-mining.html#cb140-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [15] &quot;- ou melhor,&quot;                  &quot;de todas as&quot;                  </span></span>
<span id="cb140-18"><a href="análise-textual-text-mining.html#cb140-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;Fenomenologia busca o&quot;         &quot;melhor, antes -&quot;              </span></span>
<span id="cb140-19"><a href="análise-textual-text-mining.html#cb140-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [19] &quot;todo pensamento filosófico...&quot; &quot;todas as distinções&quot;          </span></span>
<span id="cb140-20"><a href="análise-textual-text-mining.html#cb140-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;ou melhor, antes&quot;              &quot;realismo e idealismo.&quot;        </span></span>
<span id="cb140-21"><a href="análise-textual-text-mining.html#cb140-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [23] &quot;real de todo&quot;                  &quot;Seu lugar é&quot;                  </span></span>
<span id="cb140-22"><a href="análise-textual-text-mining.html#cb140-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;pensamento filosófico... Seu&quot;</span></span></code></pre></div>
<p>Diversos outros pacotes::funções fazem a quebra em ngrams, como <code>RWeka::NGramTokenizer</code> ou o quanteda.
A função de ngram do quanteda tem a vantagem de poder definir um escopo de valores de ngram de uma vez, podendo gerar unigramas, bigramas e trigramas com um só comando. Em outros pacotes isto é possível apenas com pós processamento.</p>
<p>A quebra do texto em ngrams faz mais sentido quando, com eles, observamos os termos mais repetidos. Isso é o que vamos fazer a seguir.
Num exemplo mais prático, fomos até o <a href="https://www.gutenberg.org/">site gutenberg</a> (site com vários livros gratuitos) e pegamos o link para o txt do livro “O Príncipe” de Maquiavel, em inglês.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="análise-textual-text-mining.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># link para o livro &quot;The Prince&quot; de Maquiavel.</span></span>
<span id="cb141-2"><a href="análise-textual-text-mining.html#cb141-2" aria-hidden="true" tabindex="-1"></a>url.prince <span class="ot">=</span> <span class="st">&quot;https://www.gutenberg.org/files/1232/1232-0.txt&quot;</span></span>
<span id="cb141-3"><a href="análise-textual-text-mining.html#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="co"># carregando o url num objeto R</span></span>
<span id="cb141-4"><a href="análise-textual-text-mining.html#cb141-4" aria-hidden="true" tabindex="-1"></a>maquiavel <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="fu">url</span>(url.prince))</span></code></pre></div>
<p>Observando a estrutura do objeto “maquiavel” que acabamos de criar:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="análise-textual-text-mining.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Como o objeto importado está como um vetor com vários elementos:</span></span>
<span id="cb142-2"><a href="análise-textual-text-mining.html#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(maquiavel)</span>
<span id="cb142-3"><a href="análise-textual-text-mining.html#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  chr [1:5188] &quot;The Project Gutenberg eBook of The Prince, by Nicolo Machiavelli&quot; ...</span></span>
<span id="cb142-4"><a href="análise-textual-text-mining.html#cb142-4" aria-hidden="true" tabindex="-1"></a><span class="co"># vemos que é um vetor com 5.188 itens. Precisamos transformar estes vários vetores em um só elemento com o comando</span></span>
<span id="cb142-5"><a href="análise-textual-text-mining.html#cb142-5" aria-hidden="true" tabindex="-1"></a><span class="co"># paste0(var, collapse = &quot; &quot;)</span></span>
<span id="cb142-6"><a href="análise-textual-text-mining.html#cb142-6" aria-hidden="true" tabindex="-1"></a>maquiavel2 <span class="ot">&lt;-</span> <span class="fu">paste</span>(maquiavel, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<!-- Vamos pegar a frequência de termos. Um modo comum de contar termos repetidos em um vetor é usando o `table()`. Outro método é utilizar o `plyr::count()` que entrega os termos e suas frequências, porém em formato de dataframe. -->
<p>Por hora, usaremos o pacote tradicional <a href="https://cran.r-project.org/web/packages/ngram/index.html">ngram</a>, escrito em C, e por isso, rápido.
Podemos fazer a sumarização (<em>summarizing</em>) obtendo a frequência de vezes que um ngram apareceu no texto, bem como também a frequência relativa (proporcional) com a função <code>ngram:: get.phrasetable</code>, que retorna um data frame. Rode o ngram com diferentes valores para ver qual deles ertorna resultados mais informativos do conteúdo.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="análise-textual-text-mining.html#cb143-1" aria-hidden="true" tabindex="-1"></a>prince_ngrams <span class="ot">&lt;-</span> ngram<span class="sc">::</span><span class="fu">get.phrasetable</span>(ngram<span class="sc">::</span><span class="fu">ngram</span>(maquiavel2, <span class="at">n =</span> <span class="dv">3</span>)) </span>
<span id="cb143-2"><a href="análise-textual-text-mining.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="co"># restringindo aos trigramas mais frequentes</span></span>
<span id="cb143-3"><a href="análise-textual-text-mining.html#cb143-3" aria-hidden="true" tabindex="-1"></a>prince_ngrams[<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>,]</span>
<span id="cb143-4"><a href="análise-textual-text-mining.html#cb143-4" aria-hidden="true" tabindex="-1"></a><span class="do">##                              ngrams freq         prop</span></span>
<span id="cb143-5"><a href="análise-textual-text-mining.html#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1                       he did not    20 0.0003770526</span></span>
<span id="cb143-6"><a href="análise-textual-text-mining.html#cb143-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2                  it is necessary    20 0.0003770526</span></span>
<span id="cb143-7"><a href="análise-textual-text-mining.html#cb143-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3                      in order to    19 0.0003582000</span></span>
<span id="cb143-8"><a href="análise-textual-text-mining.html#cb143-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4                      the King of    19 0.0003582000</span></span>
<span id="cb143-9"><a href="análise-textual-text-mining.html#cb143-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 5  Project Gutenberg-tm electronic    18 0.0003393473</span></span>
<span id="cb143-10"><a href="análise-textual-text-mining.html#cb143-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 6                      ought to be    18 0.0003393473</span></span>
<span id="cb143-11"><a href="análise-textual-text-mining.html#cb143-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 7                        in such a    18 0.0003393473</span></span>
<span id="cb143-12"><a href="análise-textual-text-mining.html#cb143-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 8                  prince ought to    18 0.0003393473</span></span>
<span id="cb143-13"><a href="análise-textual-text-mining.html#cb143-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 9                         so as to    17 0.0003204947</span></span>
<span id="cb143-14"><a href="análise-textual-text-mining.html#cb143-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 10                     that it was    15 0.0002827894</span></span>
<span id="cb143-15"><a href="análise-textual-text-mining.html#cb143-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 11                  those who have    15 0.0002827894</span></span>
<span id="cb143-16"><a href="análise-textual-text-mining.html#cb143-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 12                       if he had    15 0.0002827894</span></span>
<span id="cb143-17"><a href="análise-textual-text-mining.html#cb143-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 13                      for him to    14 0.0002639368</span></span>
<span id="cb143-18"><a href="análise-textual-text-mining.html#cb143-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 14           the Project Gutenberg    14 0.0002639368</span></span>
<span id="cb143-19"><a href="análise-textual-text-mining.html#cb143-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 15                      such a way    14 0.0002639368</span></span>
<span id="cb143-20"><a href="análise-textual-text-mining.html#cb143-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 16                    the death of    13 0.0002450842</span></span></code></pre></div>
<!-- PENDENTE: fazer um ggplot disso, para mostrar importância das stopwords, antes de entrar em wordcloud -->
<div class="infobox note">
<p><strong>Dicas</strong></p>
<p><strong>Sugestão de leitura</strong></p>
<ul>
<li>JURAFSKY, Dan.; MARTIN, James H. cap.3 <a href="https://web.stanford.edu/~jurafsky/slp3/3.pdf">N-gram Language Models</a> de Speech and Language Processing - An Introduction to Natural Language Processing, Computational Linguistics, and Speech Recognition. 3ª Edição. 2020.</li>
<li>Manual do pacote <a href="https://cran.r-project.org/web/packages/ngram/vignettes/ngram-guide.pdf">ngram</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="stopwords" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Remoção de palavra vazia (<em>stopwords</em>)<a href="análise-textual-text-mining.html#stopwords" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="criando-lista-com-stopwords" class="section level3 hasAnchor" number="8.4.1">
<h3><span class="header-section-number">8.4.1</span> Criando lista com stopwords<a href="análise-textual-text-mining.html#criando-lista-com-stopwords" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ao analisarmos texto, o mais frequente são palavras bem pouco informativas, como artigos “o”, “a” “os”, “as”. Para termos uma noção melhor removemos as chamadas “stopwords”.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="análise-textual-text-mining.html#cb144-1" aria-hidden="true" tabindex="-1"></a>manifesto <span class="ot">&lt;-</span> <span class="st">&quot;A História de toda a sociedade até hoje é a história da luta de classes.&quot;</span></span>
<span id="cb144-2"><a href="análise-textual-text-mining.html#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="co"># criamos uma pequena lista de stopwords para nosso exemplo atual</span></span>
<span id="cb144-3"><a href="análise-textual-text-mining.html#cb144-3" aria-hidden="true" tabindex="-1"></a>minhas_sw <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;o&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;da&quot;</span>, <span class="st">&quot;de&quot;</span>, <span class="st">&quot;do&quot;</span>)</span>
<span id="cb144-4"><a href="análise-textual-text-mining.html#cb144-4" aria-hidden="true" tabindex="-1"></a><span class="co"># transformando o texto em vetor</span></span>
<span id="cb144-5"><a href="análise-textual-text-mining.html#cb144-5" aria-hidden="true" tabindex="-1"></a>manif_vetor <span class="ot">&lt;-</span> manifesto <span class="sc">%&gt;%</span> </span>
<span id="cb144-6"><a href="análise-textual-text-mining.html#cb144-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># convertendo o texto todo para minúsculo</span></span>
<span id="cb144-7"><a href="análise-textual-text-mining.html#cb144-7" aria-hidden="true" tabindex="-1"></a>  tolower <span class="sc">%&gt;%</span> </span>
<span id="cb144-8"><a href="análise-textual-text-mining.html#cb144-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># quebrando o texto em vetores</span></span>
<span id="cb144-9"><a href="análise-textual-text-mining.html#cb144-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">strsplit</span>(., <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb144-10"><a href="análise-textual-text-mining.html#cb144-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># o comando strplit retorna lista. Vamos forçar para retornar como vetor char</span></span>
<span id="cb144-11"><a href="análise-textual-text-mining.html#cb144-11" aria-hidden="true" tabindex="-1"></a>  unlist</span>
<span id="cb144-12"><a href="análise-textual-text-mining.html#cb144-12" aria-hidden="true" tabindex="-1"></a>manif_vetor</span>
<span id="cb144-13"><a href="análise-textual-text-mining.html#cb144-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;a&quot;         &quot;história&quot;  &quot;de&quot;        &quot;toda&quot;      &quot;a&quot;         &quot;sociedade&quot;</span></span>
<span id="cb144-14"><a href="análise-textual-text-mining.html#cb144-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] &quot;até&quot;       &quot;hoje&quot;      &quot;é&quot;         &quot;a&quot;         &quot;história&quot;  &quot;da&quot;       </span></span>
<span id="cb144-15"><a href="análise-textual-text-mining.html#cb144-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;luta&quot;      &quot;de&quot;        &quot;classes.&quot;</span></span></code></pre></div>
<p>Por se tratar de vetor, podemos usar comando tradicionais, com os <a href="noções-básicas-de-programação-em-r.html#operadores">operadores</a> <code>!</code> que indica negação, e <code>%in%</code> que checa se algo está contido em um vetor.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="análise-textual-text-mining.html#cb145-1" aria-hidden="true" tabindex="-1"></a>manif_vetor[<span class="sc">!</span>(manif_vetor) <span class="sc">%in%</span> minhas_sw]</span>
<span id="cb145-2"><a href="análise-textual-text-mining.html#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;história&quot;  &quot;toda&quot;      &quot;sociedade&quot; &quot;até&quot;       &quot;hoje&quot;      &quot;é&quot;        </span></span>
<span id="cb145-3"><a href="análise-textual-text-mining.html#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [7] &quot;história&quot;  &quot;luta&quot;      &quot;classes.&quot;</span></span></code></pre></div>
<!-- # ou -->
<!-- dplyr::filter(!manif_vetor %in% minhas_sw) -->
<!-- https://stackoverflow.com/questions/43441884/removing-stop-words-with-tidytext -->
<!-- tidy_document <- tidy_document %>% anti_join(stop_words, by = c("word" = "word")) -->
<p>Explicando:</p>
<ul>
<li><code>(manif_vetor) %in% minhas_sw</code> checa se itens de “manif_vetor” estão contidos em “minhas_sw”. Retorna um booleanoo de “TRUE” e “FALSE”.</li>
<li><code>!</code> inverte o comando anterior, checando agora quais itens de “manif_vetor” não estão contidos em “minhas_sw”, também retornando um vetor com booleanos de “TRUE” e “FALSE”.</li>
<li>Para obter os valores (as palavras), jogamos esta fórmula anterior dentro de “manif_vetor[fórmula_anterior]”.
<!-- dplyr::anti_join(manif_vetor, minhas_sw) --></li>
</ul>
<p>As stopwords costumam ser as mesmas. E se já houvesse uma lista pronta? Existe. É possível encontrar listas prontas na internet, mas diversas funções no R já incluem em si tais listas.
Para ver a lista padrão no R, use:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="análise-textual-text-mining.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm, <span class="at">quietly =</span> T)</span></code></pre></div>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="análise-textual-text-mining.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pegando apenas as primeiras 20 stopwords em inglês</span></span>
<span id="cb147-2"><a href="análise-textual-text-mining.html#cb147-2" aria-hidden="true" tabindex="-1"></a>tm<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;en&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(.,<span class="dv">20</span>)</span>
<span id="cb147-3"><a href="análise-textual-text-mining.html#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;i&quot;          &quot;me&quot;         &quot;my&quot;         &quot;myself&quot;     &quot;we&quot;        </span></span>
<span id="cb147-4"><a href="análise-textual-text-mining.html#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  [6] &quot;our&quot;        &quot;ours&quot;       &quot;ourselves&quot;  &quot;you&quot;        &quot;your&quot;      </span></span>
<span id="cb147-5"><a href="análise-textual-text-mining.html#cb147-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;yours&quot;      &quot;yourself&quot;   &quot;yourselves&quot; &quot;he&quot;         &quot;him&quot;       </span></span>
<span id="cb147-6"><a href="análise-textual-text-mining.html#cb147-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [16] &quot;his&quot;        &quot;himself&quot;    &quot;she&quot;        &quot;her&quot;        &quot;hers&quot;</span></span>
<span id="cb147-7"><a href="análise-textual-text-mining.html#cb147-7" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo a lista em português</span></span>
<span id="cb147-8"><a href="análise-textual-text-mining.html#cb147-8" aria-hidden="true" tabindex="-1"></a>tm<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>)</span>
<span id="cb147-9"><a href="análise-textual-text-mining.html#cb147-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   [1] &quot;de&quot;           &quot;a&quot;            &quot;o&quot;            &quot;que&quot;          &quot;e&quot;           </span></span>
<span id="cb147-10"><a href="análise-textual-text-mining.html#cb147-10" aria-hidden="true" tabindex="-1"></a><span class="do">##   [6] &quot;do&quot;           &quot;da&quot;           &quot;em&quot;           &quot;um&quot;           &quot;para&quot;        </span></span>
<span id="cb147-11"><a href="análise-textual-text-mining.html#cb147-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  [11] &quot;com&quot;          &quot;não&quot;          &quot;uma&quot;          &quot;os&quot;           &quot;no&quot;          </span></span>
<span id="cb147-12"><a href="análise-textual-text-mining.html#cb147-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  [16] &quot;se&quot;           &quot;na&quot;           &quot;por&quot;          &quot;mais&quot;         &quot;as&quot;          </span></span>
<span id="cb147-13"><a href="análise-textual-text-mining.html#cb147-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  [21] &quot;dos&quot;          &quot;como&quot;         &quot;mas&quot;          &quot;ao&quot;           &quot;ele&quot;         </span></span>
<span id="cb147-14"><a href="análise-textual-text-mining.html#cb147-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  [26] &quot;das&quot;          &quot;à&quot;            &quot;seu&quot;          &quot;sua&quot;          &quot;ou&quot;          </span></span>
<span id="cb147-15"><a href="análise-textual-text-mining.html#cb147-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  [31] &quot;quando&quot;       &quot;muito&quot;        &quot;nos&quot;          &quot;já&quot;           &quot;eu&quot;          </span></span>
<span id="cb147-16"><a href="análise-textual-text-mining.html#cb147-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  [36] &quot;também&quot;       &quot;só&quot;           &quot;pelo&quot;         &quot;pela&quot;         &quot;até&quot;         </span></span>
<span id="cb147-17"><a href="análise-textual-text-mining.html#cb147-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  [41] &quot;isso&quot;         &quot;ela&quot;          &quot;entre&quot;        &quot;depois&quot;       &quot;sem&quot;         </span></span>
<span id="cb147-18"><a href="análise-textual-text-mining.html#cb147-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  [46] &quot;mesmo&quot;        &quot;aos&quot;          &quot;seus&quot;         &quot;quem&quot;         &quot;nas&quot;         </span></span>
<span id="cb147-19"><a href="análise-textual-text-mining.html#cb147-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [51] &quot;me&quot;           &quot;esse&quot;         &quot;eles&quot;         &quot;você&quot;         &quot;essa&quot;        </span></span>
<span id="cb147-20"><a href="análise-textual-text-mining.html#cb147-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  [56] &quot;num&quot;          &quot;nem&quot;          &quot;suas&quot;         &quot;meu&quot;          &quot;às&quot;          </span></span>
<span id="cb147-21"><a href="análise-textual-text-mining.html#cb147-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  [61] &quot;minha&quot;        &quot;numa&quot;         &quot;pelos&quot;        &quot;elas&quot;         &quot;qual&quot;        </span></span>
<span id="cb147-22"><a href="análise-textual-text-mining.html#cb147-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  [66] &quot;nós&quot;          &quot;lhe&quot;          &quot;deles&quot;        &quot;essas&quot;        &quot;esses&quot;       </span></span>
<span id="cb147-23"><a href="análise-textual-text-mining.html#cb147-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  [71] &quot;pelas&quot;        &quot;este&quot;         &quot;dele&quot;         &quot;tu&quot;           &quot;te&quot;          </span></span>
<span id="cb147-24"><a href="análise-textual-text-mining.html#cb147-24" aria-hidden="true" tabindex="-1"></a><span class="do">##  [76] &quot;vocês&quot;        &quot;vos&quot;          &quot;lhes&quot;         &quot;meus&quot;         &quot;minhas&quot;      </span></span>
<span id="cb147-25"><a href="análise-textual-text-mining.html#cb147-25" aria-hidden="true" tabindex="-1"></a><span class="do">##  [81] &quot;teu&quot;          &quot;tua&quot;          &quot;teus&quot;         &quot;tuas&quot;         &quot;nosso&quot;       </span></span>
<span id="cb147-26"><a href="análise-textual-text-mining.html#cb147-26" aria-hidden="true" tabindex="-1"></a><span class="do">##  [86] &quot;nossa&quot;        &quot;nossos&quot;       &quot;nossas&quot;       &quot;dela&quot;         &quot;delas&quot;       </span></span>
<span id="cb147-27"><a href="análise-textual-text-mining.html#cb147-27" aria-hidden="true" tabindex="-1"></a><span class="do">##  [91] &quot;esta&quot;         &quot;estes&quot;        &quot;estas&quot;        &quot;aquele&quot;       &quot;aquela&quot;      </span></span>
<span id="cb147-28"><a href="análise-textual-text-mining.html#cb147-28" aria-hidden="true" tabindex="-1"></a><span class="do">##  [96] &quot;aqueles&quot;      &quot;aquelas&quot;      &quot;isto&quot;         &quot;aquilo&quot;       &quot;estou&quot;       </span></span>
<span id="cb147-29"><a href="análise-textual-text-mining.html#cb147-29" aria-hidden="true" tabindex="-1"></a><span class="do">## [101] &quot;está&quot;         &quot;estamos&quot;      &quot;estão&quot;        &quot;estive&quot;       &quot;esteve&quot;      </span></span>
<span id="cb147-30"><a href="análise-textual-text-mining.html#cb147-30" aria-hidden="true" tabindex="-1"></a><span class="do">## [106] &quot;estivemos&quot;    &quot;estiveram&quot;    &quot;estava&quot;       &quot;estávamos&quot;    &quot;estavam&quot;     </span></span>
<span id="cb147-31"><a href="análise-textual-text-mining.html#cb147-31" aria-hidden="true" tabindex="-1"></a><span class="do">## [111] &quot;estivera&quot;     &quot;estivéramos&quot;  &quot;esteja&quot;       &quot;estejamos&quot;    &quot;estejam&quot;     </span></span>
<span id="cb147-32"><a href="análise-textual-text-mining.html#cb147-32" aria-hidden="true" tabindex="-1"></a><span class="do">## [116] &quot;estivesse&quot;    &quot;estivéssemos&quot; &quot;estivessem&quot;   &quot;estiver&quot;      &quot;estivermos&quot;  </span></span>
<span id="cb147-33"><a href="análise-textual-text-mining.html#cb147-33" aria-hidden="true" tabindex="-1"></a><span class="do">## [121] &quot;estiverem&quot;    &quot;hei&quot;          &quot;há&quot;           &quot;havemos&quot;      &quot;hão&quot;         </span></span>
<span id="cb147-34"><a href="análise-textual-text-mining.html#cb147-34" aria-hidden="true" tabindex="-1"></a><span class="do">## [126] &quot;houve&quot;        &quot;houvemos&quot;     &quot;houveram&quot;     &quot;houvera&quot;      &quot;houvéramos&quot;  </span></span>
<span id="cb147-35"><a href="análise-textual-text-mining.html#cb147-35" aria-hidden="true" tabindex="-1"></a><span class="do">## [131] &quot;haja&quot;         &quot;hajamos&quot;      &quot;hajam&quot;        &quot;houvesse&quot;     &quot;houvéssemos&quot; </span></span>
<span id="cb147-36"><a href="análise-textual-text-mining.html#cb147-36" aria-hidden="true" tabindex="-1"></a><span class="do">## [136] &quot;houvessem&quot;    &quot;houver&quot;       &quot;houvermos&quot;    &quot;houverem&quot;     &quot;houverei&quot;    </span></span>
<span id="cb147-37"><a href="análise-textual-text-mining.html#cb147-37" aria-hidden="true" tabindex="-1"></a><span class="do">## [141] &quot;houverá&quot;      &quot;houveremos&quot;   &quot;houverão&quot;     &quot;houveria&quot;     &quot;houveríamos&quot; </span></span>
<span id="cb147-38"><a href="análise-textual-text-mining.html#cb147-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [146] &quot;houveriam&quot;    &quot;sou&quot;          &quot;somos&quot;        &quot;são&quot;          &quot;era&quot;         </span></span>
<span id="cb147-39"><a href="análise-textual-text-mining.html#cb147-39" aria-hidden="true" tabindex="-1"></a><span class="do">## [151] &quot;éramos&quot;       &quot;eram&quot;         &quot;fui&quot;          &quot;foi&quot;          &quot;fomos&quot;       </span></span>
<span id="cb147-40"><a href="análise-textual-text-mining.html#cb147-40" aria-hidden="true" tabindex="-1"></a><span class="do">## [156] &quot;foram&quot;        &quot;fora&quot;         &quot;fôramos&quot;      &quot;seja&quot;         &quot;sejamos&quot;     </span></span>
<span id="cb147-41"><a href="análise-textual-text-mining.html#cb147-41" aria-hidden="true" tabindex="-1"></a><span class="do">## [161] &quot;sejam&quot;        &quot;fosse&quot;        &quot;fôssemos&quot;     &quot;fossem&quot;       &quot;for&quot;         </span></span>
<span id="cb147-42"><a href="análise-textual-text-mining.html#cb147-42" aria-hidden="true" tabindex="-1"></a><span class="do">## [166] &quot;formos&quot;       &quot;forem&quot;        &quot;serei&quot;        &quot;será&quot;         &quot;seremos&quot;     </span></span>
<span id="cb147-43"><a href="análise-textual-text-mining.html#cb147-43" aria-hidden="true" tabindex="-1"></a><span class="do">## [171] &quot;serão&quot;        &quot;seria&quot;        &quot;seríamos&quot;     &quot;seriam&quot;       &quot;tenho&quot;       </span></span>
<span id="cb147-44"><a href="análise-textual-text-mining.html#cb147-44" aria-hidden="true" tabindex="-1"></a><span class="do">## [176] &quot;tem&quot;          &quot;temos&quot;        &quot;tém&quot;          &quot;tinha&quot;        &quot;tínhamos&quot;    </span></span>
<span id="cb147-45"><a href="análise-textual-text-mining.html#cb147-45" aria-hidden="true" tabindex="-1"></a><span class="do">## [181] &quot;tinham&quot;       &quot;tive&quot;         &quot;teve&quot;         &quot;tivemos&quot;      &quot;tiveram&quot;     </span></span>
<span id="cb147-46"><a href="análise-textual-text-mining.html#cb147-46" aria-hidden="true" tabindex="-1"></a><span class="do">## [186] &quot;tivera&quot;       &quot;tivéramos&quot;    &quot;tenha&quot;        &quot;tenhamos&quot;     &quot;tenham&quot;      </span></span>
<span id="cb147-47"><a href="análise-textual-text-mining.html#cb147-47" aria-hidden="true" tabindex="-1"></a><span class="do">## [191] &quot;tivesse&quot;      &quot;tivéssemos&quot;   &quot;tivessem&quot;     &quot;tiver&quot;        &quot;tivermos&quot;    </span></span>
<span id="cb147-48"><a href="análise-textual-text-mining.html#cb147-48" aria-hidden="true" tabindex="-1"></a><span class="do">## [196] &quot;tiverem&quot;      &quot;terei&quot;        &quot;terá&quot;         &quot;teremos&quot;      &quot;terão&quot;       </span></span>
<span id="cb147-49"><a href="análise-textual-text-mining.html#cb147-49" aria-hidden="true" tabindex="-1"></a><span class="do">## [201] &quot;teria&quot;        &quot;teríamos&quot;     &quot;teriam&quot;</span></span></code></pre></div>
<!-- stopwords("pt-br") -->
<p>Há também o pacote <a href="https://github.com/quanteda/stopwords">stopwords</a>, que no momento possui, para o português, de fontes como snowball, nltk e stopwords-iso. Para instalar, basta rodar o já conhecido <code>install.packages("stopwords")</code>.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="análise-textual-text-mining.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo as linguagens disponiveis</span></span>
<span id="cb148-2"><a href="análise-textual-text-mining.html#cb148-2" aria-hidden="true" tabindex="-1"></a>stopwords<span class="sc">::</span><span class="fu">stopwords_getlanguages</span>(<span class="st">&quot;snowball&quot;</span>)</span>
<span id="cb148-3"><a href="análise-textual-text-mining.html#cb148-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;da&quot; &quot;de&quot; &quot;en&quot; &quot;es&quot; &quot;fi&quot; &quot;fr&quot; &quot;hu&quot; &quot;ir&quot; &quot;it&quot; &quot;nl&quot; &quot;no&quot; &quot;pt&quot; &quot;ro&quot; &quot;ru&quot; &quot;sv&quot;</span></span>
<span id="cb148-4"><a href="análise-textual-text-mining.html#cb148-4" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo as fontes de stopwords disponíveis</span></span>
<span id="cb148-5"><a href="análise-textual-text-mining.html#cb148-5" aria-hidden="true" tabindex="-1"></a>stopwords<span class="sc">::</span><span class="fu">stopwords_getsources</span>()</span>
<span id="cb148-6"><a href="análise-textual-text-mining.html#cb148-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;snowball&quot;      &quot;stopwords-iso&quot; &quot;misc&quot;          &quot;smart&quot;        </span></span>
<span id="cb148-7"><a href="análise-textual-text-mining.html#cb148-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;marimo&quot;        &quot;ancient&quot;       &quot;nltk&quot;          &quot;perseus&quot;</span></span>
<span id="cb148-8"><a href="análise-textual-text-mining.html#cb148-8" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo um extrato das stopwords em português, fonte snowball</span></span>
<span id="cb148-9"><a href="análise-textual-text-mining.html#cb148-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>, <span class="at">source =</span> <span class="st">&quot;snowball&quot;</span>), <span class="dv">20</span>)</span>
<span id="cb148-10"><a href="análise-textual-text-mining.html#cb148-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;de&quot;   &quot;a&quot;    &quot;o&quot;    &quot;que&quot;  &quot;e&quot;    &quot;do&quot;   &quot;da&quot;   &quot;em&quot;   &quot;um&quot;   &quot;para&quot;</span></span>
<span id="cb148-11"><a href="análise-textual-text-mining.html#cb148-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;com&quot;  &quot;não&quot;  &quot;uma&quot;  &quot;os&quot;   &quot;no&quot;   &quot;se&quot;   &quot;na&quot;   &quot;por&quot;  &quot;mais&quot; &quot;as&quot;</span></span>
<span id="cb148-12"><a href="análise-textual-text-mining.html#cb148-12" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo um extrato das stopwords em português, fonte stopwords-iso</span></span>
<span id="cb148-13"><a href="análise-textual-text-mining.html#cb148-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>, <span class="at">source =</span> <span class="st">&quot;stopwords-iso&quot;</span>), <span class="dv">20</span>)</span>
<span id="cb148-14"><a href="análise-textual-text-mining.html#cb148-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;a&quot;       &quot;acerca&quot;  &quot;adeus&quot;   &quot;agora&quot;   &quot;ainda&quot;   &quot;alem&quot;    &quot;algmas&quot; </span></span>
<span id="cb148-15"><a href="análise-textual-text-mining.html#cb148-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  [8] &quot;algo&quot;    &quot;algumas&quot; &quot;alguns&quot;  &quot;ali&quot;     &quot;além&quot;    &quot;ambas&quot;   &quot;ambos&quot;  </span></span>
<span id="cb148-16"><a href="análise-textual-text-mining.html#cb148-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [15] &quot;ano&quot;     &quot;anos&quot;    &quot;antes&quot;   &quot;ao&quot;      &quot;aonde&quot;   &quot;aos&quot;</span></span></code></pre></div>
<p>E comparando o número de elementos das diferentes fontes de stopwords</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="análise-textual-text-mining.html#cb149-1" aria-hidden="true" tabindex="-1"></a>stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>, <span class="at">source =</span> <span class="st">&quot;stopwords-iso&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">length</span>()</span>
<span id="cb149-2"><a href="análise-textual-text-mining.html#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 560</span></span>
<span id="cb149-3"><a href="análise-textual-text-mining.html#cb149-3" aria-hidden="true" tabindex="-1"></a>stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>, <span class="at">source =</span> <span class="st">&quot;snowball&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">length</span>()</span>
<span id="cb149-4"><a href="análise-textual-text-mining.html#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 203</span></span>
<span id="cb149-5"><a href="análise-textual-text-mining.html#cb149-5" aria-hidden="true" tabindex="-1"></a>stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>, <span class="at">source =</span> <span class="st">&quot;nltk&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">length</span>()</span>
<span id="cb149-6"><a href="análise-textual-text-mining.html#cb149-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 204</span></span></code></pre></div>
<p>Para aplicar esta função no nosso texto e retirar as stopwords, podemos usar diversas funções (lista mais abaixo). Diferentes pacotes de análise textual possuem diferentes formas de retirar as stopwords.
Para adicionar novas palavras à lista de stopwords que vamos usar no momento, cria-se um novo vetor - chamamos aqui de “novas_stopwords” - com as novas palavras a serem retiradas, e em seguida o <code>stopwords()</code>
<!-- ?stopwords_getlanguages` for more information on supported languages--></p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="análise-textual-text-mining.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checando o tamanho do vetor stopwords disponível</span></span>
<span id="cb150-2"><a href="análise-textual-text-mining.html#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(tm<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>))</span>
<span id="cb150-3"><a href="análise-textual-text-mining.html#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 203</span></span>
<span id="cb150-4"><a href="análise-textual-text-mining.html#cb150-4" aria-hidden="true" tabindex="-1"></a><span class="co"># criando novo vetor com mais palavras</span></span>
<span id="cb150-5"><a href="análise-textual-text-mining.html#cb150-5" aria-hidden="true" tabindex="-1"></a>novas_stopwords <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;então&quot;</span>, <span class="st">&quot;portanto&quot;</span>, tm<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>)) </span>
<span id="cb150-6"><a href="análise-textual-text-mining.html#cb150-6" aria-hidden="true" tabindex="-1"></a><span class="co"># checando se nossos termos foram incluídos</span></span>
<span id="cb150-7"><a href="análise-textual-text-mining.html#cb150-7" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(novas_stopwords)</span>
<span id="cb150-8"><a href="análise-textual-text-mining.html#cb150-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 205</span></span></code></pre></div>
<p>Ou para facilitar a inclusão de novos termos, podemos fazer do seguinte modo:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="análise-textual-text-mining.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Separamos nossos termos apenas por espaço</span></span>
<span id="cb151-2"><a href="análise-textual-text-mining.html#cb151-2" aria-hidden="true" tabindex="-1"></a>novas <span class="ot">&lt;-</span> <span class="st">&quot;então portanto&quot;</span></span>
<span id="cb151-3"><a href="análise-textual-text-mining.html#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="co"># quebrando o char em vetor de termos</span></span>
<span id="cb151-4"><a href="análise-textual-text-mining.html#cb151-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ao invés de usarmos unlist, podemos usar [[1]]</span></span>
<span id="cb151-5"><a href="análise-textual-text-mining.html#cb151-5" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(novas, <span class="st">&quot; &quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb151-6"><a href="análise-textual-text-mining.html#cb151-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;então&quot;    &quot;portanto&quot;</span></span>
<span id="cb151-7"><a href="análise-textual-text-mining.html#cb151-7" aria-hidden="true" tabindex="-1"></a><span class="co"># colocando os novos termos em um novo vetor</span></span>
<span id="cb151-8"><a href="análise-textual-text-mining.html#cb151-8" aria-hidden="true" tabindex="-1"></a>novas_stopwords <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">strsplit</span>(novas, <span class="st">&quot; &quot;</span>)[[<span class="dv">1</span>]], tm<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;pt&quot;</span>))</span>
<span id="cb151-9"><a href="análise-textual-text-mining.html#cb151-9" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(novas_stopwords)</span>
<span id="cb151-10"><a href="análise-textual-text-mining.html#cb151-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 205</span></span></code></pre></div>
<p>Deste modo, podemos ir acrescentando mais facilmente novos termos à nossa lista de stopwords.</p>
<p>Há outras funções com listas de stopwords, como <a href="https://www.rdocumentation.org/packages/qdap/versions/0.2.5/topics/stopwords">qdap::stopwords</a> e vários outras listas de stopwords no pacote
- <a href="https://cran.r-project.org/web/packages/lexicon/">lexicon</a>.</p>
<div id="stopwords:remocao" class="section level4 hasAnchor" number="8.4.1.1">
<h4><span class="header-section-number">8.4.1.1</span> Removendo as stopwords<a href="análise-textual-text-mining.html#stopwords:remocao" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Para remover stopwords, temos diferentes pacotes com diferentes funções, como por exemplo:
<code>dplyr::anti_join(stopwords(pt))</code>,
<code>tm::tm_map(corpus, removeWords, stopwords("english")</code>,
<code>tm::removeWords(texto, stopwords("pt"))</code>,
<code>[tau::remove_stopwords()](https://cran.r-project.org/web//packages/tau/tau.pdf)</code>
e <a href="https://search.r-project.org/CRAN/refmans/qdap/html/rm_stopwords.html"><code>qdap::rm_stopwords()</code></a>.
O dplyr possui ainda a função <code>semi_join()</code> que mostra termos em comum, que se repetem em x e y.
Já <code>anti_join</code> faz o oposto, mostra todas linhas de ‘x’ sem match em ‘y’, e é com ela que retiramos as stopwords.</p>
<div id="modo-1-pacote-base" class="section level5 hasAnchor" number="8.4.1.1.1">
<h5><span class="header-section-number">8.4.1.1.1</span> Modo 1: pacote base<a href="análise-textual-text-mining.html#modo-1-pacote-base" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Se não quisermos carregar nenhum pacote, um modo possível de retirar stopwords de um vetorde palavras com o vetor de setopwords se dá com os operadores <code>!</code> e <code>%in%</code></p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="análise-textual-text-mining.html#cb152-1" aria-hidden="true" tabindex="-1"></a>manif_vetor[<span class="sc">!</span>(manif_vetor) <span class="sc">%in%</span> minhas_sw]</span>
<span id="cb152-2"><a href="análise-textual-text-mining.html#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;história&quot;  &quot;toda&quot;      &quot;sociedade&quot; &quot;até&quot;       &quot;hoje&quot;      &quot;é&quot;        </span></span>
<span id="cb152-3"><a href="análise-textual-text-mining.html#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [7] &quot;história&quot;  &quot;luta&quot;      &quot;classes.&quot;</span></span></code></pre></div>
</div>
<div id="modo-2-dplyr" class="section level5 hasAnchor" number="8.4.1.1.2">
<h5><span class="header-section-number">8.4.1.1.2</span> Modo 2: dplyr<a href="análise-textual-text-mining.html#modo-2-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<!-- https://stackoverflow.com/questions/43441884/removing-stop-words-with-tidytext -->
<p>Outro modo de retirar stopwords usando o tidytext:</p>
<!-- ##### Modo 2 -->
<!-- removeWords(texto, novas_stopwords) # removendo as stopwords -->
<!-- Data_corpus <-  Corpus(VectorSource(Data_clean$Review.clean.lower))  -->
<!-- Data_clean <- tm_map(Data_corpus,  removeWords, stopwords("english")) -->
</div>
</div>
</div>
</div>
<div id="estemização-stemming-e-lematização" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Estemização (<em>stemming</em>) e lematização<a href="análise-textual-text-mining.html#estemização-stemming-e-lematização" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- stemDocument(c("bananeira", "bananal", "bananada")) -->
<!-- stemDocument(c("bananada", "andando", "amarelo"), language = "portuguese") -->
<!-- palavras_stem <- stemDocument(c("bananada", "andando", "amarelo"), language = "portuguese") -->
<!-- completar palavras usando -->
<!-- stemCompletion(stem_words, c("complicado"), language = "portuguese") -->
<p>Imagine que tenha palavras como “escrever, escrevi, escreveu” e você está interessado nos verbos mais frequentes. É útil considerar estas variações do verbo como uma palavra só. Isso pode ser obtido de dois modos, através da stemização e por lematização. Em ambos o objetivo é o mesmo, reduzir a flexão a uma base comum ou raiz. A estemização funciona cortando um pedaço do final da palavra, ao passo que lematização reduz as variações à raiz, podendo inclusive pegar verbos irregulares. Por que então usar estemização? A construção de lematizadores é mais complicada, além de ser um processo mais demorado e que consome mais recursos.</p>
<div id="stemming" class="section level3 hasAnchor" number="8.5.1">
<h3><span class="header-section-number">8.5.1</span> Estemização<a href="análise-textual-text-mining.html#stemming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A estemização pode ser feita com o pacote <a href="https://cran.r-project.org/web/packages/SnowballC/SnowballC.pdf">SnowballC</a>,que é baseado no <a href="https://snowballstem.org/">snowball</a>, que continua sendo desenvolvido no <a href="https://github.com/snowballstem">GitHub do projeto</a>.
Desenvolvida originalmente por Martin Porter, seu nome é um tributo ao SNOBOL, uma linguagem dos anos 1960 que lidava com strings.
Para entender o algoritmo de estemização em português e alguns exemplos, <a href="https://snowballstem.org/algorithms/portuguese/stemmer.html">veja aqui</a>.</p>
<p>Carregando o pacote SnowballC</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="análise-textual-text-mining.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SnowballC)</span></code></pre></div>
<p>Exemplo de estemização</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="análise-textual-text-mining.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vendo as línguas disponíveis</span></span>
<span id="cb154-2"><a href="análise-textual-text-mining.html#cb154-2" aria-hidden="true" tabindex="-1"></a>SnowballC<span class="sc">::</span><span class="fu">getStemLanguages</span>()</span>
<span id="cb154-3"><a href="análise-textual-text-mining.html#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;arabic&quot;     &quot;basque&quot;     &quot;catalan&quot;    &quot;danish&quot;     &quot;dutch&quot;     </span></span>
<span id="cb154-4"><a href="análise-textual-text-mining.html#cb154-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  [6] &quot;english&quot;    &quot;finnish&quot;    &quot;french&quot;     &quot;german&quot;     &quot;greek&quot;     </span></span>
<span id="cb154-5"><a href="análise-textual-text-mining.html#cb154-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;hindi&quot;      &quot;hungarian&quot;  &quot;indonesian&quot; &quot;irish&quot;      &quot;italian&quot;   </span></span>
<span id="cb154-6"><a href="análise-textual-text-mining.html#cb154-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [16] &quot;lithuanian&quot; &quot;nepali&quot;     &quot;norwegian&quot;  &quot;porter&quot;     &quot;portuguese&quot;</span></span>
<span id="cb154-7"><a href="análise-textual-text-mining.html#cb154-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;romanian&quot;   &quot;russian&quot;    &quot;spanish&quot;    &quot;swedish&quot;    &quot;tamil&quot;     </span></span>
<span id="cb154-8"><a href="análise-textual-text-mining.html#cb154-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [26] &quot;turkish&quot;</span></span>
<span id="cb154-9"><a href="análise-textual-text-mining.html#cb154-9" aria-hidden="true" tabindex="-1"></a><span class="co"># criando um vetor de palavras</span></span>
<span id="cb154-10"><a href="análise-textual-text-mining.html#cb154-10" aria-hidden="true" tabindex="-1"></a>palavras<span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;plantar&quot;</span>, <span class="st">&quot;plantei&quot;</span>, <span class="st">&quot;ajudou&quot;</span>, <span class="st">&quot;ajudarás&quot;</span>, <span class="st">&quot;comer&quot;</span>, <span class="st">&quot;comendo&quot;</span>)</span>
<span id="cb154-11"><a href="análise-textual-text-mining.html#cb154-11" aria-hidden="true" tabindex="-1"></a><span class="co"># testando a stemização</span></span>
<span id="cb154-12"><a href="análise-textual-text-mining.html#cb154-12" aria-hidden="true" tabindex="-1"></a>SnowballC<span class="sc">::</span><span class="fu">wordStem</span>(palavras, <span class="at">language =</span> <span class="st">&quot;portuguese&quot;</span>)</span>
<span id="cb154-13"><a href="análise-textual-text-mining.html#cb154-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;plant&quot; &quot;plant&quot; &quot;ajud&quot;  &quot;ajud&quot;  &quot;com&quot;   &quot;com&quot;</span></span></code></pre></div>
<p>Vamos testar com outras palavras:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="análise-textual-text-mining.html#cb155-1" aria-hidden="true" tabindex="-1"></a>palavras<span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;estou&quot;</span>, <span class="st">&quot;está&quot;</span>, <span class="st">&quot;estamos&quot;</span>, <span class="st">&quot;sou&quot;</span>, <span class="st">&quot;és&quot;</span>)</span>
<span id="cb155-2"><a href="análise-textual-text-mining.html#cb155-2" aria-hidden="true" tabindex="-1"></a>SnowballC<span class="sc">::</span><span class="fu">wordStem</span>(palavras, <span class="at">language =</span> <span class="st">&quot;portuguese&quot;</span>)</span>
<span id="cb155-3"><a href="análise-textual-text-mining.html#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;estou&quot; &quot;está&quot;  &quot;estam&quot; &quot;sou&quot;   &quot;és&quot;</span></span></code></pre></div>
<p>Repare que verbos irregulares como “ser” e “estar” não funcionaram muito bem.
Uma alternativa é usar a lematização ao invés da stemização.</p>
</div>
<div id="lemma" class="section level3 hasAnchor" number="8.5.2">
<h3><span class="header-section-number">8.5.2</span> Lematização<a href="análise-textual-text-mining.html#lemma" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="infobox obra">
<p><em>EM CONSTRUÇÃO</em></p>
</div>
<p>A lematização reduz variações/inflexões de uma palavra, de modo que sejam analisados como um termo único. A lematização chega à forma raiz da palavra, ainda que sejam, por exemplo, verbos irregulares.
<!-- https://www.christianlehmann.eu/ling/ling_meth/ling_description/lexicography/index.html?https://www.christianlehmann.eu/ling/ling_meth/ling_description/lexicography/lemmatization.html --></p>
<p>Funções como <code>textstem::lemmatize_words()</code> , <code>koRpus::treetag</code>, <code>SnowballC::wordStem</code>
<a href="https://rdrr.io/github/r-spark/sparknlp/man/nlp_lemmatizer.html"><code>nlp_lemmatizer</code></a>,
<!-- https://nlp.johnsnowlabs.com/docs/en/annotators#lemmatizer -->
e <code>udpipe</code> fazem este trabalho de lematização.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="análise-textual-text-mining.html#cb156-1" aria-hidden="true" tabindex="-1"></a>goffman_stigma <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;The central feature of the stigmatized individual&#39;s situation in life can now be stated.&quot;</span>, </span>
<span id="cb156-2"><a href="análise-textual-text-mining.html#cb156-2" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;It is a question of what is often, if vaguely, called `acceptance&#39;.&quot;</span>,</span>
<span id="cb156-3"><a href="análise-textual-text-mining.html#cb156-3" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;How does the stigmatized person respond to his situation?&quot;</span>)</span>
<span id="cb156-4"><a href="análise-textual-text-mining.html#cb156-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-5"><a href="análise-textual-text-mining.html#cb156-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Default lexicon::hash_lemmas dictionary</span></span>
<span id="cb156-6"><a href="análise-textual-text-mining.html#cb156-6" aria-hidden="true" tabindex="-1"></a>textstem<span class="sc">::</span><span class="fu">lemmatize_strings</span>(goffman_stigma)</span>
<span id="cb156-7"><a href="análise-textual-text-mining.html#cb156-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;The central feature of the stigmatize individual&#39;s situation in life can now be state.&quot;</span></span>
<span id="cb156-8"><a href="análise-textual-text-mining.html#cb156-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [2] &quot;It be a question of what be often, if vague, call `acceptance&#39;.&quot;                       </span></span>
<span id="cb156-9"><a href="análise-textual-text-mining.html#cb156-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [3] &quot;How do the stigmatize person respond to his situation?&quot;</span></span></code></pre></div>
</div>
</div>
<div id="wordcloud" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Nuvem de palavras<a href="análise-textual-text-mining.html#wordcloud" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vários pacotes fazem as chamadas nuvem de palavras no R. Um deles é o <a href="https://cran.r-project.org/web/packages/wordcloud/">wordcloud</a>, que além de fazer nuvens de palavras, também é capaz de fazê-lo comparando documentos,</p>
<p>Em sua forma mais simples</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="análise-textual-text-mining.html#cb157-1" aria-hidden="true" tabindex="-1"></a>texto_tocqueville <span class="ot">&lt;-</span> <span class="st">&quot;Em nosso tempo, a liberdade de associação tornou-se uma garantia necessária contra a tirania da maioria.  Nos Estados Unidos, quando uma vez um partido se toma dominante. todo o poder público passa para as suas mãos; seus amigos particulares ocupam todos os empregos e dispõem de todas as forças organizadas. Como os homens mais distintos do partido contrário não podem atravessar a barreira que os separa do poder, é preciso que possam se estabelecer fora; é preciso que a minoria oponha sua força moral inteira ao poderio material que a oprime. Opõe-se, pois, um perigo a um perigo mais temível. A onipotência da maioria parece-me um risco tão grande para as repúblicas americanas que o meio perigoso que se usa para limitá-la parece-me, ainda assim, um bem.</span></span>
<span id="cb157-2"><a href="análise-textual-text-mining.html#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="st">Exprimirei aqui um pensamento que lembrará o que disse em outra parte a respeito das liberdades comunais: não há país em que as associações sejam mais necessárias, para impedir o despotismo dos partidos ou a arbitrariedade do príncipe, do que aquele em que o estado social é democrático. Nas nações aristocráticas, os corpos secundários formam associações naturais que detêm os abusos de poder. Nos países em que semelhantes associações não existem, se os particulares não podem criar artificial e momentaneamente alguma coisa que se lhes assemelhe, não percebo mais nenhum dique contra nenhuma sorte de tirania, e um grande povo pode ser oprimido impunemente por um punhado de facciosos ou por um homem.</span></span>
<span id="cb157-3"><a href="análise-textual-text-mining.html#cb157-3" aria-hidden="true" tabindex="-1"></a><span class="st">... Não podemos dissimular que a liberdade ilimitada de associação, em matéria política, é, de todas as liberdades, a última que um povo pode suportar. Se ela não o faz cair na anarquia, o faz tocá-la por assim dizer a cada instante. Essa liberdade, tão perigosa, oferece porém num ponto algumas garantias: nos países em que as associações são livres, as sociedades secretas são desconhecidas. Na América, há facciosos, mas não conspiradores.&quot;</span></span></code></pre></div>
<p>E para criar uma nuvem de palavras simples, basta usar o comando:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="análise-textual-text-mining.html#cb158-1" aria-hidden="true" tabindex="-1"></a>wordcloud<span class="sc">::</span><span class="fu">wordcloud</span>(texto_tocqueville)</span>
<span id="cb158-2"><a href="análise-textual-text-mining.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning in tm_map.SimpleCorpus(corpus, tm::removePunctuation): transformation</span></span>
<span id="cb158-3"><a href="análise-textual-text-mining.html#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="do">## drops documents</span></span>
<span id="cb158-4"><a href="análise-textual-text-mining.html#cb158-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning in tm_map.SimpleCorpus(corpus, function(x) tm::removeWords(x,</span></span>
<span id="cb158-5"><a href="análise-textual-text-mining.html#cb158-5" aria-hidden="true" tabindex="-1"></a><span class="do">## tm::stopwords())): transformation drops documents</span></span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/unnamed-chunk-151-1.png" width="672" /></p>
<p>E para usar num modo mais detalhado:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="análise-textual-text-mining.html#cb159-1" aria-hidden="true" tabindex="-1"></a>wordcloud<span class="sc">::</span><span class="fu">wordcloud</span>(texto_tocqueville,</span>
<span id="cb159-2"><a href="análise-textual-text-mining.html#cb159-2" aria-hidden="true" tabindex="-1"></a>             <span class="co"># se o input  para esta função contém as frequências de palavras, o item abaixo deve ser descomentado</span></span>
<span id="cb159-3"><a href="análise-textual-text-mining.html#cb159-3" aria-hidden="true" tabindex="-1"></a>             <span class="co"># freq,</span></span>
<span id="cb159-4"><a href="análise-textual-text-mining.html#cb159-4" aria-hidden="true" tabindex="-1"></a>             <span class="co"># vetor com dois termos indicado o espectro de tamanho das palavras</span></span>
<span id="cb159-5"><a href="análise-textual-text-mining.html#cb159-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">scale=</span><span class="fu">c</span>(<span class="dv">2</span>,.<span class="dv">8</span>),</span>
<span id="cb159-6"><a href="análise-textual-text-mining.html#cb159-6" aria-hidden="true" tabindex="-1"></a>         <span class="co"># número mínimo de repetições que uma palavra tem de ter para entrar no gráfico</span></span>
<span id="cb159-7"><a href="análise-textual-text-mining.html#cb159-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">min.freq =</span> <span class="dv">2</span>,</span>
<span id="cb159-8"><a href="análise-textual-text-mining.html#cb159-8" aria-hidden="true" tabindex="-1"></a>             <span class="co"># número máximo de palavras a ser plotado na nuvem de palavras</span></span>
<span id="cb159-9"><a href="análise-textual-text-mining.html#cb159-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">max.words =</span> <span class="dv">70</span>,</span>
<span id="cb159-10"><a href="análise-textual-text-mining.html#cb159-10" aria-hidden="true" tabindex="-1"></a>             <span class="co"># Não plotar palavras em ordem aleatória, mas sim em ordem decrescente</span></span>
<span id="cb159-11"><a href="análise-textual-text-mining.html#cb159-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">random.order =</span> <span class="cn">FALSE</span>,</span>
<span id="cb159-12"><a href="análise-textual-text-mining.html#cb159-12" aria-hidden="true" tabindex="-1"></a>         <span class="co"># cores, do menos frequente ao mais frequente</span></span>
<span id="cb159-13"><a href="análise-textual-text-mining.html#cb159-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">&quot;royalblue&quot;</span>,<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;darkblue&quot;</span>))</span>
<span id="cb159-14"><a href="análise-textual-text-mining.html#cb159-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning in tm_map.SimpleCorpus(corpus, tm::removePunctuation): transformation</span></span>
<span id="cb159-15"><a href="análise-textual-text-mining.html#cb159-15" aria-hidden="true" tabindex="-1"></a><span class="do">## drops documents</span></span>
<span id="cb159-16"><a href="análise-textual-text-mining.html#cb159-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning in tm_map.SimpleCorpus(corpus, function(x) tm::removeWords(x,</span></span>
<span id="cb159-17"><a href="análise-textual-text-mining.html#cb159-17" aria-hidden="true" tabindex="-1"></a><span class="do">## tm::stopwords())): transformation drops documents</span></span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/unnamed-chunk-152-1.png" width="672" /></p>
<ul>
<li>Esta função aceita como entrada (input) tanto o texto puro como a tabela de frequência (e aí, deve-se usar o parâmetro <code>freq</code>). Para textos pequenos, como é o caso aqui, não há problema em usar texto diretamente na função, mas partir do momento que textos se tornam grandes, o ideal é fazer a contagem previamente e mandar a tabela para a função wordcloud.</li>
<li>Além disso, fazer a contagem previamente permite fazer uma série de <a href="preprocessamento">pré-processamentos</a> no texto, como retirada de palavras pouco instrutivas (as <a href="análise-textual-text-mining.html#stopwords">stopwords</a>), passar todas as palavras para minúsculo, etc.</li>
<li>Vemos que algumas palavras frequentes não nos dizem muita coisa, como “que”, “nos”, “para”. Como queremos apreender algo do sentido do texto com a nuvem de palavras, seria interessante remover tais termos pouco significativos, as chamadas <a href="análise-textual-text-mining.html#stopwords">“palavras vazias” ou “stopwords”</a>.</li>
</ul>
<p>Usamos aí um pequeno texto. Caso tivéssemos um texto grande, este procedimento de mandar o texto direto para a função <code>wordcloud::wordcloud</code> não seria indicado. Além disso, precisamos fazer alguns pré-processamentos no texto para obter algo mais significativo.</p>
<!-- REVISAR << -->
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="análise-textual-text-mining.html#cb160-1" aria-hidden="true" tabindex="-1"></a>Tocq <span class="ot">&lt;-</span> texto_tocqueville <span class="sc">|&gt;</span> <span class="fu">as_tibble</span>(<span class="at">falas =</span> texto_tocqueville)</span>
<span id="cb160-2"><a href="análise-textual-text-mining.html#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="co"># tudo.tokens &lt;- tudo %&gt;% tidytext::unnest_tokens(word, falas)</span></span>
<span id="cb160-3"><a href="análise-textual-text-mining.html#cb160-3" aria-hidden="true" tabindex="-1"></a><span class="co"># tudo.tokens &lt;- tidytext::unnest_tokens(tudo.df , falas)</span></span>
<span id="cb160-4"><a href="análise-textual-text-mining.html#cb160-4" aria-hidden="true" tabindex="-1"></a>Tocq.tokens <span class="ot">&lt;-</span> Tocq <span class="sc">%&gt;%</span> </span>
<span id="cb160-5"><a href="análise-textual-text-mining.html#cb160-5" aria-hidden="true" tabindex="-1"></a>    tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(word, value)</span>
<span id="cb160-6"><a href="análise-textual-text-mining.html#cb160-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-7"><a href="análise-textual-text-mining.html#cb160-7" aria-hidden="true" tabindex="-1"></a>SW <span class="ot">&lt;-</span> <span class="fu">c</span>(stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&#39;pt&#39;</span>), <span class="st">&#39;é&#39;</span>, <span class="st">&#39;aqui&#39;</span>, <span class="st">&#39;então&#39;</span>, <span class="st">&#39;porque&#39;</span>)</span>
<span id="cb160-8"><a href="análise-textual-text-mining.html#cb160-8" aria-hidden="true" tabindex="-1"></a><span class="co"># retirando as stopwords</span></span>
<span id="cb160-9"><a href="análise-textual-text-mining.html#cb160-9" aria-hidden="true" tabindex="-1"></a>Tocq.semSW <span class="ot">&lt;-</span> Tocq.tokens<span class="sc">$</span>word[<span class="sc">!</span>(tudo.tokens<span class="sc">$</span>word) <span class="sc">%in%</span> SW]</span>
<span id="cb160-10"><a href="análise-textual-text-mining.html#cb160-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Se quisermos observar algumas das palavras mais frequentes, sem as stopwords </span></span>
<span id="cb160-11"><a href="análise-textual-text-mining.html#cb160-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Tocq.semSW, <span class="dv">40</span>)</span>
<span id="cb160-12"><a href="análise-textual-text-mining.html#cb160-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;tempo&quot;        &quot;liberdade&quot;    &quot;associação&quot;   &quot;tornou&quot;       &quot;garantia&quot;    </span></span>
<span id="cb160-13"><a href="análise-textual-text-mining.html#cb160-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  [6] &quot;necessária&quot;   &quot;contra&quot;       &quot;tirania&quot;      &quot;maioria&quot;      &quot;estados&quot;     </span></span>
<span id="cb160-14"><a href="análise-textual-text-mining.html#cb160-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;unidos&quot;       &quot;vez&quot;          &quot;partido&quot;      &quot;toma&quot;         &quot;dominante&quot;   </span></span>
<span id="cb160-15"><a href="análise-textual-text-mining.html#cb160-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [16] &quot;todo&quot;         &quot;poder&quot;        &quot;público&quot;      &quot;passa&quot;        &quot;mãos&quot;        </span></span>
<span id="cb160-16"><a href="análise-textual-text-mining.html#cb160-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;amigos&quot;       &quot;particulares&quot; &quot;ocupam&quot;       &quot;todos&quot;        &quot;empregos&quot;    </span></span>
<span id="cb160-17"><a href="análise-textual-text-mining.html#cb160-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [26] &quot;dispõem&quot;      &quot;todas&quot;        &quot;forças&quot;       &quot;organizadas&quot;  &quot;homens&quot;      </span></span>
<span id="cb160-18"><a href="análise-textual-text-mining.html#cb160-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [31] &quot;distintos&quot;    &quot;partido&quot;      &quot;contrário&quot;    &quot;podem&quot;        &quot;atravessar&quot;  </span></span>
<span id="cb160-19"><a href="análise-textual-text-mining.html#cb160-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [36] &quot;barreira&quot;     &quot;separa&quot;       &quot;poder&quot;        &quot;preciso&quot;      &quot;possam&quot;</span></span>
<span id="cb160-20"><a href="análise-textual-text-mining.html#cb160-20" aria-hidden="true" tabindex="-1"></a>Tocq.tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">words =</span> Tocq.semSW )</span>
<span id="cb160-21"><a href="análise-textual-text-mining.html#cb160-21" aria-hidden="true" tabindex="-1"></a>words.counts <span class="ot">&lt;-</span> Tocq.tibble <span class="sc">%&gt;%</span>  dplyr<span class="sc">::</span><span class="fu">count</span>(words, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb160-22"><a href="análise-textual-text-mining.html#cb160-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(words.counts<span class="sc">$</span>words, <span class="dv">40</span>) <span class="co"># Observando as palavras mais frequentes</span></span>
<span id="cb160-23"><a href="análise-textual-text-mining.html#cb160-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;associações&quot;    &quot;liberdade&quot;      &quot;poder&quot;          &quot;assim&quot;         </span></span>
<span id="cb160-24"><a href="análise-textual-text-mining.html#cb160-24" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;associação&quot;     &quot;contra&quot;         &quot;facciosos&quot;      &quot;faz&quot;           </span></span>
<span id="cb160-25"><a href="análise-textual-text-mining.html#cb160-25" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;grande&quot;         &quot;la&quot;             &quot;liberdades&quot;     &quot;maioria&quot;       </span></span>
<span id="cb160-26"><a href="análise-textual-text-mining.html#cb160-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;países&quot;         &quot;parece&quot;         &quot;particulares&quot;   &quot;partido&quot;       </span></span>
<span id="cb160-27"><a href="análise-textual-text-mining.html#cb160-27" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;perigo&quot;         &quot;pode&quot;           &quot;podem&quot;          &quot;povo&quot;          </span></span>
<span id="cb160-28"><a href="análise-textual-text-mining.html#cb160-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;preciso&quot;        &quot;tão&quot;            &quot;tirania&quot;        &quot;todas&quot;         </span></span>
<span id="cb160-29"><a href="análise-textual-text-mining.html#cb160-29" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;abusos&quot;         &quot;ainda&quot;          &quot;alguma&quot;         &quot;algumas&quot;       </span></span>
<span id="cb160-30"><a href="análise-textual-text-mining.html#cb160-30" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] &quot;américa&quot;        &quot;americanas&quot;     &quot;amigos&quot;         &quot;anarquia&quot;      </span></span>
<span id="cb160-31"><a href="análise-textual-text-mining.html#cb160-31" aria-hidden="true" tabindex="-1"></a><span class="do">## [33] &quot;arbitrariedade&quot; &quot;aristocráticas&quot; &quot;artificial&quot;     &quot;assemelhe&quot;     </span></span>
<span id="cb160-32"><a href="análise-textual-text-mining.html#cb160-32" aria-hidden="true" tabindex="-1"></a><span class="do">## [37] &quot;atravessar&quot;     &quot;barreira&quot;       &quot;bem&quot;            &quot;cada&quot;</span></span>
<span id="cb160-33"><a href="análise-textual-text-mining.html#cb160-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Para não poluir demais a nuvem de palavras, restringir às 150 mais frequentes:</span></span>
<span id="cb160-34"><a href="análise-textual-text-mining.html#cb160-34" aria-hidden="true" tabindex="-1"></a>words.counts.head <span class="ot">&lt;-</span> <span class="fu">head</span>(words.counts, <span class="dv">150</span>)</span></code></pre></div>
<p>Gerando a nuvem de palavras:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="análise-textual-text-mining.html#cb161-1" aria-hidden="true" tabindex="-1"></a>wordcloud<span class="sc">::</span><span class="fu">wordcloud</span>(words.counts.head<span class="sc">$</span>words,</span>
<span id="cb161-2"><a href="análise-textual-text-mining.html#cb161-2" aria-hidden="true" tabindex="-1"></a>         <span class="co"># se o input  para esta função contém as frequências de palavras, o item abaixo deve ser descomentado</span></span>
<span id="cb161-3"><a href="análise-textual-text-mining.html#cb161-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">freq =</span> words.counts.head<span class="sc">$</span>n,</span>
<span id="cb161-4"><a href="análise-textual-text-mining.html#cb161-4" aria-hidden="true" tabindex="-1"></a>         <span class="co"># vetor com dois termos indicado o espectro de tamanho das palavras</span></span>
<span id="cb161-5"><a href="análise-textual-text-mining.html#cb161-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">scale =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">1</span>),</span>
<span id="cb161-6"><a href="análise-textual-text-mining.html#cb161-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">min.freq =</span> <span class="dv">2</span>, <span class="co"># Frequência mínima de termos que serão usados</span></span>
<span id="cb161-7"><a href="análise-textual-text-mining.html#cb161-7" aria-hidden="true" tabindex="-1"></a>      <span class="co"># cores, do menos frequente ao mais frequente</span></span>
<span id="cb161-8"><a href="análise-textual-text-mining.html#cb161-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">&quot;royalblue&quot;</span>,<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;darkblue&quot;</span>, <span class="st">&quot;black&quot;</span>)</span>
<span id="cb161-9"><a href="análise-textual-text-mining.html#cb161-9" aria-hidden="true" tabindex="-1"></a>         )</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/wordcloud_tocq-1.png" width="672" /></p>
</div>
<div id="kwic" class="section level2 hasAnchor" number="8.7">
<h2><span class="header-section-number">8.7</span> Palavras em contexto (<em>keyword-in-context KWIC</em>)<a href="análise-textual-text-mining.html#kwic" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- ::: {.infobox .obra data-latex="{construcao}"} -->
<!-- **CAPÍTULO AINDA EM CONSTRUÇÃO** -->
<!-- ::: -->
<p>Podemos ver como certas palavras são usadas em diversas frases no texto para ter uma ideia melhor do contexto em que aparecem.
No quanteda, usamos a função <code>kwic(Dados, pattern = "padrão")</code>, após o texto ter sido tokenizado.</p>
<p>Se ainda não tiver carregado o pacote Quanteda:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="análise-textual-text-mining.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb162-2"><a href="análise-textual-text-mining.html#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Package version: 3.2.1</span></span>
<span id="cb162-3"><a href="análise-textual-text-mining.html#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Unicode version: 14.0</span></span>
<span id="cb162-4"><a href="análise-textual-text-mining.html#cb162-4" aria-hidden="true" tabindex="-1"></a><span class="do">## ICU version: 70.1</span></span>
<span id="cb162-5"><a href="análise-textual-text-mining.html#cb162-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Parallel computing: 4 of 4 threads used.</span></span>
<span id="cb162-6"><a href="análise-textual-text-mining.html#cb162-6" aria-hidden="true" tabindex="-1"></a><span class="do">## See https://quanteda.io for tutorials and examples.</span></span></code></pre></div>
<p>Vamos para um exemplo do texto “Ciência como vocação” de Max Weber:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="análise-textual-text-mining.html#cb163-1" aria-hidden="true" tabindex="-1"></a>texto <span class="ot">=</span> <span class="st">&quot;Por fim, é da sabedoria quotidiana que algo pode ser verdadeiro, embora não seja nem belo, nem sagrado, nem bom. Mas estes são apenas os casos mais elementares da luta que entre si travam os deuses dos ordenamentos e valores singulares. Como será possível pretender decidir &#39;cientificamente&#39; entre o valor da cultura francesa e o da alemã é coisa que não enxergo. Também aqui diferentes deuses lutam entre si, e para sempre. Acontece, embora noutro sentido, o mesmo que ocorria no mundo antigo, quando ainda se não tinha desencantado dos seus deuses e demónios: tal como os Gregos ofereciam sacrifícios, umas vezes, a Afrodite, outras a Apolo e, sobretudo, aos deuses da sua cidade, assim acontece ainda hoje, embora o culto se tenha desmistificado e careça da plástica mítica, mas intimamente verdadeira, daquela conduta. Sobre estes deuses e a sua eterna luta decide o destino, não decerto uma &#39;ciência&#39;. Apenas se pode compreender o que seja o divino para uma e outra ordem ou numa e noutra ordem&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="análise-textual-text-mining.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># termos a serem buscados</span></span>
<span id="cb164-2"><a href="análise-textual-text-mining.html#cb164-2" aria-hidden="true" tabindex="-1"></a>termos.vetor<span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;deus*&quot;</span>, <span class="st">&quot;divin*&quot;</span>, <span class="st">&quot;luta&quot;</span>)</span>
<span id="cb164-3"><a href="análise-textual-text-mining.html#cb164-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-4"><a href="análise-textual-text-mining.html#cb164-4" aria-hidden="true" tabindex="-1"></a>texto <span class="sc">%&gt;%</span> </span>
<span id="cb164-5"><a href="análise-textual-text-mining.html#cb164-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># precisamos primeiro tokenizar</span></span>
<span id="cb164-6"><a href="análise-textual-text-mining.html#cb164-6" aria-hidden="true" tabindex="-1"></a>  tokens<span class="sc">%&gt;%</span> </span>
<span id="cb164-7"><a href="análise-textual-text-mining.html#cb164-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># rodando a função de palavras chave em contexto</span></span>
<span id="cb164-8"><a href="análise-textual-text-mining.html#cb164-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kwic</span>(., </span>
<span id="cb164-9"><a href="análise-textual-text-mining.html#cb164-9" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># termos a serem buscados. Pode ser um termo ou um vetor</span></span>
<span id="cb164-10"><a href="análise-textual-text-mining.html#cb164-10" aria-hidden="true" tabindex="-1"></a>                 termos.vetor, </span>
<span id="cb164-11"><a href="análise-textual-text-mining.html#cb164-11" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># quantas palavras devem ser mostradas ao redor</span></span>
<span id="cb164-12"><a href="análise-textual-text-mining.html#cb164-12" aria-hidden="true" tabindex="-1"></a>                 <span class="dv">4</span>, </span>
<span id="cb164-13"><a href="análise-textual-text-mining.html#cb164-13" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># Para pegar tanto palavras minúsculas como as em maiúsculo. </span></span>
<span id="cb164-14"><a href="análise-textual-text-mining.html#cb164-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">case_insensitive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb164-15"><a href="análise-textual-text-mining.html#cb164-15" aria-hidden="true" tabindex="-1"></a><span class="do">## Keyword-in-context with 8 matches.                                                                               </span></span>
<span id="cb164-16"><a href="análise-textual-text-mining.html#cb164-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   [text1, 35]   casos mais elementares da |  luta  | que entre si travam       </span></span>
<span id="cb164-17"><a href="análise-textual-text-mining.html#cb164-17" aria-hidden="true" tabindex="-1"></a><span class="do">##   [text1, 41]          entre si travam os | deuses | dos ordenamentos e valores</span></span>
<span id="cb164-18"><a href="análise-textual-text-mining.html#cb164-18" aria-hidden="true" tabindex="-1"></a><span class="do">##   [text1, 75]    . Também aqui diferentes | deuses | lutam entre si,           </span></span>
<span id="cb164-19"><a href="análise-textual-text-mining.html#cb164-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [text1, 106] tinha desencantado dos seus | deuses | e demónios: tal           </span></span>
<span id="cb164-20"><a href="análise-textual-text-mining.html#cb164-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  [text1, 131]            , sobretudo, aos | deuses | da sua cidade,            </span></span>
<span id="cb164-21"><a href="análise-textual-text-mining.html#cb164-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  [text1, 162]        conduta. Sobre estes | deuses | e a sua eterna            </span></span>
<span id="cb164-22"><a href="análise-textual-text-mining.html#cb164-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  [text1, 167]              e a sua eterna |  luta  | decide o destino,         </span></span>
<span id="cb164-23"><a href="análise-textual-text-mining.html#cb164-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  [text1, 187]                o que seja o | divino | para uma e outra</span></span></code></pre></div>
<p>No KWIC é possível ainda:</p>
<ul>
<li>usar regex como padrão de busca, através do parâmetro <code>valuetype = "regex</code> em</li>
<li>buscar por duas ou mais palavras em contexto com <code>pattern = phrase(</code></li>
</ul>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="análise-textual-text-mining.html#cb165-1" aria-hidden="true" tabindex="-1"></a>texto <span class="sc">%&gt;%</span> </span>
<span id="cb165-2"><a href="análise-textual-text-mining.html#cb165-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># precisamos primeiro tokenizar</span></span>
<span id="cb165-3"><a href="análise-textual-text-mining.html#cb165-3" aria-hidden="true" tabindex="-1"></a>  tokens<span class="sc">%&gt;%</span> </span>
<span id="cb165-4"><a href="análise-textual-text-mining.html#cb165-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># rodando a função de palavras chave em contexto</span></span>
<span id="cb165-5"><a href="análise-textual-text-mining.html#cb165-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kwic</span>(., </span>
<span id="cb165-6"><a href="análise-textual-text-mining.html#cb165-6" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># termos a serem buscados. Pode ser um termo ou um vetor</span></span>
<span id="cb165-7"><a href="análise-textual-text-mining.html#cb165-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">pattern =</span> <span class="fu">phrase</span>(<span class="st">&quot;eterna luta&quot;</span>),</span>
<span id="cb165-8"><a href="análise-textual-text-mining.html#cb165-8" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># quantas palavras devem ser mostradas ao redor</span></span>
<span id="cb165-9"><a href="análise-textual-text-mining.html#cb165-9" aria-hidden="true" tabindex="-1"></a>                 <span class="dv">7</span>, </span>
<span id="cb165-10"><a href="análise-textual-text-mining.html#cb165-10" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># Para pegar tanto palavras minúculas como as em maiúsculo. </span></span>
<span id="cb165-11"><a href="análise-textual-text-mining.html#cb165-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">case_insensitive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb165-12"><a href="análise-textual-text-mining.html#cb165-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Keyword-in-context with 1 match.                                                              </span></span>
<span id="cb165-13"><a href="análise-textual-text-mining.html#cb165-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  [text1, 166:167] . Sobre estes deuses e a sua | eterna luta |</span></span>
<span id="cb165-14"><a href="análise-textual-text-mining.html#cb165-14" aria-hidden="true" tabindex="-1"></a><span class="do">##                                   </span></span>
<span id="cb165-15"><a href="análise-textual-text-mining.html#cb165-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  decide o destino, não decerto uma</span></span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualização-de-dados.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="text-mining-semantic-parsing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "vk"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
