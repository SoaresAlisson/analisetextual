<!DOCTYPE html>
<html lang="pt-br" xml:lang="pt-br">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>14 Apêndice: Exemplo Análise - CPI da Pandemia | Introdução à Análise Textual aplicada à Sociologia</title>
  <meta name="description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="14 Apêndice: Exemplo Análise - CPI da Pandemia | Introdução à Análise Textual aplicada à Sociologia" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="14 Apêndice: Exemplo Análise - CPI da Pandemia | Introdução à Análise Textual aplicada à Sociologia" />
  
  <meta name="twitter:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

<meta name="author" content="Alisson Soares" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="links-úteis.html"/>
<link rel="next" href="datasets.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.9/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Análise Textual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Objetivos deste manual</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#plano-do-livro"><i class="fa fa-check"></i>Plano do livro</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i>Introdução</a>
<ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#HD"><i class="fa fa-check"></i>O termo “humanidade digitais”</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#fluxo-de-trabalho"><i class="fa fa-check"></i>Fluxo de trabalho</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html"><i class="fa fa-check"></i><b>1</b> História da Análise Textual</a>
<ul>
<li class="chapter" data-level="1.1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#linha-do-tempo-da-história-da-análise-textual"><i class="fa fa-check"></i><b>1.1</b> Linha do tempo da história da Análise Textual</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html"><i class="fa fa-check"></i><b>2</b> Exemplos de Pesquisas em Humanidades Digitais</a>
<ul>
<li class="chapter" data-level="2.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#bibliometria-cientometria-cienciometria"><i class="fa fa-check"></i><b>2.1</b> Bibliometria / cientometria / cienciometria</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-filósofos-da-ciência-na-sociologia"><i class="fa fa-check"></i><b>2.1.1</b> Exemplo: Filósofos da ciência na Sociologia</a></li>
<li class="chapter" data-level="2.1.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-a-teoria-dos-sistemas-sociais-de-niklas-luhmann"><i class="fa fa-check"></i><b>2.1.2</b> Exemplo: A teoria dos sistemas sociais de Niklas Luhmann</a></li>
<li class="chapter" data-level="2.1.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendência-de-termos-chave-da-sociologia"><i class="fa fa-check"></i><b>2.1.3</b> Exemplo: Tendência de termos chave da Sociologia</a></li>
<li class="chapter" data-level="2.1.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendências-das-correntes-na-filosofia"><i class="fa fa-check"></i><b>2.1.4</b> Exemplo: Tendências das correntes na filosofia</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exGoogleTrends"><i class="fa fa-check"></i><b>2.2</b> Exemplo: Google Trends como Proxy para epidemias</a></li>
<li class="chapter" data-level="2.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#ExFakesNewsMundo"><i class="fa fa-check"></i><b>2.3</b> Exemplo: Como as fake news sobre a pandemia de Covid-19 se assemelham/divergem entre os países?</a></li>
<li class="chapter" data-level="2.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-mudança-de-significado-de-palavras"><i class="fa fa-check"></i><b>2.4</b> Exemplo: Mudança de significado de palavras</a></li>
<li class="chapter" data-level="2.5" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-análise-de-complexidade-musical"><i class="fa fa-check"></i><b>2.5</b> Exemplo: Análise de complexidade musical</a></li>
<li class="chapter" data-level="2.6" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-polarização"><i class="fa fa-check"></i><b>2.6</b> Exemplo: Polarização</a></li>
<li class="chapter" data-level="2.7" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-complementando-dados-qualitativos"><i class="fa fa-check"></i><b>2.7</b> Exemplo de integração quali-quanti: Complementando dados qualitativos</a></li>
<li class="chapter" data-level="2.8" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-depurando-dados-quantitativos"><i class="fa fa-check"></i><b>2.8</b> Exemplo de integração quali-quanti: Depurando dados quantitativos</a></li>
<li class="chapter" data-level="2.9" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-processo-civilizador"><i class="fa fa-check"></i><b>2.9</b> Exemplo: Processo Civilizador</a></li>
<li class="chapter" data-level="2.10" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#ex.-determinantes-sociais-do-florescimento-da-cultura-incel"><i class="fa fa-check"></i><b>2.10</b> Ex.: Determinantes sociais do florescimento da cultura Incel</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html"><i class="fa fa-check"></i><b>3</b> Estrutura de dados e tipos de formatos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-estruturados"><i class="fa fa-check"></i><b>3.1</b> Dados estruturados</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#csv"><i class="fa fa-check"></i><b>3.1.1</b> Os formatos csv (<em>comma separeted values</em>) e tsv.</a></li>
<li class="chapter" data-level="3.1.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoJson"><i class="fa fa-check"></i><b>3.1.2</b> O formato Json</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-não-estruturados"><i class="fa fa-check"></i><b>3.2</b> Dados não estruturados</a></li>
<li class="chapter" data-level="3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-semi-estruturados"><i class="fa fa-check"></i><b>3.3</b> Dados semi-estruturados</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#exemplos-de-dados-semi-estruturados"><i class="fa fa-check"></i><b>3.3.1</b> Exemplos de dados semi-estruturados</a></li>
<li class="chapter" data-level="3.3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoMarkdown"><i class="fa fa-check"></i><b>3.3.2</b> O formato Markdown</a></li>
<li class="chapter" data-level="3.3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoYaml"><i class="fa fa-check"></i><b>3.3.3</b> O formato YAML</a></li>
<li class="chapter" data-level="3.3.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoLatex"><i class="fa fa-check"></i><b>3.3.4</b> O Formato LaTex</a></li>
<li class="chapter" data-level="3.3.5" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoBibtex"><i class="fa fa-check"></i><b>3.3.5</b> O formato BibTex</a></li>
<li class="chapter" data-level="3.3.6" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatosXmlHtml"><i class="fa fa-check"></i><b>3.3.6</b> Os formatos xml e html</a></li>
<li class="chapter" data-level="3.3.7" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatos-mais-raros"><i class="fa fa-check"></i><b>3.3.7</b> Formatos mais raros</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#observações-finais"><i class="fa fa-check"></i><b>3.4</b> Observações finais</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html"><i class="fa fa-check"></i><b>4</b> Noções básicas de programação em R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#scaping"><i class="fa fa-check"></i><b>4.1</b> Sequências de scaping</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#coment"><i class="fa fa-check"></i><b>4.1.1</b> Comentando o código</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#variavel"><i class="fa fa-check"></i><b>4.2</b> Variável e atribuição</a></li>
<li class="chapter" data-level="4.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#funções-no-r"><i class="fa fa-check"></i><b>4.3</b> Funções no R</a></li>
<li class="chapter" data-level="4.4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#condicionais-seentão-ifelse"><i class="fa fa-check"></i><b>4.4</b> Condicionais: se/então, If/else</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#else"><i class="fa fa-check"></i><b>4.4.1</b> Else</a></li>
<li class="chapter" data-level="4.4.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#else-if"><i class="fa fa-check"></i><b>4.4.2</b> else if</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores"><i class="fa fa-check"></i><b>4.5</b> Operadores</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores-de-atribuição-assignment"><i class="fa fa-check"></i><b>4.5.1</b> Operadores de atribuição (assignment)</a></li>
<li class="chapter" data-level="4.5.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores-aritiméticos"><i class="fa fa-check"></i><b>4.5.2</b> Operadores Aritiméticos</a></li>
<li class="chapter" data-level="4.5.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_relacionais"><i class="fa fa-check"></i><b>4.5.3</b> Operadores relacionais</a></li>
<li class="chapter" data-level="4.5.4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_booleanos"><i class="fa fa-check"></i><b>4.5.4</b> Operadores booleanos</a></li>
<li class="chapter" data-level="4.5.5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_outros"><i class="fa fa-check"></i><b>4.5.5</b> Outros operadores</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#loops-repetições"><i class="fa fa-check"></i><b>4.6</b> Loops, repetições</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#for-loops"><i class="fa fa-check"></i><b>4.6.1</b> For Loops</a></li>
<li class="chapter" data-level="4.6.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#while-loop"><i class="fa fa-check"></i><b>4.6.2</b> While loop</a></li>
<li class="chapter" data-level="4.6.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#apply-lapply-sapply-tapply-e-mapply"><i class="fa fa-check"></i><b>4.6.3</b> apply (lapply, sapply, tapply e mapply)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html"><i class="fa fa-check"></i><b>5</b> Introdução ao R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#obtendo-ajuda-no-r"><i class="fa fa-check"></i><b>5.1</b> Obtendo Ajuda no R</a></li>
<li class="chapter" data-level="5.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#rcommander"><i class="fa fa-check"></i><b>5.2</b> R em modo gráfico: RKWard e RCommander</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#nvim-r"><i class="fa fa-check"></i><b>5.2.1</b> NVIM-R</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataTypes"><i class="fa fa-check"></i><b>5.3</b> Tipos de Dados no R (data types)</a></li>
<li class="chapter" data-level="5.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#estrutura-de-dados-no-r-data-structures"><i class="fa fa-check"></i><b>5.4</b> Estrutura de dados no R (Data Structures)</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#vectors"><i class="fa fa-check"></i><b>5.4.1</b> Vetor (<em>vector</em>)</a></li>
<li class="chapter" data-level="5.4.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#fatores"><i class="fa fa-check"></i><b>5.4.2</b> Fator (<em>Factor</em>)</a></li>
<li class="chapter" data-level="5.4.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#matrix"><i class="fa fa-check"></i><b>5.4.3</b> Matriz (Matrix)</a></li>
<li class="chapter" data-level="5.4.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tm-dtm"><i class="fa fa-check"></i><b>5.4.4</b> Gerando um DTM com o pacote TM</a></li>
<li class="chapter" data-level="5.4.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tidytext-dtm"><i class="fa fa-check"></i><b>5.4.5</b> Gerando DTM com o pacote Tidytext</a></li>
<li class="chapter" data-level="5.4.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lista"><i class="fa fa-check"></i><b>5.4.6</b> Listas (<em>list</em>)</a></li>
<li class="chapter" data-level="5.4.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dataframes"><i class="fa fa-check"></i><b>5.4.7</b> Data Frames</a></li>
<li class="chapter" data-level="5.4.8" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#fuzzySearch"><i class="fa fa-check"></i><b>5.4.8</b> Busca difusa (<em>fuzzy search</em>)</a></li>
<li class="chapter" data-level="5.4.9" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#considerações-finais-sobre-estrutura-de-dados"><i class="fa fa-check"></i><b>5.4.9</b> Considerações finais sobre estrutura de dados</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#instalandopacotes"><i class="fa fa-check"></i><b>5.5</b> Instalando pacotes no R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#modo-1-instalando-via-linha-de-comando"><i class="fa fa-check"></i><b>5.5.1</b> Modo 1: instalando via linha de comando</a></li>
<li class="chapter" data-level="5.5.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#modo-2-instalando-pacotes-no-modo-gráfico"><i class="fa fa-check"></i><b>5.5.2</b> Modo 2: Instalando pacotes no modo gráfico</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tidyverse"><i class="fa fa-check"></i><b>5.6</b> A suíte de pacotes <code>tidyverse</code></a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#pipes"><i class="fa fa-check"></i><b>5.6.1</b> Pipes</a></li>
<li class="chapter" data-level="5.6.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tibbles"><i class="fa fa-check"></i><b>5.6.2</b> Tibbles</a></li>
<li class="chapter" data-level="5.6.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dplyr"><i class="fa fa-check"></i><b>5.6.3</b> Dplyr: Verbos (ou comandos)</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataHora"><i class="fa fa-check"></i><b>5.7</b> Manipulando data e hora</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#gerando-uma-sequencia-de-datas-no-r"><i class="fa fa-check"></i><b>5.7.1</b> Gerando uma sequencia de datas no R</a></li>
<li class="chapter" data-level="5.7.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lubridate"><i class="fa fa-check"></i><b>5.7.2</b> Lubridate: facilitando manipulação de datas</a></li>
<li class="chapter" data-level="5.7.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#converter-data-em-nome-por-extenso-do-mês"><i class="fa fa-check"></i><b>5.7.3</b> Converter data em nome por extenso do mês</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#links-e-dicas"><i class="fa fa-check"></i><b>5.8</b> Links e Dicas</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html"><i class="fa fa-check"></i><b>6</b> Normalização de texto e Expressões Regulares</a>
<ul>
<li class="chapter" data-level="6.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#regex"><i class="fa fa-check"></i><b>6.1</b> Expressões regulares (RegEx)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#parâmetros-das-regex"><i class="fa fa-check"></i><b>6.1.1</b> Parâmetros das Regex</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#regex-no-r"><i class="fa fa-check"></i><b>6.2</b> RegEx no R</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#grep"><i class="fa fa-check"></i><b>6.2.1</b> Grep</a></li>
<li class="chapter" data-level="6.2.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#gsub"><i class="fa fa-check"></i><b>6.2.2</b> gsub()</a></li>
<li class="chapter" data-level="6.2.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exercício-qual-o-qualis-de-certas-revistas-quais-revistas-possuem-certo-qualis"><i class="fa fa-check"></i><b>6.2.3</b> Exercício: Qual o Qualis de certas revistas? Quais revistas possuem certo Qualis?</a></li>
<li class="chapter" data-level="6.2.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#transformando-strings-em-vetores-com-strsplit"><i class="fa fa-check"></i><b>6.2.4</b> Transformando strings em vetores com <code>strsplit()</code></a></li>
<li class="chapter" data-level="6.2.5" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exemplo-regex"><i class="fa fa-check"></i><b>6.2.5</b> Exemplo regex</a></li>
<li class="chapter" data-level="6.2.6" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#lookaround-lookadead-e-lookbehind"><i class="fa fa-check"></i><b>6.2.6</b> Lookaround lookadead e lookbehind</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#stringr"><i class="fa fa-check"></i><b>6.3</b> Pacote stringr</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#normalização-com-stringr"><i class="fa fa-check"></i><b>6.3.1</b> Normalização com stringr</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões-regex-no-r"><i class="fa fa-check"></i><b>6.4</b> Dicas/Sugestões: Regex no R</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>7</b> Visualização de dados <em>dataviz</em></a>
<ul>
<li class="chapter" data-level="7.1" data-path="dataviz.html"><a href="dataviz.html#baseplots"><i class="fa fa-check"></i><b>7.1</b> Base plots</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="dataviz.html"><a href="dataviz.html#hist"><i class="fa fa-check"></i><b>7.1.1</b> Histograma (<em>histogram</em>) no pacote base</a></li>
<li class="chapter" data-level="7.1.2" data-path="dataviz.html"><a href="dataviz.html#barplot"><i class="fa fa-check"></i><b>7.1.2</b> Gráfico de barras (<em>barplot</em>)</a></li>
<li class="chapter" data-level="7.1.3" data-path="dataviz.html"><a href="dataviz.html#piechart"><i class="fa fa-check"></i><b>7.1.3</b> Gráfico de Pizza (<em>pie chart</em>)</a></li>
<li class="chapter" data-level="7.1.4" data-path="dataviz.html"><a href="dataviz.html#scatterplot"><i class="fa fa-check"></i><b>7.1.4</b> Gráfico de dispersão (<em>scatterplot</em>)</a></li>
<li class="chapter" data-level="7.1.5" data-path="dataviz.html"><a href="dataviz.html#lineplot"><i class="fa fa-check"></i><b>7.1.5</b> Gráfico de linha (<em>line plot</em>)</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="dataviz.html"><a href="dataviz.html#cores"><i class="fa fa-check"></i><b>7.2</b> Cores</a></li>
<li class="chapter" data-level="7.3" data-path="dataviz.html"><a href="dataviz.html#o-pacote-lattice"><i class="fa fa-check"></i><b>7.3</b> O pacote Lattice</a></li>
<li class="chapter" data-level="7.4" data-path="dataviz.html"><a href="dataviz.html#ggplot2"><i class="fa fa-check"></i><b>7.4</b> O pacote ggplot2</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-aes"><i class="fa fa-check"></i><b>7.4.1</b> ggplot: nível aes</a></li>
<li class="chapter" data-level="7.4.2" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-geom"><i class="fa fa-check"></i><b>7.4.2</b> ggplot: Nível geom</a></li>
<li class="chapter" data-level="7.4.3" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-facet_"><i class="fa fa-check"></i><b>7.4.3</b> ggplot: nível facet_</a></li>
<li class="chapter" data-level="7.4.4" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-stat"><i class="fa fa-check"></i><b>7.4.4</b> ggplot: nível stat</a></li>
<li class="chapter" data-level="7.4.5" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-sistema-de-coordenadas"><i class="fa fa-check"></i><b>7.4.5</b> ggplot: nível sistema de coordenadas</a></li>
<li class="chapter" data-level="7.4.6" data-path="dataviz.html"><a href="dataviz.html#cores-no-ggplot"><i class="fa fa-check"></i><b>7.4.6</b> Cores no ggplot</a></li>
<li class="chapter" data-level="7.4.7" data-path="dataviz.html"><a href="dataviz.html#dicas-ggplot"><i class="fa fa-check"></i><b>7.4.7</b> Dicas ggplot</a></li>
<li class="chapter" data-level="7.4.8" data-path="dataviz.html"><a href="dataviz.html#dicas-outros-pacotes-gráficos"><i class="fa fa-check"></i><b>7.4.8</b> Dicas outros pacotes gráficos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html"><i class="fa fa-check"></i><b>8</b> Análise Textual (<em>text mining</em>)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#introdução"><i class="fa fa-check"></i><b>8.1</b> Introdução</a></li>
<li class="chapter" data-level="8.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagens-saco-de-palavras-bag-of-words-e-análise-semântica-semantic-parsing"><i class="fa fa-check"></i><b>8.2</b> Abordagens: saco de palavras (<em>bag of words</em>) e análise semântica (<em>semantic parsing</em>)</a></li>
<li class="chapter" data-level="8.3" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagem-bag-of-words"><i class="fa fa-check"></i><b>8.3</b> Abordagem <em>Bag of words</em></a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#frequência-de-palavrastermos-e-ngrams"><i class="fa fa-check"></i><b>8.3.1</b> Frequência de palavras/termos e Ngrams</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stopwords"><i class="fa fa-check"></i><b>8.4</b> Remoção de palavra vazia (<em>stopwords</em>)</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#criando-lista-com-stopwords"><i class="fa fa-check"></i><b>8.4.1</b> Criando lista com stopwords</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#estemização-stemming-e-lematização"><i class="fa fa-check"></i><b>8.5</b> Estemização (<em>stemming</em>) e lematização</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stemming"><i class="fa fa-check"></i><b>8.5.1</b> Estemização</a></li>
<li class="chapter" data-level="8.5.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#lemma"><i class="fa fa-check"></i><b>8.5.2</b> Lematização</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#wordcloud"><i class="fa fa-check"></i><b>8.6</b> Nuvem de palavras</a></li>
<li class="chapter" data-level="8.7" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#kwic"><i class="fa fa-check"></i><b>8.7</b> Palavras em contexto (<em>keyword-in-context KWIC</em>)</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html"><i class="fa fa-check"></i><b>9</b> Text mining: Semantic Parsing</a>
<ul>
<li class="chapter" data-level="9.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#pos---part-of-speech-tagging"><i class="fa fa-check"></i><b>9.1</b> POS - Part-of-speech tagging</a></li>
<li class="chapter" data-level="9.2" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#udpipe"><i class="fa fa-check"></i><b>9.2</b> Pacote UDPipe</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#coocorrência-de-palavras"><i class="fa fa-check"></i><b>9.2.1</b> Coocorrência de palavras</a></li>
<li class="chapter" data-level="9.2.2" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#rede-de-palavras-wordnet"><i class="fa fa-check"></i><b>9.2.2</b> Rede de palavras (<em>wordnet</em>)</a></li>
<li class="chapter" data-level="9.2.3" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#análise-de-semelhanças"><i class="fa fa-check"></i><b>9.2.3</b> Análise de semelhanças</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="sentiment.html"><a href="sentiment.html"><i class="fa fa-check"></i><b>10</b> Classificação: Dicionários e Análise de Sentimentos</a>
<ul>
<li class="chapter" data-level="10.1" data-path="sentiment.html"><a href="sentiment.html#classificacao"><i class="fa fa-check"></i><b>10.1</b> Classificação</a></li>
<li class="chapter" data-level="10.2" data-path="sentiment.html"><a href="sentiment.html#sentiment-analysis"><i class="fa fa-check"></i><b>10.2</b> Análise de sentimentos (<em>Sentiment Analysis</em>) por meio de dicionário/léxico</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="sentiment.html"><a href="sentiment.html#datasets-de-sentimentosemoções"><i class="fa fa-check"></i><b>10.2.1</b> Datasets de sentimentos/emoções</a></li>
<li class="chapter" data-level="10.2.2" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis"><i class="fa fa-check"></i><b>10.2.2</b> Pacote SentimentAnalysis</a></li>
<li class="chapter" data-level="10.2.3" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-Tidytext"><i class="fa fa-check"></i><b>10.2.3</b> Pacote Tidytext</a></li>
<li class="chapter" data-level="10.2.4" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-Quanteda"><i class="fa fa-check"></i><b>10.2.4</b> Pacote Quanteda</a></li>
<li class="chapter" data-level="10.2.5" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-syuzhet"><i class="fa fa-check"></i><b>10.2.5</b> Pacote syuzhet</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="sentiment.html"><a href="sentiment.html#dicas-finais-bibliografia-indicada"><i class="fa fa-check"></i><b>10.3</b> Dicas finais: Bibliografia indicada</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html"><i class="fa fa-check"></i><b>11</b> Análise de Redes Sociais</a>
<ul>
<li class="chapter" data-level="11.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#o-pacote-igraph"><i class="fa fa-check"></i><b>11.1</b> O pacote Igraph</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#clusterização"><i class="fa fa-check"></i><b>11.1.1</b> Clusterização</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#os-pacotes-ggraph-e-tidygraph-.-construindo-grafos-com-o-tidyverse."><i class="fa fa-check"></i><b>11.2</b> Os pacotes <code>ggraph</code> e <code>tidygraph</code> . Construindo grafos com o <code>tidyverse</code>.</a></li>
<li class="chapter" data-level="11.3" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-palavras"><i class="fa fa-check"></i><b>11.3</b> Redes de palavras</a></li>
<li class="chapter" data-level="11.4" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-citação"><i class="fa fa-check"></i><b>11.4</b> Redes de citação</a></li>
<li class="chapter" data-level="11.5" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#gráfico-de-centralidade"><i class="fa fa-check"></i><b>11.5</b> Gráfico de centralidade</a></li>
<li class="chapter" data-level="11.6" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#comunidades"><i class="fa fa-check"></i><b>11.6</b> Comunidades</a></li>
<li class="chapter" data-level="11.7" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#SugestaoLinksredes"><i class="fa fa-check"></i><b>11.7</b> Sugestões de links</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="KE.html"><a href="KE.html"><i class="fa fa-check"></i><b>12</b> Extração de palavras-chave - <em>Key term</em> ou <em>keyword extraction</em></a>
<ul>
<li class="chapter" data-level="12.1" data-path="KE.html"><a href="KE.html#keywordassignment"><i class="fa fa-check"></i><b>12.1</b> Atribuição de palavra chave <em>Keyword assignment</em></a></li>
<li class="chapter" data-level="12.2" data-path="KE.html"><a href="KE.html#keywordextraction"><i class="fa fa-check"></i><b>12.2</b> Key term ou keyword extraction</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="KE.html"><a href="KE.html#tf-idf"><i class="fa fa-check"></i><b>12.2.1</b> TF-IDF: Term-Frequency Inverse Document Frequency</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="KE.html"><a href="KE.html#coocorrencia"><i class="fa fa-check"></i><b>12.3</b> Colocação e Coocorrência</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="KE.html"><a href="KE.html#colocação-com-o-quanteda"><i class="fa fa-check"></i><b>12.3.1</b> Colocação com o Quanteda</a></li>
<li class="chapter" data-level="12.3.2" data-path="KE.html"><a href="KE.html#colocação-com-udpipe"><i class="fa fa-check"></i><b>12.3.2</b> Colocação com Udpipe</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="links-úteis.html"><a href="links-úteis.html"><i class="fa fa-check"></i><b>13</b> Links úteis</a>
<ul>
<li class="chapter" data-level="13.1" data-path="links-úteis.html"><a href="links-úteis.html#humanidades-digitais"><i class="fa fa-check"></i><b>13.1</b> Humanidades digitais</a></li>
<li class="chapter" data-level="13.2" data-path="links-úteis.html"><a href="links-úteis.html#análise-de-redes-sociais-1"><i class="fa fa-check"></i><b>13.2</b> Análise de redes sociais</a></li>
<li class="chapter" data-level="13.3" data-path="links-úteis.html"><a href="links-úteis.html#textos-sobre-análise-textual"><i class="fa fa-check"></i><b>13.3</b> Textos sobre análise textual</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="links-úteis.html"><a href="links-úteis.html#sociologia-digital-ciências-sociais-computacionais"><i class="fa fa-check"></i><b>13.3.1</b> Sociologia Digital / Ciências Sociais Computacionais</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="links-úteis.html"><a href="links-úteis.html#processamento-linguagem-natural-pln-ou-nlp"><i class="fa fa-check"></i><b>13.4</b> Processamento Linguagem Natural (PLN ou NLP)</a></li>
<li class="chapter" data-level="13.5" data-path="links-úteis.html"><a href="links-úteis.html#revistas-journals-acadêmicos"><i class="fa fa-check"></i><b>13.5</b> Revistas / Journals acadêmicos</a></li>
<li class="chapter" data-level="13.6" data-path="links-úteis.html"><a href="links-úteis.html#dados-abertos"><i class="fa fa-check"></i><b>13.6</b> Dados Abertos</a></li>
<li class="chapter" data-level="13.7" data-path="links-úteis.html"><a href="links-úteis.html#vídeos"><i class="fa fa-check"></i><b>13.7</b> Vídeos</a></li>
<li class="chapter" data-level="13.8" data-path="links-úteis.html"><a href="links-úteis.html#sites-blogs"><i class="fa fa-check"></i><b>13.8</b> Sites / Blogs</a></li>
<li class="chapter" data-level="13.9" data-path="links-úteis.html"><a href="links-úteis.html#organizações"><i class="fa fa-check"></i><b>13.9</b> Organizações</a></li>
<li class="chapter" data-level="13.10" data-path="links-úteis.html"><a href="links-úteis.html#estatística"><i class="fa fa-check"></i><b>13.10</b> Estatística</a></li>
<li class="chapter" data-level="13.11" data-path="links-úteis.html"><a href="links-úteis.html#podcasts"><i class="fa fa-check"></i><b>13.11</b> Podcasts</a></li>
<li class="chapter" data-level="13.12" data-path="links-úteis.html"><a href="links-úteis.html#links-programação"><i class="fa fa-check"></i><b>13.12</b> Links Programação</a>
<ul>
<li class="chapter" data-level="13.12.1" data-path="links-úteis.html"><a href="links-úteis.html#r-introdução"><i class="fa fa-check"></i><b>13.12.1</b> R introdução</a></li>
<li class="chapter" data-level="13.12.2" data-path="links-úteis.html"><a href="links-úteis.html#r-e-estatística"><i class="fa fa-check"></i><b>13.12.2</b> R e estatística</a></li>
<li class="chapter" data-level="13.12.3" data-path="links-úteis.html"><a href="links-úteis.html#r---tópicos-específicos"><i class="fa fa-check"></i><b>13.12.3</b> R - tópicos específicos</a></li>
<li class="chapter" data-level="13.12.4" data-path="links-úteis.html"><a href="links-úteis.html#r---avançado"><i class="fa fa-check"></i><b>13.12.4</b> R - avançado</a></li>
<li class="chapter" data-level="13.12.5" data-path="links-úteis.html"><a href="links-úteis.html#links-python"><i class="fa fa-check"></i><b>13.12.5</b> Links Python</a></li>
<li class="chapter" data-level="13.12.6" data-path="links-úteis.html"><a href="links-úteis.html#python---tópicos-específicos"><i class="fa fa-check"></i><b>13.12.6</b> Python - tópicos específicos</a></li>
</ul></li>
<li class="chapter" data-level="13.13" data-path="links-úteis.html"><a href="links-úteis.html#links-de-cursos-online"><i class="fa fa-check"></i><b>13.13</b> Links de Cursos Online</a></li>
<li class="chapter" data-level="13.14" data-path="links-úteis.html"><a href="links-úteis.html#grupos-de-discussãoforum"><i class="fa fa-check"></i><b>13.14</b> Grupos de discussão/Forum</a>
<ul>
<li class="chapter" data-level="13.14.1" data-path="links-úteis.html"><a href="links-úteis.html#telegram"><i class="fa fa-check"></i><b>13.14.1</b> Telegram</a></li>
</ul></li>
<li class="chapter" data-level="13.15" data-path="links-úteis.html"><a href="links-úteis.html#links-de-folhas-de-dicas-cheat-sheets"><i class="fa fa-check"></i><b>13.15</b> Links de folhas de dicas (<em>Cheat-sheets</em>)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="excpi.html"><a href="excpi.html"><i class="fa fa-check"></i><b>14</b> Apêndice: Exemplo Análise - CPI da Pandemia</a>
<ul>
<li class="chapter" data-level="14.1" data-path="excpi.html"><a href="excpi.html#introdução-1"><i class="fa fa-check"></i><b>14.1</b> Introdução</a></li>
<li class="chapter" data-level="14.2" data-path="excpi.html"><a href="excpi.html#pré-processamento"><i class="fa fa-check"></i><b>14.2</b> Pré-processamento</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="excpi.html"><a href="excpi.html#pré-processamento-substituição-de-abreviaturas"><i class="fa fa-check"></i><b>14.2.1</b> Pré-processamento: substituição de abreviaturas</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="excpi.html"><a href="excpi.html#primeiras-observações"><i class="fa fa-check"></i><b>14.3</b> Primeiras observações</a></li>
<li class="chapter" data-level="14.4" data-path="excpi.html"><a href="excpi.html#entes"><i class="fa fa-check"></i><b>14.4</b> Entes</a></li>
<li class="chapter" data-level="14.5" data-path="excpi.html"><a href="excpi.html#palavras-chave-em-contexto---kwic"><i class="fa fa-check"></i><b>14.5</b> Palavras chave em contexto - KWIC</a></li>
<li class="chapter" data-level="14.6" data-path="excpi.html"><a href="excpi.html#opção-1-separando-apenas-os-senadores"><i class="fa fa-check"></i><b>14.6</b> Opção 1: Separando apenas os senadores</a></li>
<li class="chapter" data-level="14.7" data-path="excpi.html"><a href="excpi.html#opção-2-somente-senadores-a-partir-do-site-do-senado"><i class="fa fa-check"></i><b>14.7</b> Opção 2: Somente senadores, a partir do site do Senado</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="excpi.html"><a href="excpi.html#exCpi_wordcloud"><i class="fa fa-check"></i><b>14.7.1</b> Frequência e <em>wordcloud</em> (Nuvem de palavras)</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="excpi.html"><a href="excpi.html#nuvem-de-palavras-comparativa-wordcloud-comparision"><i class="fa fa-check"></i><b>14.8</b> Nuvem de palavras comparativa <em>Wordcloud comparision</em></a></li>
<li class="chapter" data-level="14.9" data-path="excpi.html"><a href="excpi.html#extração-de-palavras-chave-keywords---colocação-collocation"><i class="fa fa-check"></i><b>14.9</b> Extração de palavras chave Keywords - colocação (<em>collocation</em>)</a></li>
<li class="chapter" data-level="14.10" data-path="excpi.html"><a href="excpi.html#tf-idf-dos-senadores"><i class="fa fa-check"></i><b>14.10</b> TF-IDF dos Senadores</a></li>
<li class="chapter" data-level="14.11" data-path="excpi.html"><a href="excpi.html#dicionário"><i class="fa fa-check"></i><b>14.11</b> Dicionário</a></li>
<li class="chapter" data-level="14.12" data-path="excpi.html"><a href="excpi.html#exCpi_coocorrencia"><i class="fa fa-check"></i><b>14.12</b> Análise de coocorrência</a></li>
<li class="chapter" data-level="14.13" data-path="excpi.html"><a href="excpi.html#modelagem-de-tópicos"><i class="fa fa-check"></i><b>14.13</b> Modelagem de tópicos</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="datasets.html"><a href="datasets.html"><i class="fa fa-check"></i><b>15</b> Apêndice: Datasets</a>
<ul>
<li class="chapter" data-level="15.1" data-path="datasets.html"><a href="datasets.html#pacotes-r-com-datasets"><i class="fa fa-check"></i><b>15.1</b> Pacotes R com datasets</a></li>
<li class="chapter" data-level="15.2" data-path="datasets.html"><a href="datasets.html#datasets-em-sites-diversos"><i class="fa fa-check"></i><b>15.2</b> Datasets em sites diversos:</a></li>
<li class="chapter" data-level="15.3" data-path="datasets.html"><a href="datasets.html#datasets-no-kaggle"><i class="fa fa-check"></i><b>15.3</b> Datasets no <span>Kaggle</span>:</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Análise Textual aplicada à Sociologia</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="excpi" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">14</span> Apêndice: Exemplo Análise - CPI da Pandemia<a href="excpi.html#excpi" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!-- Há duas versões deste arquivo. um na pasta Notas taquigrafias e e outra no paste análise textual, sociologiai -->
<!-- << preprocessamento: /retirar pontuação/stemizar/ substituir abreviaturas -->
<p>Apresento aqui um exemplo de análise possível utilizando várias técnicas de análise textual. Uma outra versão deste texto, porém não idêntico, se encontra <a href="https://github.com/SoaresAlisson/NotasTaquigraficas/tree/master/vignette">neste link</a>.</p>
<div id="introdução-1" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">14.1</span> Introdução<a href="excpi.html#introdução-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Atenção:</strong> O texto a seguir não tem o intuito de ser uma análise da CPI da Pandemia, mas sim de servir de breve tutorial, de fornecer ideias de uso de algumas das ferramentas disponíveis para análise textual, que podem permitir análises posteriores mais apuradas por quem se interessar pelo tema da CPI.
Utilizamos aqui a base de dados feita a partir das notas taquigráficas das reuniões da CPI da pandemia, ocorrida no ano de 2021.
Confira o <a href="https://github.com/SoaresAlisson/NotasTaquigraficas">readme</a>.
<!-- As Notas Taquigráficas da CPI da Pandemia foram estruturadas em um dataframe no formato .rds do R: [Todas as notas da CPI da Pandemia](https://github.com/SoaresAlisson/NotasTaquigraficas/raw/master/rds/NT_todas_normalizado.rds). -->
<!-- **Atenção:** O texto a seguir não tem o intuito de ser uma análise da CPI, mas sim de servir de breve tutorial, de fornecer ideias de uso de algumas das ferramentas disponíveis para análise textual, para análises posteriores mais apuradas por quem se interessar pelo tema da CPI. Utilizamos aqui a base de dados feita a partir das notas taquigráficas das reuniões da CPI da pandemia, ocorrida no ano de 2021. -->
<!-- As Notas Taquigráficas da CPI da Pandemia foram estruturadas em um dataframe no formato .rds do R: [Todas as notas da CPI da Pandemia](https://github.com/SoaresAlisson/NotasTaquigraficas/raw/master/rds/NT_todas_normalizado.rds). -->
<!-- <<i --></p>
<p>A primeira coisa a se fazer é colocar como opção global de nosso projeto que strings não sejam consideradas como fatores.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="excpi.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Opções globais</span></span>
<span id="cb247-2"><a href="excpi.html#cb247-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>Carregando alguns dos principais pacotes necessários. Outros serão incorporados.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="excpi.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># para manipular os dados</span></span>
<span id="cb248-2"><a href="excpi.html#cb248-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr) <span class="co"># para usamors os pipes: %&gt;%</span></span>
<span id="cb248-3"><a href="excpi.html#cb248-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># para gerar gráficos mais agradáveis</span></span></code></pre></div>
<p>Vamos importar os dados, e temos duas opções.</p>
<p>Opção 1: baixando a base de dados direto do site</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="excpi.html#cb249-1" aria-hidden="true" tabindex="-1"></a>NotasTaq <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">url</span>(<span class="st">&quot;https://github.com/SoaresAlisson/NotasTaquigraficas/raw/master/rds/NT_todas_normalizado.rds&quot;</span>))</span></code></pre></div>
<p>Opção 2: utilizando arquivo no seu computador.<br />
É possível também baixar a <a href="https://github.com/SoaresAlisson/NotasTaquigraficas/raw/master/rds/NT_todas_normalizado.rds">base de dados</a> em seu computador e carregá-la dali.
Para tal, 1) baixe o aquivo pelo site e salve em seu computador; 2) copie o endereço do arquivo no seu computador 3) Use a função <code>readRDS()</code> com o endereço do arquivo, como no exemplo abaixo.
Ali utiliza-se um endereço padrão Linux.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="excpi.html#cb250-1" aria-hidden="true" tabindex="-1"></a>NotasTaq <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;~/Documentos/NT_todas_normalizado.rds&quot;</span>)</span></code></pre></div>
<p>Caso utilize Windows, o caminho para o arquivo pode ser que tenha que ser algo como:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="excpi.html#cb251-1" aria-hidden="true" tabindex="-1"></a>NotasTaq <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;c:\Documentos\NT_todas_normalizado.rds&quot;</span>)</span></code></pre></div>
<p>Vamos transformar nosso dataframe em tibble, caso ainda não o seja</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="excpi.html#cb252-1" aria-hidden="true" tabindex="-1"></a>NotasTaq <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">as_tibble</span>(NotasTaq)</span>
<span id="cb252-2"><a href="excpi.html#cb252-2" aria-hidden="true" tabindex="-1"></a><span class="co"># conferindo se é tibble</span></span>
<span id="cb252-3"><a href="excpi.html#cb252-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(NotasTaq)</span>
<span id="cb252-4"><a href="excpi.html#cb252-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span>
<span id="cb252-5"><a href="excpi.html#cb252-5" aria-hidden="true" tabindex="-1"></a><span class="co"># &quot;tbl_df&quot; indica que é tibble</span></span>
<span id="cb252-6"><a href="excpi.html#cb252-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-7"><a href="excpi.html#cb252-7" aria-hidden="true" tabindex="-1"></a><span class="co"># observando a estrutura de nossa tabela</span></span>
<span id="cb252-8"><a href="excpi.html#cb252-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(NotasTaq)</span>
<span id="cb252-9"><a href="excpi.html#cb252-9" aria-hidden="true" tabindex="-1"></a><span class="do">## tibble [94,272 × 9] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb252-10"><a href="excpi.html#cb252-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ reuniao        : num [1:94272] 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb252-11"><a href="excpi.html#cb252-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ data           : Date[1:94272], format: &quot;2021-04-27&quot; &quot;2021-04-27&quot; ...</span></span>
<span id="cb252-12"><a href="excpi.html#cb252-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ nome           : chr [1:94272] &quot;Otto Alencar&quot; &quot;Ciro Nogueira&quot; &quot;Otto Alencar&quot; &quot;Ciro Nogueira&quot; ...</span></span>
<span id="cb252-13"><a href="excpi.html#cb252-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ funcao_blocoPar: chr [1:94272] &quot;PRESIDENTE&quot; &quot;(Bloco Parlamentar Unidos pelo Brasil/PP - PI. Para questão de ordem.)&quot; &quot;PRESIDENTE&quot; &quot;(Bloco Parlamentar Unidos pelo Brasil/PP - PI)&quot; ...</span></span>
<span id="cb252-14"><a href="excpi.html#cb252-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ BlocoParl      : chr [1:94272] &quot;(Otto Alencar. PSD - BA. Fala da Presidência.)&quot; &quot;Bloco Parlamentar Unidos pelo Brasil&quot; &quot;(Otto Alencar. PSD - BA)&quot; &quot;Bloco Parlamentar Unidos pelo Brasil&quot; ...</span></span>
<span id="cb252-15"><a href="excpi.html#cb252-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ partido        : Named chr [1:94272] &quot;PSD&quot; &quot;PP&quot; &quot;PSD&quot; &quot;PP&quot; ...</span></span>
<span id="cb252-16"><a href="excpi.html#cb252-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..- attr(*, &quot;names&quot;)= chr [1:94272] &quot;PSD&quot; &quot;PP&quot; &quot;PSD&quot; &quot;PP&quot; ...</span></span>
<span id="cb252-17"><a href="excpi.html#cb252-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ estado         : chr [1:94272] &quot;BA&quot; &quot;PI&quot; &quot;BA&quot; &quot;PI&quot; ...</span></span>
<span id="cb252-18"><a href="excpi.html#cb252-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ complemento    : chr [1:94272] &quot;Fala da Presidência&quot; &quot;Para questão de ordem&quot; &quot;&quot; &quot;&quot; ...</span></span>
<span id="cb252-19"><a href="excpi.html#cb252-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ fala           : chr [1:94272] &quot;Invocando a proteção de Deus, declaro aberta a sessão para eleição, já que temos quórum suficiente para a abert&quot;| __truncated__ &quot;Sr. Presidente, Sras. e Srs. Senadores, eu achava que nós deveríamos suspender a atual sessão até que seja sana&quot;| __truncated__ &quot;Senador Ciro Nogueira, esta é uma Comissão Parlamentar de Inquérito, V. Exa. sabe que não é temática. Então, é &quot;| __truncated__ &quot;Sr. Presidente, não é o caso de indeferir ou não. Isso aqui... &quot; ...</span></span></code></pre></div>
<p>Vemos que a coluna “BlocoParl” foi desmembrada em outras, como “partido”, “estado” e “complemento”, o que facilita se quisermos filtrar por estas variáveis.</p>
<p>Se quisermos dar uma olhada na tabela completa, usamos a função <code>View()</code>.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="excpi.html#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(NotasTaq)</span></code></pre></div>
</div>
<div id="pré-processamento" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">14.2</span> Pré-processamento<a href="excpi.html#pré-processamento" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>O pré-processamento de texto é necessário para evitar certas dores de cabeça mediante a padronização dos dados.</p>
<div id="pré-processamento-substituição-de-abreviaturas" class="section level3 hasAnchor" number="14.2.1">
<h3><span class="header-section-number">14.2.1</span> Pré-processamento: substituição de abreviaturas<a href="excpi.html#pré-processamento-substituição-de-abreviaturas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Nosso primeiro passo no pré-processamento será substituir as abreviaturas mais comuns pelo seu equivalente por extenso. Vamos pegar abreviaturas usando um regex, pegando qualquer palavra que se inicie com maiúsculo e que termine com ponto final.
Talvez este não seja o melhor regex para este caso, e teremos vários “falsos positivos”, mas será melhor que buscá-las manualmente, uma a uma lendo todo o texto (precisaríamos de dias para tal). Dali, observamos e montamos nossa tabela de abreviaturas.</p>
<!-- abrev <- stringr::str_extract_all(NotasTaq$fala, "([A-Z][a-z]*\\. )?[A-Z][a-z]+\\.") |> unlist() |> unique() -->
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="excpi.html#cb254-1" aria-hidden="true" tabindex="-1"></a>abrev <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_extract_all</span>(NotasTaq<span class="sc">$</span>fala,</span>
<span id="cb254-2"><a href="excpi.html#cb254-2" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;([A-Z][a-z]{0,4}</span><span class="sc">\\</span><span class="st">. )?([A-Z]+|[A-Z][a-z]{0,4})</span><span class="sc">\\</span><span class="st">.&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb254-3"><a href="excpi.html#cb254-3" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">unlist</span>()</span>
<span id="cb254-4"><a href="excpi.html#cb254-4" aria-hidden="true" tabindex="-1"></a>abrev_cont <span class="ot">&lt;-</span> abrev <span class="sc">|&gt;</span> </span>
<span id="cb254-5"><a href="excpi.html#cb254-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># contando com plyr::count temos um dataframe com a frequencia</span></span>
<span id="cb254-6"><a href="excpi.html#cb254-6" aria-hidden="true" tabindex="-1"></a>    plyr<span class="sc">::</span><span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb254-7"><a href="excpi.html#cb254-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(freq))</span>
<span id="cb254-8"><a href="excpi.html#cb254-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos observar os termos com maior frequência </span></span>
<span id="cb254-9"><a href="excpi.html#cb254-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abrev_cont, <span class="dv">30</span>)</span>
<span id="cb254-10"><a href="excpi.html#cb254-10" aria-hidden="true" tabindex="-1"></a><span class="do">##           x  freq</span></span>
<span id="cb254-11"><a href="excpi.html#cb254-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 1       Sr. 12227</span></span>
<span id="cb254-12"><a href="excpi.html#cb254-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 2   V. Exa.  7453</span></span>
<span id="cb254-13"><a href="excpi.html#cb254-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    V. Sa.  4444</span></span>
<span id="cb254-14"><a href="excpi.html#cb254-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 4       Dr.  1917</span></span>
<span id="cb254-15"><a href="excpi.html#cb254-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 5      Dra.  1321</span></span>
<span id="cb254-16"><a href="excpi.html#cb254-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 6      Sim.  1263</span></span>
<span id="cb254-17"><a href="excpi.html#cb254-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 7      CPI.  1247</span></span>
<span id="cb254-18"><a href="excpi.html#cb254-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 8        O.   785</span></span>
<span id="cb254-19"><a href="excpi.html#cb254-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 9      Srs.   773</span></span>
<span id="cb254-20"><a href="excpi.html#cb254-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 10     Sra.   720</span></span>
<span id="cb254-21"><a href="excpi.html#cb254-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 11    Sras.   469</span></span>
<span id="cb254-22"><a href="excpi.html#cb254-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 12    Isso.   392</span></span>
<span id="cb254-23"><a href="excpi.html#cb254-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 13   Renan.   379</span></span>
<span id="cb254-24"><a href="excpi.html#cb254-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 14   Covid.   345</span></span>
<span id="cb254-25"><a href="excpi.html#cb254-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 15   Paulo.   205</span></span>
<span id="cb254-26"><a href="excpi.html#cb254-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 16    Dias.   201</span></span>
<span id="cb254-27"><a href="excpi.html#cb254-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 17   Risos.   197</span></span>
<span id="cb254-28"><a href="excpi.html#cb254-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 18  S. Exa.   183</span></span>
<span id="cb254-29"><a href="excpi.html#cb254-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 19 V. Exas.   174</span></span>
<span id="cb254-30"><a href="excpi.html#cb254-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 20   Claro.   159</span></span>
<span id="cb254-31"><a href="excpi.html#cb254-31" aria-hidden="true" tabindex="-1"></a><span class="do">## 21   Certo.   157</span></span>
<span id="cb254-32"><a href="excpi.html#cb254-32" aria-hidden="true" tabindex="-1"></a><span class="do">## 22   Costa.   133</span></span>
<span id="cb254-33"><a href="excpi.html#cb254-33" aria-hidden="true" tabindex="-1"></a><span class="do">## 23    Bank.   127</span></span>
<span id="cb254-34"><a href="excpi.html#cb254-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 24    Omar.   127</span></span>
<span id="cb254-35"><a href="excpi.html#cb254-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 25     Log.   122</span></span>
<span id="cb254-36"><a href="excpi.html#cb254-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 26    Otto.   115</span></span>
<span id="cb254-37"><a href="excpi.html#cb254-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 27   China.   105</span></span>
<span id="cb254-38"><a href="excpi.html#cb254-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 28       S.   105</span></span>
<span id="cb254-39"><a href="excpi.html#cb254-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 29    Aziz.   103</span></span>
<span id="cb254-40"><a href="excpi.html#cb254-40" aria-hidden="true" tabindex="-1"></a><span class="do">## 30     Vac.   101</span></span></code></pre></div>
<p>Se quisermos olhar os termos no contexto, isto é, as palaras que o circundam, para termos uma noção do uso das abreviações, podemos usar o seguinte código:</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="excpi.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Termo a ser buscado</span></span>
<span id="cb255-2"><a href="excpi.html#cb255-2" aria-hidden="true" tabindex="-1"></a>termo<span class="ot">=</span><span class="st">&quot;MP&quot;</span> </span>
<span id="cb255-3"><a href="excpi.html#cb255-3" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_extract_all</span>(NotasTaq<span class="sc">$</span>fala, </span>
<span id="cb255-4"><a href="excpi.html#cb255-4" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">paste</span>(<span class="st">&quot;(</span><span class="sc">\\</span><span class="st">w+){2}&quot;</span>, termo, <span class="st">&quot;(</span><span class="sc">\\</span><span class="st">w+</span><span class="sc">\\</span><span class="st">W{1,2}){3}&quot;</span>) ) <span class="sc">|&gt;</span> </span>
<span id="cb255-5"><a href="excpi.html#cb255-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">unlist</span>() <span class="sc">|&gt;</span> plyr<span class="sc">::</span><span class="fu">count</span>() <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="sc">-</span>freq) <span class="sc">|&gt;</span> <span class="fu">as_tibble</span>()</span>
<span id="cb255-6"><a href="excpi.html#cb255-6" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 23 × 2</span></span>
<span id="cb255-7"><a href="excpi.html#cb255-7" aria-hidden="true" tabindex="-1"></a><span class="do">##    x                               freq</span></span>
<span id="cb255-8"><a href="excpi.html#cb255-8" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt;                          &lt;int&gt;</span></span>
<span id="cb255-9"><a href="excpi.html#cb255-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 &quot;do MP de São Paulo, &quot;             2</span></span>
<span id="cb255-10"><a href="excpi.html#cb255-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 &quot;Essa MP deveria ser editada &quot;     2</span></span>
<span id="cb255-11"><a href="excpi.html#cb255-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 &quot;assina MP 1.003, que &quot;            1</span></span>
<span id="cb255-12"><a href="excpi.html#cb255-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 &quot;assina MP que libera mais &quot;       1</span></span>
<span id="cb255-13"><a href="excpi.html#cb255-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 &quot;da MP 1.003, e &quot;                  1</span></span>
<span id="cb255-14"><a href="excpi.html#cb255-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 &quot;da MP 1.003, um &quot;                 1</span></span>
<span id="cb255-15"><a href="excpi.html#cb255-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 &quot;da MP 1.026 dizia &quot;               1</span></span>
<span id="cb255-16"><a href="excpi.html#cb255-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 &quot;da MP 1.026; ou &quot;                 1</span></span>
<span id="cb255-17"><a href="excpi.html#cb255-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 &quot;da MP da crise energética; &quot;      1</span></span>
<span id="cb255-18"><a href="excpi.html#cb255-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 &quot;da MP e do fato &quot;                 1</span></span>
<span id="cb255-19"><a href="excpi.html#cb255-19" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 13 more rows</span></span></code></pre></div>
<p>Podemos obter a frequência usando o comando <code>table</code>, mas ao usarmos <code>plyr::count</code> temos mais facilidades, uma vez que temos um dataframe.</p>
<p>Criando um dataframe com termos a serem substituídos. <code>header = true</code> indica que a primeira linha será o cabeçalho, <code>sep="":"</code> indica que usarmos o caractere dois pontos para separa as colunas.
Palavras compostas, como “Polícia Federal” recebe um sinal <code>_</code> no lugar do espaço, para ser considerado um único termo.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="excpi.html#cb256-1" aria-hidden="true" tabindex="-1"></a>D.subs <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;:&quot;</span>, <span class="at">text=</span></span>
<span id="cb256-2"><a href="excpi.html#cb256-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;abr:subs</span></span>
<span id="cb256-3"><a href="excpi.html#cb256-3" aria-hidden="true" tabindex="-1"></a><span class="st">[a|A] MP:a Medida_Provisória</span></span>
<span id="cb256-4"><a href="excpi.html#cb256-4" aria-hidden="true" tabindex="-1"></a><span class="st">app.:aplicativo</span></span>
<span id="cb256-5"><a href="excpi.html#cb256-5" aria-hidden="true" tabindex="-1"></a><span class="st">Art.:artigo</span></span>
<span id="cb256-6"><a href="excpi.html#cb256-6" aria-hidden="true" tabindex="-1"></a><span class="st">art.:artigo</span></span>
<span id="cb256-7"><a href="excpi.html#cb256-7" aria-hidden="true" tabindex="-1"></a><span class="st">Cel.:coronel</span></span>
<span id="cb256-8"><a href="excpi.html#cb256-8" aria-hidden="true" tabindex="-1"></a><span class="st">Dra.:Doutora</span></span>
<span id="cb256-9"><a href="excpi.html#cb256-9" aria-hidden="true" tabindex="-1"></a><span class="st">Dr.:Doutor</span></span>
<span id="cb256-10"><a href="excpi.html#cb256-10" aria-hidden="true" tabindex="-1"></a><span class="st">Drs.:doutores</span></span>
<span id="cb256-11"><a href="excpi.html#cb256-11" aria-hidden="true" tabindex="-1"></a><span class="st">Exa.:Excelência</span></span>
<span id="cb256-12"><a href="excpi.html#cb256-12" aria-hidden="true" tabindex="-1"></a><span class="st">Exma.|Ex.ma.:excelentíssima</span></span>
<span id="cb256-13"><a href="excpi.html#cb256-13" aria-hidden="true" tabindex="-1"></a><span class="st">Exmo.|Ex.mo.:excelentíssimo</span></span>
<span id="cb256-14"><a href="excpi.html#cb256-14" aria-hidden="true" tabindex="-1"></a><span class="st">Gen.:general</span></span>
<span id="cb256-15"><a href="excpi.html#cb256-15" aria-hidden="true" tabindex="-1"></a><span class="st">Jr.:Júnior</span></span>
<span id="cb256-16"><a href="excpi.html#cb256-16" aria-hidden="true" tabindex="-1"></a><span class="st">MPF:Ministério_Público_Federal</span></span>
<span id="cb256-17"><a href="excpi.html#cb256-17" aria-hidden="true" tabindex="-1"></a><span class="st">Mr.:Mister</span></span>
<span id="cb256-18"><a href="excpi.html#cb256-18" aria-hidden="true" tabindex="-1"></a><span class="st">[o|O] MP:o Ministério_Público</span></span>
<span id="cb256-19"><a href="excpi.html#cb256-19" aria-hidden="true" tabindex="-1"></a><span class="st">[a|A] MP:a Medida_Provisória</span></span>
<span id="cb256-20"><a href="excpi.html#cb256-20" aria-hidden="true" tabindex="-1"></a><span class="st">PF:Polícia_federal</span></span>
<span id="cb256-21"><a href="excpi.html#cb256-21" aria-hidden="true" tabindex="-1"></a><span class="st">S. Exas.:Suas Excelências</span></span>
<span id="cb256-22"><a href="excpi.html#cb256-22" aria-hidden="true" tabindex="-1"></a><span class="st">S. Exa.:Sua_Excelência</span></span>
<span id="cb256-23"><a href="excpi.html#cb256-23" aria-hidden="true" tabindex="-1"></a><span class="st">Sgt.:sargento</span></span>
<span id="cb256-24"><a href="excpi.html#cb256-24" aria-hidden="true" tabindex="-1"></a><span class="st">S. Paulo:São Paulo</span></span>
<span id="cb256-25"><a href="excpi.html#cb256-25" aria-hidden="true" tabindex="-1"></a><span class="st">Sra.|sr.a.:Senhora</span></span>
<span id="cb256-26"><a href="excpi.html#cb256-26" aria-hidden="true" tabindex="-1"></a><span class="st">Sras.:Senhoras</span></span>
<span id="cb256-27"><a href="excpi.html#cb256-27" aria-hidden="true" tabindex="-1"></a><span class="st">Sr.:Senhor</span></span>
<span id="cb256-28"><a href="excpi.html#cb256-28" aria-hidden="true" tabindex="-1"></a><span class="st">Srs.:Senhores</span></span>
<span id="cb256-29"><a href="excpi.html#cb256-29" aria-hidden="true" tabindex="-1"></a><span class="st">Srta.|sr.a.:Senhorita</span></span>
<span id="cb256-30"><a href="excpi.html#cb256-30" aria-hidden="true" tabindex="-1"></a><span class="st">STF|Supremo Tribunal Federal:Supremo_Tribunal_Federal</span></span>
<span id="cb256-31"><a href="excpi.html#cb256-31" aria-hidden="true" tabindex="-1"></a><span class="st">V. Exas.:Vossas_Excelências</span></span>
<span id="cb256-32"><a href="excpi.html#cb256-32" aria-hidden="true" tabindex="-1"></a><span class="st">V. Exa.:Vossa_Excelência</span></span>
<span id="cb256-33"><a href="excpi.html#cb256-33" aria-hidden="true" tabindex="-1"></a><span class="st">V.? Sa.:Vossa_Senhoria</span></span>
<span id="cb256-34"><a href="excpi.html#cb256-34" aria-hidden="true" tabindex="-1"></a><span class="st">V.:Vossa&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb256-35"><a href="excpi.html#cb256-35" aria-hidden="true" tabindex="-1"></a>        <span class="co"># para repassar múltiplos argumentos para uma mesma string</span></span>
<span id="cb256-36"><a href="excpi.html#cb256-36" aria-hidden="true" tabindex="-1"></a>        <span class="co"># precisamos converter o dataframe para vetor nomeado</span></span>
<span id="cb256-37"><a href="excpi.html#cb256-37" aria-hidden="true" tabindex="-1"></a>        tibble<span class="sc">::</span><span class="fu">deframe</span>()</span>
<span id="cb256-38"><a href="excpi.html#cb256-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb256-39"><a href="excpi.html#cb256-39" aria-hidden="true" tabindex="-1"></a><span class="co"># vamos agora substituir as abreviações no dataframe </span></span>
<span id="cb256-40"><a href="excpi.html#cb256-40" aria-hidden="true" tabindex="-1"></a>NotasTaq2 <span class="ot">&lt;-</span> NotasTaq <span class="sc">|&gt;</span></span>
<span id="cb256-41"><a href="excpi.html#cb256-41" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">fala =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(fala, D.subs))</span></code></pre></div>
</div>
</div>
<div id="primeiras-observações" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">14.3</span> Primeiras observações<a href="excpi.html#primeiras-observações" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vamos observar os nomes das pessoas que falaram na CPI:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="excpi.html#cb257-1" aria-hidden="true" tabindex="-1"></a>participantes <span class="ot">&lt;-</span> NotasTaq2<span class="sc">$</span>nome <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb257-2"><a href="excpi.html#cb257-2" aria-hidden="true" tabindex="-1"></a><span class="co"># contando os participantes</span></span>
<span id="cb257-3"><a href="excpi.html#cb257-3" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(participantes)</span>
<span id="cb257-4"><a href="excpi.html#cb257-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 153</span></span>
<span id="cb257-5"><a href="excpi.html#cb257-5" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo os nomes dos participantes, em ordem alfabética</span></span>
<span id="cb257-6"><a href="excpi.html#cb257-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(participantes)</span>
<span id="cb257-7"><a href="excpi.html#cb257-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   [1] &quot;Airton Antonio Soligo&quot;                      </span></span>
<span id="cb257-8"><a href="excpi.html#cb257-8" aria-hidden="true" tabindex="-1"></a><span class="do">##   [2] &quot;Alan Diniz Moreira Guedes de Ornelas&quot;       </span></span>
<span id="cb257-9"><a href="excpi.html#cb257-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   [3] &quot;Alberto Zacharias Toron&quot;                    </span></span>
<span id="cb257-10"><a href="excpi.html#cb257-10" aria-hidden="true" tabindex="-1"></a><span class="do">##   [4] &quot;Alessandro Vieira&quot;                          </span></span>
<span id="cb257-11"><a href="excpi.html#cb257-11" aria-hidden="true" tabindex="-1"></a><span class="do">##   [5] &quot;Alexandre Figueiredo Costa Silva Marques&quot;   </span></span>
<span id="cb257-12"><a href="excpi.html#cb257-12" aria-hidden="true" tabindex="-1"></a><span class="do">##   [6] &quot;Alexandre Queiroz&quot;                          </span></span>
<span id="cb257-13"><a href="excpi.html#cb257-13" aria-hidden="true" tabindex="-1"></a><span class="do">##   [7] &quot;Amilton Gomes de Paula&quot;                     </span></span>
<span id="cb257-14"><a href="excpi.html#cb257-14" aria-hidden="true" tabindex="-1"></a><span class="do">##   [8] &quot;Andreia da Silva Lima&quot;                      </span></span>
<span id="cb257-15"><a href="excpi.html#cb257-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   [9] &quot;Angelo Coronel&quot;                             </span></span>
<span id="cb257-16"><a href="excpi.html#cb257-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  [10] &quot;Antonio Barra Torres&quot;                       </span></span>
<span id="cb257-17"><a href="excpi.html#cb257-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  [11] &quot;Antonio Carlos Alves de Sá Costa&quot;           </span></span>
<span id="cb257-18"><a href="excpi.html#cb257-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  [12] &quot;Antônio Elcio Franco Filho&quot;                 </span></span>
<span id="cb257-19"><a href="excpi.html#cb257-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [13] &quot;Antonio Manssur&quot;                            </span></span>
<span id="cb257-20"><a href="excpi.html#cb257-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  [14] &quot;Aristides Zacarelli&quot;                        </span></span>
<span id="cb257-21"><a href="excpi.html#cb257-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  [15] &quot;Arquivaldo Bites Leão Leite&quot;                </span></span>
<span id="cb257-22"><a href="excpi.html#cb257-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  [16] &quot;Beno Brandão&quot;                               </span></span>
<span id="cb257-23"><a href="excpi.html#cb257-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  [17] &quot;Bia Kicis&quot;                                  </span></span>
<span id="cb257-24"><a href="excpi.html#cb257-24" aria-hidden="true" tabindex="-1"></a><span class="do">##  [18] &quot;Bruna Mendes dos Santos Morato&quot;             </span></span>
<span id="cb257-25"><a href="excpi.html#cb257-25" aria-hidden="true" tabindex="-1"></a><span class="do">##  [19] &quot;Carlos Murillo&quot;                             </span></span>
<span id="cb257-26"><a href="excpi.html#cb257-26" aria-hidden="true" tabindex="-1"></a><span class="do">##  [20] &quot;Carlos Portinho&quot;                            </span></span>
<span id="cb257-27"><a href="excpi.html#cb257-27" aria-hidden="true" tabindex="-1"></a><span class="do">##  [21] &quot;Carlos Roberto Wizard Martins&quot;              </span></span>
<span id="cb257-28"><a href="excpi.html#cb257-28" aria-hidden="true" tabindex="-1"></a><span class="do">##  [22] &quot;Ciro Nogueira&quot;                              </span></span>
<span id="cb257-29"><a href="excpi.html#cb257-29" aria-hidden="true" tabindex="-1"></a><span class="do">##  [23] &quot;Cláudio Maierovitch&quot;                        </span></span>
<span id="cb257-30"><a href="excpi.html#cb257-30" aria-hidden="true" tabindex="-1"></a><span class="do">##  [24] &quot;Cleber Lopes de Oliveira&quot;                   </span></span>
<span id="cb257-31"><a href="excpi.html#cb257-31" aria-hidden="true" tabindex="-1"></a><span class="do">##  [25] &quot;Cristiano Alberto Hossri Carvalho&quot;          </span></span>
<span id="cb257-32"><a href="excpi.html#cb257-32" aria-hidden="true" tabindex="-1"></a><span class="do">##  [26] &quot;Daniel Freitas&quot;                             </span></span>
<span id="cb257-33"><a href="excpi.html#cb257-33" aria-hidden="true" tabindex="-1"></a><span class="do">##  [27] &quot;Daniel Sampaio&quot;                             </span></span>
<span id="cb257-34"><a href="excpi.html#cb257-34" aria-hidden="true" tabindex="-1"></a><span class="do">##  [28] &quot;Daniella Ribeiro&quot;                           </span></span>
<span id="cb257-35"><a href="excpi.html#cb257-35" aria-hidden="true" tabindex="-1"></a><span class="do">##  [29] &quot;Danilo Berndt Trento&quot;                       </span></span>
<span id="cb257-36"><a href="excpi.html#cb257-36" aria-hidden="true" tabindex="-1"></a><span class="do">##  [30] &quot;Dimas Tadeu Covas&quot;                          </span></span>
<span id="cb257-37"><a href="excpi.html#cb257-37" aria-hidden="true" tabindex="-1"></a><span class="do">##  [31] &quot;Eduardo Braga&quot;                              </span></span>
<span id="cb257-38"><a href="excpi.html#cb257-38" aria-hidden="true" tabindex="-1"></a><span class="do">##  [32] &quot;Eduardo de Vilhena Toledo&quot;                  </span></span>
<span id="cb257-39"><a href="excpi.html#cb257-39" aria-hidden="true" tabindex="-1"></a><span class="do">##  [33] &quot;Eduardo Girão&quot;                              </span></span>
<span id="cb257-40"><a href="excpi.html#cb257-40" aria-hidden="true" tabindex="-1"></a><span class="do">##  [34] &quot;Eduardo Pazuello&quot;                           </span></span>
<span id="cb257-41"><a href="excpi.html#cb257-41" aria-hidden="true" tabindex="-1"></a><span class="do">##  [35] &quot;Eliana Maria dias Santiago&quot;                 </span></span>
<span id="cb257-42"><a href="excpi.html#cb257-42" aria-hidden="true" tabindex="-1"></a><span class="do">##  [36] &quot;Eliane Nogueira&quot;                            </span></span>
<span id="cb257-43"><a href="excpi.html#cb257-43" aria-hidden="true" tabindex="-1"></a><span class="do">##  [37] &quot;Eliziane Gama&quot;                              </span></span>
<span id="cb257-44"><a href="excpi.html#cb257-44" aria-hidden="true" tabindex="-1"></a><span class="do">##  [38] &quot;Elton da Silva Chaves&quot;                      </span></span>
<span id="cb257-45"><a href="excpi.html#cb257-45" aria-hidden="true" tabindex="-1"></a><span class="do">##  [39] &quot;Emanuel Ramalho Catori&quot;                     </span></span>
<span id="cb257-46"><a href="excpi.html#cb257-46" aria-hidden="true" tabindex="-1"></a><span class="do">##  [40] &quot;Emanuela Batista de Souza Medrades&quot;         </span></span>
<span id="cb257-47"><a href="excpi.html#cb257-47" aria-hidden="true" tabindex="-1"></a><span class="do">##  [41] &quot;Emerson Paxá Pinto Oliveira&quot;                </span></span>
<span id="cb257-48"><a href="excpi.html#cb257-48" aria-hidden="true" tabindex="-1"></a><span class="do">##  [42] &quot;Eric Furtado Ferreira Borges&quot;               </span></span>
<span id="cb257-49"><a href="excpi.html#cb257-49" aria-hidden="true" tabindex="-1"></a><span class="do">##  [43] &quot;Ernesto Araújo&quot;                             </span></span>
<span id="cb257-50"><a href="excpi.html#cb257-50" aria-hidden="true" tabindex="-1"></a><span class="do">##  [44] &quot;Fabiano Contarato&quot;                          </span></span>
<span id="cb257-51"><a href="excpi.html#cb257-51" aria-hidden="true" tabindex="-1"></a><span class="do">##  [45] &quot;Fábio Henrique Ming Martini&quot;                </span></span>
<span id="cb257-52"><a href="excpi.html#cb257-52" aria-hidden="true" tabindex="-1"></a><span class="do">##  [46] &quot;Fabio Wajngarten&quot;                           </span></span>
<span id="cb257-53"><a href="excpi.html#cb257-53" aria-hidden="true" tabindex="-1"></a><span class="do">##  [47] &quot;Fausto Vieira dos Santos Junior&quot;            </span></span>
<span id="cb257-54"><a href="excpi.html#cb257-54" aria-hidden="true" tabindex="-1"></a><span class="do">##  [48] &quot;Felipe Dantas de Araujo&quot;                    </span></span>
<span id="cb257-55"><a href="excpi.html#cb257-55" aria-hidden="true" tabindex="-1"></a><span class="do">##  [49] &quot;Fernando Bezerra Coelho&quot;                    </span></span>
<span id="cb257-56"><a href="excpi.html#cb257-56" aria-hidden="true" tabindex="-1"></a><span class="do">##  [50] &quot;Flávio Bolsonaro&quot;                           </span></span>
<span id="cb257-57"><a href="excpi.html#cb257-57" aria-hidden="true" tabindex="-1"></a><span class="do">##  [51] &quot;Flavio Correa de Moraes&quot;                    </span></span>
<span id="cb257-58"><a href="excpi.html#cb257-58" aria-hidden="true" tabindex="-1"></a><span class="do">##  [52] &quot;Francieli Fontana Sutile Fantinato&quot;         </span></span>
<span id="cb257-59"><a href="excpi.html#cb257-59" aria-hidden="true" tabindex="-1"></a><span class="do">##  [53] &quot;Francieli Fontana Sutile Tardetti Fantinato&quot;</span></span>
<span id="cb257-60"><a href="excpi.html#cb257-60" aria-hidden="true" tabindex="-1"></a><span class="do">##  [54] &quot;Francisco Araújo Filho&quot;                     </span></span>
<span id="cb257-61"><a href="excpi.html#cb257-61" aria-hidden="true" tabindex="-1"></a><span class="do">##  [55] &quot;Francisco Eduardo Cardoso Alves&quot;            </span></span>
<span id="cb257-62"><a href="excpi.html#cb257-62" aria-hidden="true" tabindex="-1"></a><span class="do">##  [56] &quot;Francisco Emerson Maximiano&quot;                </span></span>
<span id="cb257-63"><a href="excpi.html#cb257-63" aria-hidden="true" tabindex="-1"></a><span class="do">##  [57] &quot;Gina Moraes de Almeida&quot;                     </span></span>
<span id="cb257-64"><a href="excpi.html#cb257-64" aria-hidden="true" tabindex="-1"></a><span class="do">##  [58] &quot;Giordano&quot;                                   </span></span>
<span id="cb257-65"><a href="excpi.html#cb257-65" aria-hidden="true" tabindex="-1"></a><span class="do">##  [59] &quot;Giovanna Gomes Mendes da Silva&quot;             </span></span>
<span id="cb257-66"><a href="excpi.html#cb257-66" aria-hidden="true" tabindex="-1"></a><span class="do">##  [60] &quot;Guilherme Cremonesi Caurin&quot;                 </span></span>
<span id="cb257-67"><a href="excpi.html#cb257-67" aria-hidden="true" tabindex="-1"></a><span class="do">##  [61] &quot;Helcio Bruno de Almeida&quot;                    </span></span>
<span id="cb257-68"><a href="excpi.html#cb257-68" aria-hidden="true" tabindex="-1"></a><span class="do">##  [62] &quot;Humberto Costa&quot;                             </span></span>
<span id="cb257-69"><a href="excpi.html#cb257-69" aria-hidden="true" tabindex="-1"></a><span class="do">##  [63] &quot;Ivanildo Gonçalves da Silva&quot;                </span></span>
<span id="cb257-70"><a href="excpi.html#cb257-70" aria-hidden="true" tabindex="-1"></a><span class="do">##  [64] &quot;Izalci Lucas&quot;                               </span></span>
<span id="cb257-71"><a href="excpi.html#cb257-71" aria-hidden="true" tabindex="-1"></a><span class="do">##  [65] &quot;Jailton Batista&quot;                            </span></span>
<span id="cb257-72"><a href="excpi.html#cb257-72" aria-hidden="true" tabindex="-1"></a><span class="do">##  [66] &quot;Jean Paul Prates&quot;                           </span></span>
<span id="cb257-73"><a href="excpi.html#cb257-73" aria-hidden="true" tabindex="-1"></a><span class="do">##  [67] &quot;João Carlos Gonçalves Krakauer Maia&quot;        </span></span>
<span id="cb257-74"><a href="excpi.html#cb257-74" aria-hidden="true" tabindex="-1"></a><span class="do">##  [68] &quot;Jorge Kajuru&quot;                               </span></span>
<span id="cb257-75"><a href="excpi.html#cb257-75" aria-hidden="true" tabindex="-1"></a><span class="do">##  [69] &quot;Jorginho Mello&quot;                             </span></span>
<span id="cb257-76"><a href="excpi.html#cb257-76" aria-hidden="true" tabindex="-1"></a><span class="do">##  [70] &quot;José Ricardo Santana&quot;                       </span></span>
<span id="cb257-77"><a href="excpi.html#cb257-77" aria-hidden="true" tabindex="-1"></a><span class="do">##  [71] &quot;Jurema Werneck&quot;                             </span></span>
<span id="cb257-78"><a href="excpi.html#cb257-78" aria-hidden="true" tabindex="-1"></a><span class="do">##  [72] &quot;Kátia Abreu&quot;                                </span></span>
<span id="cb257-79"><a href="excpi.html#cb257-79" aria-hidden="true" tabindex="-1"></a><span class="do">##  [73] &quot;Katia Shirlene Castilho dos Santos&quot;         </span></span>
<span id="cb257-80"><a href="excpi.html#cb257-80" aria-hidden="true" tabindex="-1"></a><span class="do">##  [74] &quot;Leila Barros&quot;                               </span></span>
<span id="cb257-81"><a href="excpi.html#cb257-81" aria-hidden="true" tabindex="-1"></a><span class="do">##  [75] &quot;Luana Araújo&quot;                               </span></span>
<span id="cb257-82"><a href="excpi.html#cb257-82" aria-hidden="true" tabindex="-1"></a><span class="do">##  [76] &quot;Luciano Duarte Peres&quot;                       </span></span>
<span id="cb257-83"><a href="excpi.html#cb257-83" aria-hidden="true" tabindex="-1"></a><span class="do">##  [77] &quot;Luciano Hang&quot;                               </span></span>
<span id="cb257-84"><a href="excpi.html#cb257-84" aria-hidden="true" tabindex="-1"></a><span class="do">##  [78] &quot;Luis Carlos Heinze&quot;                         </span></span>
<span id="cb257-85"><a href="excpi.html#cb257-85" aria-hidden="true" tabindex="-1"></a><span class="do">##  [79] &quot;Luis Miranda&quot;                               </span></span>
<span id="cb257-86"><a href="excpi.html#cb257-86" aria-hidden="true" tabindex="-1"></a><span class="do">##  [80] &quot;Luis Ricardo Fernandes Miranda&quot;             </span></span>
<span id="cb257-87"><a href="excpi.html#cb257-87" aria-hidden="true" tabindex="-1"></a><span class="do">##  [81] &quot;Luiz Henrique Mandetta&quot;                     </span></span>
<span id="cb257-88"><a href="excpi.html#cb257-88" aria-hidden="true" tabindex="-1"></a><span class="do">##  [82] &quot;Luiz Paulo Dominguetti Pereira&quot;             </span></span>
<span id="cb257-89"><a href="excpi.html#cb257-89" aria-hidden="true" tabindex="-1"></a><span class="do">##  [83] &quot;Mara Gabrilli&quot;                              </span></span>
<span id="cb257-90"><a href="excpi.html#cb257-90" aria-hidden="true" tabindex="-1"></a><span class="do">##  [84] &quot;Marcellus Campelo&quot;                          </span></span>
<span id="cb257-91"><a href="excpi.html#cb257-91" aria-hidden="true" tabindex="-1"></a><span class="do">##  [85] &quot;Marcellus José Barroso Campêlo&quot;             </span></span>
<span id="cb257-92"><a href="excpi.html#cb257-92" aria-hidden="true" tabindex="-1"></a><span class="do">##  [86] &quot;Marcelo Antônio Cartaxo Queiroga Lopes&quot;     </span></span>
<span id="cb257-93"><a href="excpi.html#cb257-93" aria-hidden="true" tabindex="-1"></a><span class="do">##  [87] &quot;Marcelo Blanco&quot;                             </span></span>
<span id="cb257-94"><a href="excpi.html#cb257-94" aria-hidden="true" tabindex="-1"></a><span class="do">##  [88] &quot;Marcelo Blanco da Costa&quot;                    </span></span>
<span id="cb257-95"><a href="excpi.html#cb257-95" aria-hidden="true" tabindex="-1"></a><span class="do">##  [89] &quot;Marcelo Queiroga&quot;                           </span></span>
<span id="cb257-96"><a href="excpi.html#cb257-96" aria-hidden="true" tabindex="-1"></a><span class="do">##  [90] &quot;Márcio Antonio do Nascimento Silva&quot;         </span></span>
<span id="cb257-97"><a href="excpi.html#cb257-97" aria-hidden="true" tabindex="-1"></a><span class="do">##  [91] &quot;Marconny Nunes Ribeiro Albernaz de Faria&quot;   </span></span>
<span id="cb257-98"><a href="excpi.html#cb257-98" aria-hidden="true" tabindex="-1"></a><span class="do">##  [92] &quot;Marcos do Val&quot;                              </span></span>
<span id="cb257-99"><a href="excpi.html#cb257-99" aria-hidden="true" tabindex="-1"></a><span class="do">##  [93] &quot;Marcos Rogério&quot;                             </span></span>
<span id="cb257-100"><a href="excpi.html#cb257-100" aria-hidden="true" tabindex="-1"></a><span class="do">##  [94] &quot;Marcos Tolentino da Silva&quot;                  </span></span>
<span id="cb257-101"><a href="excpi.html#cb257-101" aria-hidden="true" tabindex="-1"></a><span class="do">##  [95] &quot;Maria Jamile José&quot;                          </span></span>
<span id="cb257-102"><a href="excpi.html#cb257-102" aria-hidden="true" tabindex="-1"></a><span class="do">##  [96] &quot;Maria José Ferreira Pessoa&quot;                 </span></span>
<span id="cb257-103"><a href="excpi.html#cb257-103" aria-hidden="true" tabindex="-1"></a><span class="do">##  [97] &quot;Mayra Pinheiro&quot;                             </span></span>
<span id="cb257-104"><a href="excpi.html#cb257-104" aria-hidden="true" tabindex="-1"></a><span class="do">##  [98] &quot;Mayra Pires Lima&quot;                           </span></span>
<span id="cb257-105"><a href="excpi.html#cb257-105" aria-hidden="true" tabindex="-1"></a><span class="do">##  [99] &quot;Mecias de Jesus&quot;                            </span></span>
<span id="cb257-106"><a href="excpi.html#cb257-106" aria-hidden="true" tabindex="-1"></a><span class="do">## [100] &quot;Michel Saliba Oliveira&quot;                     </span></span>
<span id="cb257-107"><a href="excpi.html#cb257-107" aria-hidden="true" tabindex="-1"></a><span class="do">## [101] &quot;Milena Ramos Câmara&quot;                        </span></span>
<span id="cb257-108"><a href="excpi.html#cb257-108" aria-hidden="true" tabindex="-1"></a><span class="do">## [102] &quot;Natalia Pasternak&quot;                          </span></span>
<span id="cb257-109"><a href="excpi.html#cb257-109" aria-hidden="true" tabindex="-1"></a><span class="do">## [103] &quot;Nelsinho Trad&quot;                              </span></span>
<span id="cb257-110"><a href="excpi.html#cb257-110" aria-hidden="true" tabindex="-1"></a><span class="do">## [104] &quot;Nelson Luiz Sperle Teich&quot;                   </span></span>
<span id="cb257-111"><a href="excpi.html#cb257-111" aria-hidden="true" tabindex="-1"></a><span class="do">## [105] &quot;Nise Hitomi Yamaguchi&quot;                      </span></span>
<span id="cb257-112"><a href="excpi.html#cb257-112" aria-hidden="true" tabindex="-1"></a><span class="do">## [106] &quot;Omar Aziz&quot;                                  </span></span>
<span id="cb257-113"><a href="excpi.html#cb257-113" aria-hidden="true" tabindex="-1"></a><span class="do">## [107] &quot;Osmar Terra&quot;                                </span></span>
<span id="cb257-114"><a href="excpi.html#cb257-114" aria-hidden="true" tabindex="-1"></a><span class="do">## [108] &quot;Otávio de Queiroga&quot;                         </span></span>
<span id="cb257-115"><a href="excpi.html#cb257-115" aria-hidden="true" tabindex="-1"></a><span class="do">## [109] &quot;Otávio Oscar Fakhoury&quot;                      </span></span>
<span id="cb257-116"><a href="excpi.html#cb257-116" aria-hidden="true" tabindex="-1"></a><span class="do">## [110] &quot;Otto Alencar&quot;                               </span></span>
<span id="cb257-117"><a href="excpi.html#cb257-117" aria-hidden="true" tabindex="-1"></a><span class="do">## [111] &quot;Paulo Roberto Vanderlei Rebello Filho&quot;      </span></span>
<span id="cb257-118"><a href="excpi.html#cb257-118" aria-hidden="true" tabindex="-1"></a><span class="do">## [112] &quot;Paulo Rocha&quot;                                </span></span>
<span id="cb257-119"><a href="excpi.html#cb257-119" aria-hidden="true" tabindex="-1"></a><span class="do">## [113] &quot;Pedro Benedito Batista Júnior&quot;              </span></span>
<span id="cb257-120"><a href="excpi.html#cb257-120" aria-hidden="true" tabindex="-1"></a><span class="do">## [114] &quot;Pedro Hallal&quot;                               </span></span>
<span id="cb257-121"><a href="excpi.html#cb257-121" aria-hidden="true" tabindex="-1"></a><span class="do">## [115] &quot;Pedro Henrique Medeiros de Araújo&quot;          </span></span>
<span id="cb257-122"><a href="excpi.html#cb257-122" aria-hidden="true" tabindex="-1"></a><span class="do">## [116] &quot;Pedro Ivo Velloso&quot;                          </span></span>
<span id="cb257-123"><a href="excpi.html#cb257-123" aria-hidden="true" tabindex="-1"></a><span class="do">## [117] &quot;Priscila Pamela Cesario dos Santos&quot;         </span></span>
<span id="cb257-124"><a href="excpi.html#cb257-124" aria-hidden="true" tabindex="-1"></a><span class="do">## [118] &quot;Raimundo Nonato Brasil&quot;                     </span></span>
<span id="cb257-125"><a href="excpi.html#cb257-125" aria-hidden="true" tabindex="-1"></a><span class="do">## [119] &quot;Randolfe Rodrigues&quot;                         </span></span>
<span id="cb257-126"><a href="excpi.html#cb257-126" aria-hidden="true" tabindex="-1"></a><span class="do">## [120] &quot;Regina Célia Silva Oliveira&quot;                </span></span>
<span id="cb257-127"><a href="excpi.html#cb257-127" aria-hidden="true" tabindex="-1"></a><span class="do">## [121] &quot;Reguffe&quot;                                    </span></span>
<span id="cb257-128"><a href="excpi.html#cb257-128" aria-hidden="true" tabindex="-1"></a><span class="do">## [122] &quot;Reinhold Stephanes Junior&quot;                  </span></span>
<span id="cb257-129"><a href="excpi.html#cb257-129" aria-hidden="true" tabindex="-1"></a><span class="do">## [123] &quot;Renan Calheiros&quot;                            </span></span>
<span id="cb257-130"><a href="excpi.html#cb257-130" aria-hidden="true" tabindex="-1"></a><span class="do">## [124] &quot;Ricardo Ariel Zimerman&quot;                     </span></span>
<span id="cb257-131"><a href="excpi.html#cb257-131" aria-hidden="true" tabindex="-1"></a><span class="do">## [125] &quot;Ricardo Barros&quot;                             </span></span>
<span id="cb257-132"><a href="excpi.html#cb257-132" aria-hidden="true" tabindex="-1"></a><span class="do">## [126] &quot;Roberto Ferreira dias&quot;                      </span></span>
<span id="cb257-133"><a href="excpi.html#cb257-133" aria-hidden="true" tabindex="-1"></a><span class="do">## [127] &quot;Roberto Pereira Ramos Júnior&quot;               </span></span>
<span id="cb257-134"><a href="excpi.html#cb257-134" aria-hidden="true" tabindex="-1"></a><span class="do">## [128] &quot;Roberto Rocha&quot;                              </span></span>
<span id="cb257-135"><a href="excpi.html#cb257-135" aria-hidden="true" tabindex="-1"></a><span class="do">## [129] &quot;Rodrigo Cunha&quot;                              </span></span>
<span id="cb257-136"><a href="excpi.html#cb257-136" aria-hidden="true" tabindex="-1"></a><span class="do">## [130] &quot;Rogério Carvalho&quot;                           </span></span>
<span id="cb257-137"><a href="excpi.html#cb257-137" aria-hidden="true" tabindex="-1"></a><span class="do">## [131] &quot;Rosane Maria dos Santos Brandão&quot;            </span></span>
<span id="cb257-138"><a href="excpi.html#cb257-138" aria-hidden="true" tabindex="-1"></a><span class="do">## [132] &quot;Rose de Freitas&quot;                            </span></span>
<span id="cb257-139"><a href="excpi.html#cb257-139" aria-hidden="true" tabindex="-1"></a><span class="do">## [133] &quot;Savio de Faria Caram Zuquim&quot;                </span></span>
<span id="cb257-140"><a href="excpi.html#cb257-140" aria-hidden="true" tabindex="-1"></a><span class="do">## [134] &quot;Simone Tebet&quot;                               </span></span>
<span id="cb257-141"><a href="excpi.html#cb257-141" aria-hidden="true" tabindex="-1"></a><span class="do">## [135] &quot;Soraya Thronicke&quot;                           </span></span>
<span id="cb257-142"><a href="excpi.html#cb257-142" aria-hidden="true" tabindex="-1"></a><span class="do">## [136] &quot;Styvenson Valentim&quot;                         </span></span>
<span id="cb257-143"><a href="excpi.html#cb257-143" aria-hidden="true" tabindex="-1"></a><span class="do">## [137] &quot;Tadeu Frederico de Andrade&quot;                 </span></span>
<span id="cb257-144"><a href="excpi.html#cb257-144" aria-hidden="true" tabindex="-1"></a><span class="do">## [138] &quot;Tasso Jereissati&quot;                           </span></span>
<span id="cb257-145"><a href="excpi.html#cb257-145" aria-hidden="true" tabindex="-1"></a><span class="do">## [139] &quot;Telmário Mota&quot;                              </span></span>
<span id="cb257-146"><a href="excpi.html#cb257-146" aria-hidden="true" tabindex="-1"></a><span class="do">## [140] &quot;Thiago Leônidas&quot;                            </span></span>
<span id="cb257-147"><a href="excpi.html#cb257-147" aria-hidden="true" tabindex="-1"></a><span class="do">## [141] &quot;Ticiano Figueiredo&quot;                         </span></span>
<span id="cb257-148"><a href="excpi.html#cb257-148" aria-hidden="true" tabindex="-1"></a><span class="do">## [142] &quot;Ticiano Figueiredo de Oliveira&quot;             </span></span>
<span id="cb257-149"><a href="excpi.html#cb257-149" aria-hidden="true" tabindex="-1"></a><span class="do">## [143] &quot;Túlio Silveira&quot;                             </span></span>
<span id="cb257-150"><a href="excpi.html#cb257-150" aria-hidden="true" tabindex="-1"></a><span class="do">## [144] &quot;Vanderlan Cardoso&quot;                          </span></span>
<span id="cb257-151"><a href="excpi.html#cb257-151" aria-hidden="true" tabindex="-1"></a><span class="do">## [145] &quot;Vinicius Luiz Ferreira&quot;                     </span></span>
<span id="cb257-152"><a href="excpi.html#cb257-152" aria-hidden="true" tabindex="-1"></a><span class="do">## [146] &quot;Wagner de Campos Rosário&quot;                   </span></span>
<span id="cb257-153"><a href="excpi.html#cb257-153" aria-hidden="true" tabindex="-1"></a><span class="do">## [147] &quot;Wagner Lima da Costa&quot;                       </span></span>
<span id="cb257-154"><a href="excpi.html#cb257-154" aria-hidden="true" tabindex="-1"></a><span class="do">## [148] &quot;Walter Correa de Souza Neto&quot;                </span></span>
<span id="cb257-155"><a href="excpi.html#cb257-155" aria-hidden="true" tabindex="-1"></a><span class="do">## [149] &quot;Walter José Faiad de Moura&quot;                 </span></span>
<span id="cb257-156"><a href="excpi.html#cb257-156" aria-hidden="true" tabindex="-1"></a><span class="do">## [150] &quot;Weverton&quot;                                   </span></span>
<span id="cb257-157"><a href="excpi.html#cb257-157" aria-hidden="true" tabindex="-1"></a><span class="do">## [151] &quot;William Amorim Santana&quot;                     </span></span>
<span id="cb257-158"><a href="excpi.html#cb257-158" aria-hidden="true" tabindex="-1"></a><span class="do">## [152] &quot;Wilson Witzel&quot;                              </span></span>
<span id="cb257-159"><a href="excpi.html#cb257-159" aria-hidden="true" tabindex="-1"></a><span class="do">## [153] &quot;Zenaide Maia&quot;</span></span></code></pre></div>
<p>Aparecem 154 nomes diferentes, mas repare que alguns destes são uma mesma pessoa, porém com mais de uma grafia, como o ex-ministro da saúde Eduardo Pazuello, que aparece uma com e sem “gen.”, bem como Francieli, o deputado Luis Miranda e Marcelo Blanco, também aparecem com nomes grafado de duas formas distintas.
Além disso, o nome de Marcelo Queiroga ocupa bastante espaço.
<!-- (Pazuelo aparece escrito de duas formas diferentes, uma com outra sem "gen.").  -->
Vamos ajustar estes nomes.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="excpi.html#cb258-1" aria-hidden="true" tabindex="-1"></a>NotasTaq3 <span class="ot">&lt;-</span> NotasTaq2 <span class="sc">%&gt;%</span> </span>
<span id="cb258-2"><a href="excpi.html#cb258-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">nome =</span> <span class="fu">gsub</span>(<span class="st">&quot;Marcelo Antônio Cartaxo Queiroga Lopes&quot;</span>, <span class="st">&quot;Marcelo Queiroga&quot;</span>, nome) <span class="sc">%&gt;%</span></span>
<span id="cb258-3"><a href="excpi.html#cb258-3" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">gsub</span>(<span class="st">&quot;Gen. Eduardo Pazuello&quot;</span>, <span class="st">&quot;Eduardo Pazuello&quot;</span>, .) <span class="sc">%&gt;%</span></span>
<span id="cb258-4"><a href="excpi.html#cb258-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">gsub</span>(<span class="st">&quot;Francieli Fontana Sutile Tardetti Fantinato|Francieli Fontana Sutile Fantinato&quot;</span>, <span class="st">&quot;Francieli Fantinato&quot;</span>, .) <span class="sc">%&gt;%</span></span>
<span id="cb258-5"><a href="excpi.html#cb258-5" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">gsub</span>(<span class="st">&quot;Luis Ricardo Fernandes Miranda&quot;</span>, <span class="st">&quot;Luis Miranda&quot;</span> , .) <span class="sc">%&gt;%</span></span>
<span id="cb258-6"><a href="excpi.html#cb258-6" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">gsub</span>(<span class="st">&quot;Marcelo Blanco da Costa&quot;</span>, <span class="st">&quot;Marcelo Blanco&quot;</span>, .) </span>
<span id="cb258-7"><a href="excpi.html#cb258-7" aria-hidden="true" tabindex="-1"></a>            ) </span></code></pre></div>
<p>Conferindo se deu certo. O número de participantes deve diminuir dos 153 anteriores após as substituições:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="excpi.html#cb259-1" aria-hidden="true" tabindex="-1"></a>NotasTaq3<span class="sc">$</span>nome <span class="sc">|&gt;</span> <span class="fu">unique</span>() <span class="sc">|&gt;</span> <span class="fu">length</span>()</span>
<span id="cb259-2"><a href="excpi.html#cb259-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 149</span></span></code></pre></div>
<p>Numa primeira observação, vamos ver a quantidade de intervenções de cada pessoa, isto é, quantas vezes uma pessoa iniciou uma fala, independente da quantidade de palavras ditas.
<!-- Para tal, vamos fazer um gráfico de barras com o [barplot do pacote base](#baseplots) que vem no R: -->
Para tal, vamos fazer um gráfico de barras com o barplot do pacote base, que já vem por padrão no R:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="excpi.html#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Para usar o barplot, precisamos antes converter para table</span></span>
<span id="cb260-2"><a href="excpi.html#cb260-2" aria-hidden="true" tabindex="-1"></a>intervencoes <span class="ot">&lt;-</span> NotasTaq3<span class="sc">$</span>nome <span class="sc">%&gt;%</span> table</span>
<span id="cb260-3"><a href="excpi.html#cb260-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-4"><a href="excpi.html#cb260-4" aria-hidden="true" tabindex="-1"></a>intervencoes <span class="sc">%&gt;%</span> </span>
<span id="cb260-5"><a href="excpi.html#cb260-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">barplot</span>(.,</span>
<span id="cb260-6"><a href="excpi.html#cb260-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">main=</span><span class="st">&quot;Quantidade de Intervenções&quot;</span>, <span class="co"># titulo</span></span>
<span id="cb260-7"><a href="excpi.html#cb260-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">ylab=</span><span class="st">&quot;Frequência&quot;</span>, <span class="co"># eixo y</span></span>
<span id="cb260-8"><a href="excpi.html#cb260-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex.lab=</span><span class="dv">1</span>, <span class="co"># tamanho do label</span></span>
<span id="cb260-9"><a href="excpi.html#cb260-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.axis=</span><span class="fl">0.1</span>, <span class="co"># tamanho do texto nos eixos</span></span>
<span id="cb260-10"><a href="excpi.html#cb260-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.names=</span><span class="fl">0.5</span>, <span class="co"># tamanho dos nomes eixo x</span></span>
<span id="cb260-11"><a href="excpi.html#cb260-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">las=</span><span class="dv">2</span> <span class="co"># rotacionando</span></span>
<span id="cb260-12"><a href="excpi.html#cb260-12" aria-hidden="true" tabindex="-1"></a>       )</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/quant-intervencoes-1.png" width="672" /></p>
<p>Podemos usar o ggplot e termos mais opções de controle.
<!-- Primeiro, carregamos o ggplot: -->
<!-- ```{r, eval=F, collapse=TRUE} -->
<!-- library(ggplot2) -->
<!-- ``` --></p>
<p>Se formos olhar a frequência das cerca de 150 pessoas, teremos um gráfico não muito compreensível:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="excpi.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NotasTaq3,</span>
<span id="cb261-2"><a href="excpi.html#cb261-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">aes</span>(<span class="at">x =</span> nome, <span class="at">y =</span> )) <span class="sc">+</span></span>
<span id="cb261-3"><a href="excpi.html#cb261-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb261-4"><a href="excpi.html#cb261-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Quantidade de intervenções&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb261-5"><a href="excpi.html#cb261-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/ggplot-intervencoes-1.png" width="672" /></p>
<p>Vamos melhorar este gráfico restringindo apenas aos casos mais frequentes e rotacionando seu eixo.</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="excpi.html#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criando um novo dataframe com nomes e contagem </span></span>
<span id="cb262-2"><a href="excpi.html#cb262-2" aria-hidden="true" tabindex="-1"></a>intervencoes <span class="ot">&lt;-</span> NotasTaq3<span class="sc">$</span>nome <span class="sc">%&gt;%</span> plyr<span class="sc">::</span><span class="fu">count</span>()</span>
<span id="cb262-3"><a href="excpi.html#cb262-3" aria-hidden="true" tabindex="-1"></a><span class="co"># renomeando as colunas</span></span>
<span id="cb262-4"><a href="excpi.html#cb262-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(intervencoes) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;nome&quot;</span>,<span class="st">&quot;freq&quot;</span>)</span>
<span id="cb262-5"><a href="excpi.html#cb262-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb262-6"><a href="excpi.html#cb262-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordenando pela coluna &quot;freq&quot; de modo decrescente.</span></span>
<span id="cb262-7"><a href="excpi.html#cb262-7" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">arrange</span>(intervencoes, <span class="fu">desc</span>(freq)) <span class="sc">%&gt;%</span></span>
<span id="cb262-8"><a href="excpi.html#cb262-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># restringindo aos 30 mais frequentes</span></span>
<span id="cb262-9"><a href="excpi.html#cb262-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb262-10"><a href="excpi.html#cb262-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(nome, freq), <span class="at">y =</span> freq)) <span class="sc">+</span></span>
<span id="cb262-11"><a href="excpi.html#cb262-11" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb262-12"><a href="excpi.html#cb262-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Quantidade de intervenções na CPI&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb262-13"><a href="excpi.html#cb262-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb262-14"><a href="excpi.html#cb262-14" aria-hidden="true" tabindex="-1"></a>      <span class="co"># girando o gráfico</span></span>
<span id="cb262-15"><a href="excpi.html#cb262-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_flip</span>()  </span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/excpi_ggplot-1.png" width="672" /></p>
<p>Alguns comentários sobre este gráfico acima:</p>
<ul>
<li><p>Nenhuma grande surpresa na distribuição de intervenções. Os nomes mais frequentes são o presidente e o relator.</p></li>
<li><p>Para contar as intervenções pode-se usar o <code>table</code> - como usamos para gerar o barplot anterior - mas uma opção mais prática é usar o <code>plyr::count()</code>, que nos retorna um dataframe, o que torna mais fácil lidar com dados gerados.</p></li>
<li><p>Apesar de termos ordenado nossos dados com base na frequência, o ggplot organiza os dados com base na ordem alfabética dos nomes. Mas se quisermos organizar na ordem das intervenções, usamos <code>aes(x = reorder(eixoX, eixoY), y = eixoY))</code> ou no caso <code>aes(x = reorder(nome, freq), y = freq))</code>.</p></li>
<li><p>Para contar as intervenções pode-se usar o <code>table</code> - como usamos para gerar o barplot anterior - mas uma opção mais prática é usar o <code>plyr::count()</code>, que nos retorna um dataframe, o que torna mais fácil lidar com dados gerados.</p></li>
<li><p>Apesar de termos ordenado nossos dados com base na frequência, o ggplot organiza os dados com base na ordem alfabética dos nomes. Mas se quisermos organizar na ordem das intervenções, usamos <code>aes(x = reorder(eixoX, eixoY), y = eixoY))</code> ou no caso <code>aes(x = reorder(nome, freq), y = freq))</code>.</p></li>
</ul>
<p>O resultado do gráfico faz todo o sentido, entre os nomes mais frequentes estarem o depoente, o presidente e relator.</p>
<p>Vamos ver agora o ranking por quantidade de palavras ditas.
Vamos utilizar números mais gerais dos parlamentares, referentes à todas as sessões. Para tal, vamos agregar as falas de diferentes dias em uma linha por nome através dos comandos do dplyr <a href="introdução-ao-r.html#group_by">group_by</a> e <a href="introdução-ao-r.html#summarise">summarize</a>, e como o que queremos é que junte todas as falas em uma só célula, vamos usar de <code>paste()</code> com o parâmetro <code>collapse = " "</code> que indica que entre uma fala e outra que serão condensadas em uma só célula, entre cada elemento será inserido um espaço vazio, para evitar que uma palavra final de uma célula fique colada à palavra inicial da célula seguinte.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="excpi.html#cb263-1" aria-hidden="true" tabindex="-1"></a>NotasTaq_falas.agrupadas <span class="ot">&lt;-</span> NotasTaq3 <span class="sc">%&gt;%</span></span>
<span id="cb263-2"><a href="excpi.html#cb263-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nome) <span class="sc">%&gt;%</span></span>
<span id="cb263-3"><a href="excpi.html#cb263-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">falas =</span> <span class="fu">paste</span>(fala, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb263-4"><a href="excpi.html#cb263-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-5"><a href="excpi.html#cb263-5" aria-hidden="true" tabindex="-1"></a><span class="co"># se quisermos observar a estrutura de nosso dataframe</span></span>
<span id="cb263-6"><a href="excpi.html#cb263-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(NotasTaq_falas.agrupadas)</span>
<span id="cb263-7"><a href="excpi.html#cb263-7" aria-hidden="true" tabindex="-1"></a><span class="do">## tibble [149 × 2] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb263-8"><a href="excpi.html#cb263-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ nome : chr [1:149] &quot;Airton Antonio Soligo&quot; &quot;Alan Diniz Moreira Guedes de Ornelas&quot; &quot;Alberto Zacharias Toron&quot; &quot;Alessandro Vieira&quot; ...</span></span>
<span id="cb263-9"><a href="excpi.html#cb263-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ falas: chr [1:149] &quot;Senhor Presidente, acredito que, em função da decisão, eu não sou obrigado, mas estou aqui para dizer a verdade&quot;| __truncated__ &quot;Presidente, só uma questão de ordem então?  Para deixar o registro, então, de que, com a liminar do Supremo_Tri&quot;| __truncated__ &quot;Perfeitamente, Excelência, Senhor Presidente em exercício.  Senhor Presidente, o despacho, se Vossa Excelência &quot;| __truncated__ &quot;Pela ordem, Presidente Otto Alencar.  Senhor Presidente...  Obrigado, Senhor Presidente. Apenas quero contradit&quot;| __truncated__ ...</span></span>
<span id="cb263-10"><a href="excpi.html#cb263-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-11"><a href="excpi.html#cb263-11" aria-hidden="true" tabindex="-1"></a><span class="co"># contando as palavras</span></span>
<span id="cb263-12"><a href="excpi.html#cb263-12" aria-hidden="true" tabindex="-1"></a>NT_falasJuntasCount <span class="ot">&lt;-</span>  NotasTaq_falas.agrupadas <span class="sc">%&gt;%</span> </span>
<span id="cb263-13"><a href="excpi.html#cb263-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">N_palavras =</span> stringr<span class="sc">::</span><span class="fu">str_count</span>(falas, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">W&quot;</span>), </span>
<span id="cb263-14"><a href="excpi.html#cb263-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">.after =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb263-15"><a href="excpi.html#cb263-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># reordenar pelo número de palavras (arrange) dos maiores valores aos menores (desc)</span></span>
<span id="cb263-16"><a href="excpi.html#cb263-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(N_palavras))</span>
<span id="cb263-17"><a href="excpi.html#cb263-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-18"><a href="excpi.html#cb263-18" aria-hidden="true" tabindex="-1"></a><span class="co"># plotando o gráfico</span></span>
<span id="cb263-19"><a href="excpi.html#cb263-19" aria-hidden="true" tabindex="-1"></a>NT_falasJuntasCount <span class="sc">%&gt;%</span></span>
<span id="cb263-20"><a href="excpi.html#cb263-20" aria-hidden="true" tabindex="-1"></a><span class="co"># restringindo aos primeiros resultados</span></span>
<span id="cb263-21"><a href="excpi.html#cb263-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb263-22"><a href="excpi.html#cb263-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(nome, N_palavras), <span class="at">y =</span> N_palavras)) <span class="sc">+</span></span>
<span id="cb263-23"><a href="excpi.html#cb263-23" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb263-24"><a href="excpi.html#cb263-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Quantidade de palavras ditas na CPI&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb263-25"><a href="excpi.html#cb263-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb263-26"><a href="excpi.html#cb263-26" aria-hidden="true" tabindex="-1"></a>      <span class="co"># girando o gráfico</span></span>
<span id="cb263-27"><a href="excpi.html#cb263-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_flip</span>()  </span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/excpi_quant_palavras-1.png" width="672" /></p>
<p>Vamos colocar os gráficos lado a lado para facilitar a comparação. Para tal, vamos utilizar o pacote <a href="https://cran.r-project.org/web/packages/patchwork/index.html">patchwork</a> que torna bem fácil colocar múltiplos gráficos juntos, nas mais diferentes configurações de layout.
Para instalar, podemos usar o comando <code>install.packages('patchwork')</code>.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="excpi.html#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="co"># carregando o pacote</span></span>
<span id="cb264-2"><a href="excpi.html#cb264-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code></pre></div>
<p>Para usá-lo, vamos primeiro salvar os gráficos como objetos R e depois vamos organizá-los no patchwork. Os gráficos são os mesmos que usamos mais acima.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="excpi.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Número de corte do máximo de itens a aparecer no gráfico</span></span>
<span id="cb265-2"><a href="excpi.html#cb265-2" aria-hidden="true" tabindex="-1"></a>n_max <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb265-3"><a href="excpi.html#cb265-3" aria-hidden="true" tabindex="-1"></a>graf1 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(intervencoes, <span class="fu">desc</span>(freq)) <span class="sc">%&gt;%</span></span>
<span id="cb265-4"><a href="excpi.html#cb265-4" aria-hidden="true" tabindex="-1"></a><span class="co"># restringindo aos 20 mais frequentes</span></span>
<span id="cb265-5"><a href="excpi.html#cb265-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">head</span>(n_max) <span class="sc">%&gt;%</span></span>
<span id="cb265-6"><a href="excpi.html#cb265-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(nome, freq), <span class="at">y =</span> freq)) <span class="sc">+</span></span>
<span id="cb265-7"><a href="excpi.html#cb265-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb265-8"><a href="excpi.html#cb265-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Número de intervenções&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb265-9"><a href="excpi.html#cb265-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>), </span>
<span id="cb265-10"><a href="excpi.html#cb265-10" aria-hidden="true" tabindex="-1"></a>              <span class="co"># Deslocando o título do gráfico para ficar mais visível</span></span>
<span id="cb265-11"><a href="excpi.html#cb265-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>) <span class="sc">+</span></span>
<span id="cb265-12"><a href="excpi.html#cb265-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># girando o gráfico</span></span>
<span id="cb265-13"><a href="excpi.html#cb265-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>()  </span>
<span id="cb265-14"><a href="excpi.html#cb265-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-15"><a href="excpi.html#cb265-15" aria-hidden="true" tabindex="-1"></a>graf2 <span class="ot">&lt;-</span> NT_falasJuntasCount <span class="sc">%&gt;%</span></span>
<span id="cb265-16"><a href="excpi.html#cb265-16" aria-hidden="true" tabindex="-1"></a><span class="co"># restringindo aos primeiros resultados</span></span>
<span id="cb265-17"><a href="excpi.html#cb265-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">top_n</span>(<span class="dv">20</span>, N_palavras) <span class="sc">%&gt;%</span></span>
<span id="cb265-18"><a href="excpi.html#cb265-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(nome, N_palavras), <span class="at">y =</span> N_palavras)) <span class="sc">+</span></span>
<span id="cb265-19"><a href="excpi.html#cb265-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb265-20"><a href="excpi.html#cb265-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Número de palavras ditas&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb265-21"><a href="excpi.html#cb265-21" aria-hidden="true" tabindex="-1"></a>        <span class="co">#labs(title = &quot;palavras ditas&quot;, x = &quot;&quot;,y = &quot;&quot;) +</span></span>
<span id="cb265-22"><a href="excpi.html#cb265-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>), <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>) <span class="sc">+</span></span>
<span id="cb265-23"><a href="excpi.html#cb265-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># girando o gráfico</span></span>
<span id="cb265-24"><a href="excpi.html#cb265-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>()  </span>
<span id="cb265-25"><a href="excpi.html#cb265-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-26"><a href="excpi.html#cb265-26" aria-hidden="true" tabindex="-1"></a>graf1 <span class="sc">+</span> graf2 <span class="sc">+</span></span>
<span id="cb265-27"><a href="excpi.html#cb265-27" aria-hidden="true" tabindex="-1"></a><span class="co"># adicionando titulo ao gráfico</span></span>
<span id="cb265-28"><a href="excpi.html#cb265-28" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">&#39;CPI da Pandemia: falas quantificadas de todas as reuniões&#39;</span>, </span>
<span id="cb265-29"><a href="excpi.html#cb265-29" aria-hidden="true" tabindex="-1"></a>                <span class="at">caption =</span> <span class="st">&#39;*Apenas os 20 mais frequentes aparecem nos gráficos</span><span class="sc">\n</span><span class="st">Elaboração: Alisson Soares&#39;</span>)</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/excpi_ggplot_split-1.png" width="672" /></p>
<p>Vamos examinar a diferença entre o número de intervenções e o número de palavras ditas bem como o inverso, a diferença entre número de palavras ditas e o númerode intervenções.
Vamos igualar os valores da coluna utilisando percentual: dividir os valores da coluna pela soma de seus valores com <code>sum()</code>
<!-- Mais à frente converteremos o formato de científico para percentual através de `format( , scientific=FALSE)` --></p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="excpi.html#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criando nova coluna/variável com os percentuais</span></span>
<span id="cb266-2"><a href="excpi.html#cb266-2" aria-hidden="true" tabindex="-1"></a>intervencoes2 <span class="ot">&lt;-</span>  intervencoes <span class="sc">%&gt;%</span> </span>
<span id="cb266-3"><a href="excpi.html#cb266-3" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">mutate</span>(<span class="at">interven_percent =</span> intervencoes<span class="sc">$</span>freq <span class="sc">/</span> </span>
<span id="cb266-4"><a href="excpi.html#cb266-4" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">sum</span>(intervencoes<span class="sc">$</span>freq))</span>
<span id="cb266-5"><a href="excpi.html#cb266-5" aria-hidden="true" tabindex="-1"></a><span class="co"># testando o cálculo: deve dar 1</span></span>
<span id="cb266-6"><a href="excpi.html#cb266-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(intervencoes2<span class="sc">$</span>interven_percent)</span>
<span id="cb266-7"><a href="excpi.html#cb266-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb266-8"><a href="excpi.html#cb266-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-9"><a href="excpi.html#cb266-9" aria-hidden="true" tabindex="-1"></a>NT_falasJuntasCount2 <span class="ot">&lt;-</span> NT_falasJuntasCount <span class="sc">%&gt;%</span> </span>
<span id="cb266-10"><a href="excpi.html#cb266-10" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mutate</span>(<span class="at">N_palavras_percent =</span> NT_falasJuntasCount<span class="sc">$</span>N_palavras <span class="sc">/</span> </span>
<span id="cb266-11"><a href="excpi.html#cb266-11" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">sum</span>(NT_falasJuntasCount<span class="sc">$</span>N_palavras)) <span class="sc">%&gt;%</span></span>
<span id="cb266-12"><a href="excpi.html#cb266-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(nome, N_palavras_percent) <span class="co"># selecionando apenas duas colunas</span></span>
<span id="cb266-13"><a href="excpi.html#cb266-13" aria-hidden="true" tabindex="-1"></a><span class="co"># testando o cálculo: deve dar 1</span></span>
<span id="cb266-14"><a href="excpi.html#cb266-14" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(NT_falasJuntasCount2<span class="sc">$</span>N_palavras_percent)</span>
<span id="cb266-15"><a href="excpi.html#cb266-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb266-16"><a href="excpi.html#cb266-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-17"><a href="excpi.html#cb266-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos juntar os dois dataframes</span></span>
<span id="cb266-18"><a href="excpi.html#cb266-18" aria-hidden="true" tabindex="-1"></a>DF_falas_intervencoes <span class="ot">&lt;-</span> <span class="fu">merge</span>(intervencoes2, </span>
<span id="cb266-19"><a href="excpi.html#cb266-19" aria-hidden="true" tabindex="-1"></a>                               NT_falasJuntasCount2,</span>
<span id="cb266-20"><a href="excpi.html#cb266-20" aria-hidden="true" tabindex="-1"></a>                               <span class="at">by =</span> <span class="st">&quot;nome&quot;</span>)</span>
<span id="cb266-21"><a href="excpi.html#cb266-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos encontrar a diferenca entre as duas colunas</span></span>
<span id="cb266-22"><a href="excpi.html#cb266-22" aria-hidden="true" tabindex="-1"></a>DF_falas_interv <span class="ot">&lt;-</span> DF_falas_intervencoes <span class="sc">%&gt;%</span> </span>
<span id="cb266-23"><a href="excpi.html#cb266-23" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">mutate</span>(<span class="at">diferenca =</span> </span>
<span id="cb266-24"><a href="excpi.html#cb266-24" aria-hidden="true" tabindex="-1"></a>                                    N_palavras_percent <span class="sc">-</span> interven_percent) <span class="sc">%&gt;%</span></span>
<span id="cb266-25"><a href="excpi.html#cb266-25" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">arrange</span>(<span class="sc">-</span>diferenca)</span>
<span id="cb266-26"><a href="excpi.html#cb266-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-27"><a href="excpi.html#cb266-27" aria-hidden="true" tabindex="-1"></a><span class="co"># vamos gerar um gráfico </span></span>
<span id="cb266-28"><a href="excpi.html#cb266-28" aria-hidden="true" tabindex="-1"></a>DF_falas_interv <span class="sc">%&gt;%</span></span>
<span id="cb266-29"><a href="excpi.html#cb266-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">top_n</span>(<span class="dv">20</span>, diferenca) <span class="sc">%&gt;%</span></span>
<span id="cb266-30"><a href="excpi.html#cb266-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(nome, diferenca), <span class="at">y =</span> diferenca)) <span class="sc">+</span></span>
<span id="cb266-31"><a href="excpi.html#cb266-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb266-32"><a href="excpi.html#cb266-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Diferença: nº de palavras - nº intervenções&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb266-33"><a href="excpi.html#cb266-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">caption =</span> <span class="st">&#39;*Apenas os 20 mais frequentes aparecem nos gráficos</span></span>
<span id="cb266-34"><a href="excpi.html#cb266-34" aria-hidden="true" tabindex="-1"></a><span class="st">         Elaboração: Alisson Soares&#39;</span>) <span class="sc">+</span></span>
<span id="cb266-35"><a href="excpi.html#cb266-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="co"># girando o gráfico</span></span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/excpi_diferenca_Palavras_interv-1.png" width="672" />
<!-- Podemos identificar ali a ordem daqueles que interviram pouco e falaram bastante --></p>
<p>Vamos fazer a subtração inversa agora:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="excpi.html#cb267-1" aria-hidden="true" tabindex="-1"></a>DF_falas_interv <span class="ot">&lt;-</span> DF_falas_intervencoes <span class="sc">%&gt;%</span> </span>
<span id="cb267-2"><a href="excpi.html#cb267-2" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">mutate</span>(<span class="at">diferenca =</span> </span>
<span id="cb267-3"><a href="excpi.html#cb267-3" aria-hidden="true" tabindex="-1"></a>                                    interven_percent <span class="sc">-</span> N_palavras_percent) <span class="sc">%&gt;%</span></span>
<span id="cb267-4"><a href="excpi.html#cb267-4" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">arrange</span>(<span class="sc">-</span>diferenca)</span>
<span id="cb267-5"><a href="excpi.html#cb267-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb267-6"><a href="excpi.html#cb267-6" aria-hidden="true" tabindex="-1"></a><span class="co"># vamos gerar um gráfico </span></span>
<span id="cb267-7"><a href="excpi.html#cb267-7" aria-hidden="true" tabindex="-1"></a>DF_falas_interv <span class="sc">%&gt;%</span></span>
<span id="cb267-8"><a href="excpi.html#cb267-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">top_n</span>(<span class="dv">20</span>, diferenca) <span class="sc">%&gt;%</span></span>
<span id="cb267-9"><a href="excpi.html#cb267-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(nome, diferenca), <span class="at">y =</span> diferenca)) <span class="sc">+</span></span>
<span id="cb267-10"><a href="excpi.html#cb267-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb267-11"><a href="excpi.html#cb267-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Diferença: nº de intervenções - nº de palavras&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb267-12"><a href="excpi.html#cb267-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">caption =</span> <span class="st">&#39;*Apenas os 20 mais frequentes aparecem nos gráficos\</span></span>
<span id="cb267-13"><a href="excpi.html#cb267-13" aria-hidden="true" tabindex="-1"></a><span class="st">         Elaboração: Alisson Soares&#39;</span>) <span class="sc">+</span></span>
<span id="cb267-14"><a href="excpi.html#cb267-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="co"># girando o gráfico</span></span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/excpi_diferenca_intervPalavras-1.png" width="672" /></p>
</div>
<div id="entes" class="section level2 hasAnchor" number="14.4">
<h2><span class="header-section-number">14.4</span> Entes<a href="excpi.html#entes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Dado que o texto das notas taquigráficas possuem certa formalização, um modo simples de pegar nomes próprios - não dos mais eficientes, é verdade, mas relativamente rápido - é utilizando <a href="normalização-de-texto-e-expressões-regulares.html#regex">expresões regulares</a>.
Um dos principais problemas de usar regex neste caso, é que este padrão irá pegar também palavras em maiúsculo que iniciam frases, teremos vários falsos positivos.
Esta ferramenta, portanto, pode servir apenas como um <em>auxílio</em> na exploração do texto.</p>
<!-- stringr::str_extract_all("[A-ZÀ-Ÿ][a-zà-ÿ\\-]+")  -->
<!-- stringr::str_extract_all("([A-ZÀ-Ÿ][a-zà-ÿ\\-]+ (d[aeo]s? )?){2,}([A-ZÀ-Ÿ][a-zà-ÿ\\-])*" )  -->
<!-- entes1 <- entes1[[3]] |> stringr::str_trim(side = "both") |> unique() |> sort() -->
<!-- entes <- entes[[3]] |> stringr::str_trim(side = "both") |> unique() |> sort() -->
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="excpi.html#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Todas palavras únicas que comecem em maiúsculo</span></span>
<span id="cb268-2"><a href="excpi.html#cb268-2" aria-hidden="true" tabindex="-1"></a>entes1 <span class="ot">&lt;-</span> NT_falasJuntasCount<span class="sc">$</span>falas <span class="sc">|&gt;</span></span>
<span id="cb268-3"><a href="excpi.html#cb268-3" aria-hidden="true" tabindex="-1"></a>  stringr<span class="sc">::</span><span class="fu">str_extract_all</span>(<span class="st">&quot;[:upper:][:alpha:]+(</span><span class="sc">\\</span><span class="st">-[:alpha:]+)?&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb268-4"><a href="excpi.html#cb268-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span> plyr<span class="sc">::</span><span class="fu">count</span>() <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="sc">-</span>freq)</span>
<span id="cb268-5"><a href="excpi.html#cb268-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Palavras em maiúsculo, com duas ou mais palavras em maiúsculo</span></span>
<span id="cb268-6"><a href="excpi.html#cb268-6" aria-hidden="true" tabindex="-1"></a>entes <span class="ot">&lt;-</span> NT_falasJuntasCount<span class="sc">$</span>falas <span class="sc">|&gt;</span></span>
<span id="cb268-7"><a href="excpi.html#cb268-7" aria-hidden="true" tabindex="-1"></a>  stringr<span class="sc">::</span><span class="fu">str_extract_all</span>(<span class="st">&quot;([:upper:][:alpha:]+(</span><span class="sc">\\</span><span class="st">-[:alpha:]+| d[aeiou]s?)? ?){2,}&quot;</span> ) <span class="sc">|&gt;</span></span>
<span id="cb268-8"><a href="excpi.html#cb268-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">|&gt;</span> plyr<span class="sc">::</span><span class="fu">count</span>() <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="sc">-</span>freq)</span>
<span id="cb268-9"><a href="excpi.html#cb268-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-10"><a href="excpi.html#cb268-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Dando uma olhada</span></span>
<span id="cb268-11"><a href="excpi.html#cb268-11" aria-hidden="true" tabindex="-1"></a>entes1[<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>,]</span>
<span id="cb268-12"><a href="excpi.html#cb268-12" aria-hidden="true" tabindex="-1"></a><span class="do">##             x  freq</span></span>
<span id="cb268-13"><a href="excpi.html#cb268-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 1          Eu 18795</span></span>
<span id="cb268-14"><a href="excpi.html#cb268-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 2     Senador 18658</span></span>
<span id="cb268-15"><a href="excpi.html#cb268-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 3  Presidente 17598</span></span>
<span id="cb268-16"><a href="excpi.html#cb268-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 4         Não 15772</span></span>
<span id="cb268-17"><a href="excpi.html#cb268-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 5      Senhor 13285</span></span>
<span id="cb268-18"><a href="excpi.html#cb268-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 6       Então 10054</span></span>
<span id="cb268-19"><a href="excpi.html#cb268-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 7  Excelência  8866</span></span>
<span id="cb268-20"><a href="excpi.html#cb268-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 8       Vossa  7748</span></span>
<span id="cb268-21"><a href="excpi.html#cb268-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 9       Saúde  6620</span></span>
<span id="cb268-22"><a href="excpi.html#cb268-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 10        CPI  6237</span></span>
<span id="cb268-23"><a href="excpi.html#cb268-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 11     Brasil  6076</span></span>
<span id="cb268-24"><a href="excpi.html#cb268-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 12 Ministério  5855</span></span>
<span id="cb268-25"><a href="excpi.html#cb268-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 13    Governo  5309</span></span>
<span id="cb268-26"><a href="excpi.html#cb268-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 14        Mas  4933</span></span>
<span id="cb268-27"><a href="excpi.html#cb268-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 15   Ministro  4660</span></span>
<span id="cb268-28"><a href="excpi.html#cb268-28" aria-hidden="true" tabindex="-1"></a>entes[<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>,]</span>
<span id="cb268-29"><a href="excpi.html#cb268-29" aria-hidden="true" tabindex="-1"></a><span class="do">##                                     x freq</span></span>
<span id="cb268-30"><a href="excpi.html#cb268-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 1                   Senhor Presidente 5325</span></span>
<span id="cb268-31"><a href="excpi.html#cb268-31" aria-hidden="true" tabindex="-1"></a><span class="do">## 2                   Vossa Excelência  5025</span></span>
<span id="cb268-32"><a href="excpi.html#cb268-32" aria-hidden="true" tabindex="-1"></a><span class="do">## 3                 Ministério da Saúde 2466</span></span>
<span id="cb268-33"><a href="excpi.html#cb268-33" aria-hidden="true" tabindex="-1"></a><span class="do">## 4                Ministério da Saúde  1804</span></span>
<span id="cb268-34"><a href="excpi.html#cb268-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 5                    Vossa Excelência 1682</span></span>
<span id="cb268-35"><a href="excpi.html#cb268-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 6   Comissão Parlamentar de Inquérito 1213</span></span>
<span id="cb268-36"><a href="excpi.html#cb268-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 7             Presidente da República 1068</span></span>
<span id="cb268-37"><a href="excpi.html#cb268-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 8                      Senhor Relator 1066</span></span>
<span id="cb268-38"><a href="excpi.html#cb268-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 9                       Senador Renan  984</span></span>
<span id="cb268-39"><a href="excpi.html#cb268-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 10           Presidente da República   896</span></span>
<span id="cb268-40"><a href="excpi.html#cb268-40" aria-hidden="true" tabindex="-1"></a><span class="do">## 11             Senador Marcos Rogério  781</span></span>
<span id="cb268-41"><a href="excpi.html#cb268-41" aria-hidden="true" tabindex="-1"></a><span class="do">## 12                   Senador Randolfe  706</span></span>
<span id="cb268-42"><a href="excpi.html#cb268-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 13                   Governo Federal   699</span></span>
<span id="cb268-43"><a href="excpi.html#cb268-43" aria-hidden="true" tabindex="-1"></a><span class="do">## 14                    Governo Federal  690</span></span>
<span id="cb268-44"><a href="excpi.html#cb268-44" aria-hidden="true" tabindex="-1"></a><span class="do">## 15 Comissão Parlamentar de Inquérito   663</span></span></code></pre></div>
<p>Destrinchando o regex:</p>
<ul>
<li><code>[:upper:][:alpha:]+</code> indica palavras iniciadas em maiúscula, seguida de letras minúsculas ou maiúsculas, uma ou várias vezes</li>
<li><code>(\\-[:alpha:]+</code> hífen seguido de letras, uma ou mais vezes, <code>|</code> ou o padrão <code>d[aeiou]s?</code> que busca captar “da”, “de”, “dos”, etc. <code>)?</code> indica que estes padrões podem aparecer uma vez ou nenhuma. Segue ainda um espaço, também opcional: <code>?)</code></li>
<li><code>){2,}</code> o padrão deve repetir duas vezes ou mais.</li>
</ul>
</div>
<div id="palavras-chave-em-contexto---kwic" class="section level2 hasAnchor" number="14.5">
<h2><span class="header-section-number">14.5</span> Palavras chave em contexto - KWIC<a href="excpi.html#palavras-chave-em-contexto---kwic" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para entender melhor como certas palavras foram utilizadas, em que contexto elas apareceram, podemos utilizar o Keywords in context</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="excpi.html#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carregando o pacote</span></span>
<span id="cb269-2"><a href="excpi.html#cb269-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb269-3"><a href="excpi.html#cb269-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformando o dataframe em corpus do quanteda</span></span>
<span id="cb269-4"><a href="excpi.html#cb269-4" aria-hidden="true" tabindex="-1"></a>Corpus.NT.falas.agrupadas <span class="ot">&lt;-</span> <span class="fu">corpus</span>(NotasTaq_falas.agrupadas, </span>
<span id="cb269-5"><a href="excpi.html#cb269-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">docnames =</span> <span class="st">&quot;nome&quot;</span>, </span>
<span id="cb269-6"><a href="excpi.html#cb269-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="co"># docid_field = 1:nrow(NotasTaq_falas.agrupadas), </span></span>
<span id="cb269-7"><a href="excpi.html#cb269-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">docid_field =</span> <span class="st">&quot;nome&quot;</span>, </span>
<span id="cb269-8"><a href="excpi.html#cb269-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">text_field =</span> <span class="st">&quot;falas&quot;</span> )</span>
<span id="cb269-9"><a href="excpi.html#cb269-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning: docnames argument is not used.</span></span>
<span id="cb269-10"><a href="excpi.html#cb269-10" aria-hidden="true" tabindex="-1"></a><span class="co"># observando nosso corpus</span></span>
<span id="cb269-11"><a href="excpi.html#cb269-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(Corpus.NT.falas.agrupadas)</span>
<span id="cb269-12"><a href="excpi.html#cb269-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Corpus consisting of 149 documents.</span></span>
<span id="cb269-13"><a href="excpi.html#cb269-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Airton Antonio Soligo :</span></span>
<span id="cb269-14"><a href="excpi.html#cb269-14" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;Senhor Presidente, acredito que, em função da decisão, eu nã...&quot;</span></span>
<span id="cb269-15"><a href="excpi.html#cb269-15" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb269-16"><a href="excpi.html#cb269-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Alan Diniz Moreira Guedes de Ornelas :</span></span>
<span id="cb269-17"><a href="excpi.html#cb269-17" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;Presidente, só uma questão de ordem então?  Para deixar o re...&quot;</span></span>
<span id="cb269-18"><a href="excpi.html#cb269-18" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb269-19"><a href="excpi.html#cb269-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Alberto Zacharias Toron :</span></span>
<span id="cb269-20"><a href="excpi.html#cb269-20" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;Perfeitamente, Excelência, Senhor Presidente em exercício.  ...&quot;</span></span>
<span id="cb269-21"><a href="excpi.html#cb269-21" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb269-22"><a href="excpi.html#cb269-22" aria-hidden="true" tabindex="-1"></a><span class="do">## Alessandro Vieira :</span></span>
<span id="cb269-23"><a href="excpi.html#cb269-23" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;Pela ordem, Presidente Otto Alencar.  Senhor Presidente...  ...&quot;</span></span>
<span id="cb269-24"><a href="excpi.html#cb269-24" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb269-25"><a href="excpi.html#cb269-25" aria-hidden="true" tabindex="-1"></a><span class="do">## Alexandre Figueiredo Costa Silva Marques :</span></span>
<span id="cb269-26"><a href="excpi.html#cb269-26" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;Senador, eu vou me valer do habeas corpus que me foi deferid...&quot;</span></span>
<span id="cb269-27"><a href="excpi.html#cb269-27" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb269-28"><a href="excpi.html#cb269-28" aria-hidden="true" tabindex="-1"></a><span class="do">## Alexandre Queiroz :</span></span>
<span id="cb269-29"><a href="excpi.html#cb269-29" aria-hidden="true" tabindex="-1"></a><span class="do">## &quot;Presidente, bom dia.  Bom dia, eminente Relator, Senhora. Se...&quot;</span></span>
<span id="cb269-30"><a href="excpi.html#cb269-30" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb269-31"><a href="excpi.html#cb269-31" aria-hidden="true" tabindex="-1"></a><span class="do">## [ reached max_ndoc ... 143 more documents ]</span></span>
<span id="cb269-32"><a href="excpi.html#cb269-32" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Corpus.NT.falas.agrupadas, <span class="dv">5</span>)</span>
<span id="cb269-33"><a href="excpi.html#cb269-33" aria-hidden="true" tabindex="-1"></a><span class="do">## Corpus consisting of 149 documents, showing 5 documents:</span></span>
<span id="cb269-34"><a href="excpi.html#cb269-34" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb269-35"><a href="excpi.html#cb269-35" aria-hidden="true" tabindex="-1"></a><span class="do">##                                      Text Types Tokens Sentences</span></span>
<span id="cb269-36"><a href="excpi.html#cb269-36" aria-hidden="true" tabindex="-1"></a><span class="do">##                     Airton Antonio Soligo  2707  19499      1372</span></span>
<span id="cb269-37"><a href="excpi.html#cb269-37" aria-hidden="true" tabindex="-1"></a><span class="do">##      Alan Diniz Moreira Guedes de Ornelas   236    630        60</span></span>
<span id="cb269-38"><a href="excpi.html#cb269-38" aria-hidden="true" tabindex="-1"></a><span class="do">##                   Alberto Zacharias Toron   233    662        65</span></span>
<span id="cb269-39"><a href="excpi.html#cb269-39" aria-hidden="true" tabindex="-1"></a><span class="do">##                         Alessandro Vieira  6976  73547      4083</span></span>
<span id="cb269-40"><a href="excpi.html#cb269-40" aria-hidden="true" tabindex="-1"></a><span class="do">##  Alexandre Figueiredo Costa Silva Marques  1324   7169       459</span></span>
<span id="cb269-41"><a href="excpi.html#cb269-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-42"><a href="excpi.html#cb269-42" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenizando para poder usar no kwic</span></span>
<span id="cb269-43"><a href="excpi.html#cb269-43" aria-hidden="true" tabindex="-1"></a>corpus.token <span class="ot">&lt;-</span> Corpus.NT.falas.agrupadas <span class="sc">|&gt;</span></span>
<span id="cb269-44"><a href="excpi.html#cb269-44" aria-hidden="true" tabindex="-1"></a>          <span class="co"># precisamos primeiro tokenizar</span></span>
<span id="cb269-45"><a href="excpi.html#cb269-45" aria-hidden="true" tabindex="-1"></a>          <span class="fu">tokens</span>()</span>
<span id="cb269-46"><a href="excpi.html#cb269-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-47"><a href="excpi.html#cb269-47" aria-hidden="true" tabindex="-1"></a><span class="co"># termos a serem buscados</span></span>
<span id="cb269-48"><a href="excpi.html#cb269-48" aria-hidden="true" tabindex="-1"></a>termos.vetor <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;WhatsApps&quot;</span>, <span class="st">&quot;Quickcard&quot;</span>)</span>
<span id="cb269-49"><a href="excpi.html#cb269-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-50"><a href="excpi.html#cb269-50" aria-hidden="true" tabindex="-1"></a> <span class="co"># rodando a função de palavras chave em contexto</span></span>
<span id="cb269-51"><a href="excpi.html#cb269-51" aria-hidden="true" tabindex="-1"></a><span class="fu">kwic</span>(corpus.token , </span>
<span id="cb269-52"><a href="excpi.html#cb269-52" aria-hidden="true" tabindex="-1"></a>        <span class="co"># termos a serem buscados. Pode ser um termo ou um vetor</span></span>
<span id="cb269-53"><a href="excpi.html#cb269-53" aria-hidden="true" tabindex="-1"></a>        termos.vetor, </span>
<span id="cb269-54"><a href="excpi.html#cb269-54" aria-hidden="true" tabindex="-1"></a>        <span class="co"># quantas palavras devem ser mostradas ao redor</span></span>
<span id="cb269-55"><a href="excpi.html#cb269-55" aria-hidden="true" tabindex="-1"></a>        <span class="dv">4</span>, </span>
<span id="cb269-56"><a href="excpi.html#cb269-56" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Para pegar tanto palavras minúsculas como as em maiúsculo. </span></span>
<span id="cb269-57"><a href="excpi.html#cb269-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">case_insensitive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb269-58"><a href="excpi.html#cb269-58" aria-hidden="true" tabindex="-1"></a><span class="do">## Keyword-in-context with 10 matches.                                                                      </span></span>
<span id="cb269-59"><a href="excpi.html#cb269-59" aria-hidden="true" tabindex="-1"></a><span class="do">##       [Humberto Costa, 18024]      já recebi hoje alguns | WhatsApps |</span></span>
<span id="cb269-60"><a href="excpi.html#cb269-60" aria-hidden="true" tabindex="-1"></a><span class="do">##       [Humberto Costa, 36653]     , vários telefonemas e | WhatsApps |</span></span>
<span id="cb269-61"><a href="excpi.html#cb269-61" aria-hidden="true" tabindex="-1"></a><span class="do">##     [Jean Paul Prates, 12701] conhece um serviço chamado | QuickCard |</span></span>
<span id="cb269-62"><a href="excpi.html#cb269-62" aria-hidden="true" tabindex="-1"></a><span class="do">##     [Jean Paul Prates, 12703] serviço chamado QuickCard? | QuickCard |</span></span>
<span id="cb269-63"><a href="excpi.html#cb269-63" aria-hidden="true" tabindex="-1"></a><span class="do">##     [Jean Paul Prates, 12716]         . Vossacê emite um | QuickCard |</span></span>
<span id="cb269-64"><a href="excpi.html#cb269-64" aria-hidden="true" tabindex="-1"></a><span class="do">##     [Jean Paul Prates, 12749]  para esse serviço chamado | QuickCard |</span></span>
<span id="cb269-65"><a href="excpi.html#cb269-65" aria-hidden="true" tabindex="-1"></a><span class="do">##     [Jean Paul Prates, 12986]            é o pagamento à | QuickCard |</span></span>
<span id="cb269-66"><a href="excpi.html#cb269-66" aria-hidden="true" tabindex="-1"></a><span class="do">##     [Jean Paul Prates, 13003]            adiante: a quem | QuickCard |</span></span>
<span id="cb269-67"><a href="excpi.html#cb269-67" aria-hidden="true" tabindex="-1"></a><span class="do">##  [Randolfe Rodrigues, 210553]           Abdul, vamos aos | WhatsApps |</span></span>
<span id="cb269-68"><a href="excpi.html#cb269-68" aria-hidden="true" tabindex="-1"></a><span class="do">##  [Randolfe Rodrigues, 210707]      Pode continuar com os | WhatsApps |</span></span>
<span id="cb269-69"><a href="excpi.html#cb269-69" aria-hidden="true" tabindex="-1"></a><span class="do">##                             </span></span>
<span id="cb269-70"><a href="excpi.html#cb269-70" aria-hidden="true" tabindex="-1"></a><span class="do">##  e tal. O                   </span></span>
<span id="cb269-71"><a href="excpi.html#cb269-71" aria-hidden="true" tabindex="-1"></a><span class="do">##  de assessores do ministério</span></span>
<span id="cb269-72"><a href="excpi.html#cb269-72" aria-hidden="true" tabindex="-1"></a><span class="do">##  ? QuickCard é uma          </span></span>
<span id="cb269-73"><a href="excpi.html#cb269-73" aria-hidden="true" tabindex="-1"></a><span class="do">##  é uma espécie de           </span></span>
<span id="cb269-74"><a href="excpi.html#cb269-74" aria-hidden="true" tabindex="-1"></a><span class="do">##  para alguém e essa         </span></span>
<span id="cb269-75"><a href="excpi.html#cb269-75" aria-hidden="true" tabindex="-1"></a><span class="do">##  . O senhor tem             </span></span>
<span id="cb269-76"><a href="excpi.html#cb269-76" aria-hidden="true" tabindex="-1"></a><span class="do">##  . O que a                  </span></span>
<span id="cb269-77"><a href="excpi.html#cb269-77" aria-hidden="true" tabindex="-1"></a><span class="do">##  pagou, ou quem             </span></span>
<span id="cb269-78"><a href="excpi.html#cb269-78" aria-hidden="true" tabindex="-1"></a><span class="do">##  . O Senhor Abdul           </span></span>
<span id="cb269-79"><a href="excpi.html#cb269-79" aria-hidden="true" tabindex="-1"></a><span class="do">##  . Pode continuar,</span></span></code></pre></div>
<!-- Vamos criar um dataframe separando apenas os senadores -->
<!-- São 149 pessoas. Alguns nomes aparecem em mais de uma versão, como Pazuelo, que aparece escrito de duas formas diferentes, uma com, outra sem "gen."; Francieli; o deputado Luis Miranda e Marcelo Blanco, aparecem com nomes grafado de duas formas distintas.  -->
<p>Vamos restringir inicialmente nossa base de dados para explorar melhor. Vamos começar somente com os senadores.</p>
</div>
<div id="opção-1-separando-apenas-os-senadores" class="section level2 hasAnchor" number="14.6">
<h2><span class="header-section-number">14.6</span> Opção 1: Separando apenas os senadores<a href="excpi.html#opção-1-separando-apenas-os-senadores" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Como somente os senadores que participaram possuem campo com partido e bloco parlamentar preenchido, uma opção para filtrarmos apenas os senadores seria excluindo as linhas cuja célula da coluna “BlocoParl” esteja vazia.</p>
<ul>
<li>O campo “funcao_blocoPar” possui, além da função e bloco parlamentar, possui também questões de ordem</li>
<li>O campo “part” melhora a situação, mas podendo haver parlamentar sem partido, não resolve nosso problema</li>
<li>o campo “estado” pode resolver nosso problema.</li>
</ul>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="excpi.html#cb270-1" aria-hidden="true" tabindex="-1"></a>siglas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;AC&quot;</span>, <span class="st">&quot;AL&quot;</span>, <span class="st">&quot;AP&quot;</span>, <span class="st">&quot;AM&quot;</span>, <span class="st">&quot;BA&quot;</span>, <span class="st">&quot;CE&quot;</span>, <span class="st">&quot;DF&quot;</span>, <span class="st">&quot;ES&quot;</span>, <span class="st">&quot;GO&quot;</span>, <span class="st">&quot;MA&quot;</span>, <span class="st">&quot;MT&quot;</span>, <span class="st">&quot;MS&quot;</span>, <span class="st">&quot;MG&quot;</span>, <span class="st">&quot;PA&quot;</span>, <span class="st">&quot;PB&quot;</span>, <span class="st">&quot;PR&quot;</span>, <span class="st">&quot;PE&quot;</span>, <span class="st">&quot;PI&quot;</span>, <span class="st">&quot;RJ&quot;</span>, <span class="st">&quot;RN&quot;</span>, <span class="st">&quot;RS&quot;</span>, <span class="st">&quot;RO&quot;</span>, <span class="st">&quot;RR&quot;</span>, <span class="st">&quot;SC&quot;</span>, <span class="st">&quot;SP&quot;</span>, <span class="st">&quot;SE&quot;</span>, <span class="st">&quot;TO&quot;</span>)</span>
<span id="cb270-2"><a href="excpi.html#cb270-2" aria-hidden="true" tabindex="-1"></a>DFsenadores <span class="ot">&lt;-</span> NotasTaq <span class="sc">%&gt;%</span></span>
<span id="cb270-3"><a href="excpi.html#cb270-3" aria-hidden="true" tabindex="-1"></a>        <span class="co">#filter(siglas %in% estado)</span></span>
<span id="cb270-4"><a href="excpi.html#cb270-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(estado <span class="sc">%in%</span> siglas)</span>
<span id="cb270-5"><a href="excpi.html#cb270-5" aria-hidden="true" tabindex="-1"></a>DFsenadores</span>
<span id="cb270-6"><a href="excpi.html#cb270-6" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 67,220 × 9</span></span>
<span id="cb270-7"><a href="excpi.html#cb270-7" aria-hidden="true" tabindex="-1"></a><span class="do">##    reuniao data       nome  funcao_blocoPar BlocoParl partido estado complemento</span></span>
<span id="cb270-8"><a href="excpi.html#cb270-8" aria-hidden="true" tabindex="-1"></a><span class="do">##      &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;      </span></span>
<span id="cb270-9"><a href="excpi.html#cb270-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  1       1 2021-04-27 Otto… PRESIDENTE      (Otto Al… PSD     BA     &quot;Fala da P…</span></span>
<span id="cb270-10"><a href="excpi.html#cb270-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  2       1 2021-04-27 Ciro… (Bloco Parlame… Bloco Pa… PP      PI     &quot;Para ques…</span></span>
<span id="cb270-11"><a href="excpi.html#cb270-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  3       1 2021-04-27 Otto… PRESIDENTE      (Otto Al… PSD     BA     &quot;&quot;         </span></span>
<span id="cb270-12"><a href="excpi.html#cb270-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  4       1 2021-04-27 Ciro… (Bloco Parlame… Bloco Pa… PP      PI     &quot;&quot;         </span></span>
<span id="cb270-13"><a href="excpi.html#cb270-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  5       1 2021-04-27 Otto… PRESIDENTE      (Otto Al… PSD     BA     &quot;&quot;         </span></span>
<span id="cb270-14"><a href="excpi.html#cb270-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  6       1 2021-04-27 Ciro… (Bloco Parlame… Bloco Pa… PP      PI     &quot;&quot;         </span></span>
<span id="cb270-15"><a href="excpi.html#cb270-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  7       1 2021-04-27 Otto… PRESIDENTE      (Otto Al… PSD     BA     &quot;&quot;         </span></span>
<span id="cb270-16"><a href="excpi.html#cb270-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  8       1 2021-04-27 Ciro… (Bloco Parlame… Bloco Pa… PP      PI     &quot;&quot;         </span></span>
<span id="cb270-17"><a href="excpi.html#cb270-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  9       1 2021-04-27 Otto… PRESIDENTE      (Otto Al… PSD     BA     &quot;&quot;         </span></span>
<span id="cb270-18"><a href="excpi.html#cb270-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 10       1 2021-04-27 Ciro… (Bloco Parlame… Bloco Pa… PP      PI     &quot;&quot;         </span></span>
<span id="cb270-19"><a href="excpi.html#cb270-19" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 67,210 more rows, and 1 more variable: fala &lt;chr&gt;</span></span>
<span id="cb270-20"><a href="excpi.html#cb270-20" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(DFsenadores<span class="sc">$</span>nome)</span>
<span id="cb270-21"><a href="excpi.html#cb270-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;Otto Alencar&quot;              &quot;Ciro Nogueira&quot;            </span></span>
<span id="cb270-22"><a href="excpi.html#cb270-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  [3] &quot;Jorginho Mello&quot;            &quot;Izalci Lucas&quot;             </span></span>
<span id="cb270-23"><a href="excpi.html#cb270-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;Alessandro Vieira&quot;         &quot;Eduardo Braga&quot;            </span></span>
<span id="cb270-24"><a href="excpi.html#cb270-24" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] &quot;Eduardo Girão&quot;             &quot;Marcos Rogério&quot;           </span></span>
<span id="cb270-25"><a href="excpi.html#cb270-25" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;Omar Aziz&quot;                 &quot;Humberto Costa&quot;           </span></span>
<span id="cb270-26"><a href="excpi.html#cb270-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;Rogério Carvalho&quot;          &quot;Weverton&quot;                 </span></span>
<span id="cb270-27"><a href="excpi.html#cb270-27" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;Eliziane Gama&quot;             &quot;Randolfe Rodrigues&quot;       </span></span>
<span id="cb270-28"><a href="excpi.html#cb270-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [15] &quot;Paulo Rocha&quot;               &quot;Flávio Bolsonaro&quot;         </span></span>
<span id="cb270-29"><a href="excpi.html#cb270-29" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;Renan Calheiros&quot;           &quot;Fernando Bezerra Coelho&quot;  </span></span>
<span id="cb270-30"><a href="excpi.html#cb270-30" aria-hidden="true" tabindex="-1"></a><span class="do">## [19] &quot;Luis Carlos Heinze&quot;        &quot;Angelo Coronel&quot;           </span></span>
<span id="cb270-31"><a href="excpi.html#cb270-31" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;Marcos do Val&quot;             &quot;Simone Tebet&quot;             </span></span>
<span id="cb270-32"><a href="excpi.html#cb270-32" aria-hidden="true" tabindex="-1"></a><span class="do">## [23] &quot;Leila Barros&quot;              &quot;Tasso Jereissati&quot;         </span></span>
<span id="cb270-33"><a href="excpi.html#cb270-33" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;Zenaide Maia&quot;              &quot;Fabiano Contarato&quot;        </span></span>
<span id="cb270-34"><a href="excpi.html#cb270-34" aria-hidden="true" tabindex="-1"></a><span class="do">## [27] &quot;Vanderlan Cardoso&quot;         &quot;Telmário Mota&quot;            </span></span>
<span id="cb270-35"><a href="excpi.html#cb270-35" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] &quot;Soraya Thronicke&quot;          &quot;Jean Paul Prates&quot;         </span></span>
<span id="cb270-36"><a href="excpi.html#cb270-36" aria-hidden="true" tabindex="-1"></a><span class="do">## [31] &quot;Mara Gabrilli&quot;             &quot;Reguffe&quot;                  </span></span>
<span id="cb270-37"><a href="excpi.html#cb270-37" aria-hidden="true" tabindex="-1"></a><span class="do">## [33] &quot;Mecias de Jesus&quot;           &quot;Roberto Rocha&quot;            </span></span>
<span id="cb270-38"><a href="excpi.html#cb270-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [35] &quot;Kátia Abreu&quot;               &quot;Daniella Ribeiro&quot;         </span></span>
<span id="cb270-39"><a href="excpi.html#cb270-39" aria-hidden="true" tabindex="-1"></a><span class="do">## [37] &quot;Jorge Kajuru&quot;              &quot;Carlos Portinho&quot;          </span></span>
<span id="cb270-40"><a href="excpi.html#cb270-40" aria-hidden="true" tabindex="-1"></a><span class="do">## [39] &quot;Styvenson Valentim&quot;        &quot;Nelsinho Trad&quot;            </span></span>
<span id="cb270-41"><a href="excpi.html#cb270-41" aria-hidden="true" tabindex="-1"></a><span class="do">## [41] &quot;Giordano&quot;                  &quot;Osmar Terra&quot;              </span></span>
<span id="cb270-42"><a href="excpi.html#cb270-42" aria-hidden="true" tabindex="-1"></a><span class="do">## [43] &quot;Luis Miranda&quot;              &quot;Rodrigo Cunha&quot;            </span></span>
<span id="cb270-43"><a href="excpi.html#cb270-43" aria-hidden="true" tabindex="-1"></a><span class="do">## [45] &quot;Eliane Nogueira&quot;           &quot;Reinhold Stephanes Junior&quot;</span></span>
<span id="cb270-44"><a href="excpi.html#cb270-44" aria-hidden="true" tabindex="-1"></a><span class="do">## [47] &quot;Ricardo Barros&quot;            &quot;Rose de Freitas&quot;          </span></span>
<span id="cb270-45"><a href="excpi.html#cb270-45" aria-hidden="true" tabindex="-1"></a><span class="do">## [49] &quot;Daniel Freitas&quot;            &quot;Bia Kicis&quot;</span></span></code></pre></div>
<p>No entanto, esta opção captou também os deputados que lá falaram, como Luis Miranda e Bia Kicis.
Poderíamos continuar aqui separando manualmente os deputados de nosso dataframe, mas vamos tentar outra opção.</p>
</div>
<div id="opção-2-somente-senadores-a-partir-do-site-do-senado" class="section level2 hasAnchor" number="14.7">
<h2><span class="header-section-number">14.7</span> Opção 2: Somente senadores, a partir do site do Senado<a href="excpi.html#opção-2-somente-senadores-a-partir-do-site-do-senado" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vamos pegar os nomes dos senadores no site do Senado.
O endereço para a atual legislatura é o <a href="https://www25.senado.leg.br/web/senadores/em-exercicio/" class="uri">https://www25.senado.leg.br/web/senadores/em-exercicio/</a>.
Porém, quem for pegar estes dados tempos depois pode encontrar dados divergentes. Baixei esta página e ela está disponível em:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="excpi.html#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb271-2"><a href="excpi.html#cb271-2" aria-hidden="true" tabindex="-1"></a>minhaURL<span class="ot">=</span><span class="st">&quot;https://github.com/SoaresAlisson/analisetextual/tree/master/Senadores_em_Exercício-SenadoFederal.html&quot;</span></span>
<span id="cb271-3"><a href="excpi.html#cb271-3" aria-hidden="true" tabindex="-1"></a>pagina_senadores <span class="ot">&lt;-</span> rvest<span class="sc">::</span><span class="fu">read_html</span>(<span class="fu">url</span>(minhaURL))</span></code></pre></div>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="excpi.html#cb272-1" aria-hidden="true" tabindex="-1"></a>senadores <span class="ot">&lt;-</span> pagina_senadores <span class="sc">%&gt;%</span></span>
<span id="cb272-2"><a href="excpi.html#cb272-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_elements</span>(<span class="st">&quot;#senadoresemexercicio-tabela-senadores a&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb272-3"><a href="excpi.html#cb272-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text</span>()</span>
<span id="cb272-4"><a href="excpi.html#cb272-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#html_attr(&quot;name&quot;)</span></span>
<span id="cb272-5"><a href="excpi.html#cb272-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(senadores, <span class="dv">20</span>)</span>
<span id="cb272-6"><a href="excpi.html#cb272-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;&quot;                   &quot;Mailza Gomes&quot;       &quot;Marcio Bittar&quot;     </span></span>
<span id="cb272-7"><a href="excpi.html#cb272-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  [4] &quot;SÃ©rgio PetecÃ£o&quot;   &quot;&quot;                   &quot;Fernando Collor&quot;   </span></span>
<span id="cb272-8"><a href="excpi.html#cb272-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] &quot;Renan Calheiros&quot;    &quot;Rodrigo Cunha&quot;      &quot;&quot;                  </span></span>
<span id="cb272-9"><a href="excpi.html#cb272-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [10] &quot;Eduardo Braga&quot;      &quot;Omar Aziz&quot;          &quot;PlÃ­nio ValÃ©rio&quot;  </span></span>
<span id="cb272-10"><a href="excpi.html#cb272-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;&quot;                   &quot;Davi Alcolumbre&quot;    &quot;Lucas Barreto&quot;     </span></span>
<span id="cb272-11"><a href="excpi.html#cb272-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [16] &quot;Randolfe Rodrigues&quot; &quot;&quot;                   &quot;Angelo Coronel&quot;    </span></span>
<span id="cb272-12"><a href="excpi.html#cb272-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [19] &quot;Jaques Wagner&quot;      &quot;Otto Alencar&quot;</span></span>
<span id="cb272-13"><a href="excpi.html#cb272-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Vimos que há muitos elementos vazios no vetor. Vamos retirá-los com o comando:</span></span>
<span id="cb272-14"><a href="excpi.html#cb272-14" aria-hidden="true" tabindex="-1"></a>senadores <span class="ot">&lt;-</span> senadores[senadores<span class="sc">!=</span> <span class="st">&quot;&quot;</span>]</span>
<span id="cb272-15"><a href="excpi.html#cb272-15" aria-hidden="true" tabindex="-1"></a>senadores</span>
<span id="cb272-16"><a href="excpi.html#cb272-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;Mailza Gomes&quot;             &quot;Marcio Bittar&quot;           </span></span>
<span id="cb272-17"><a href="excpi.html#cb272-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  [3] &quot;SÃ©rgio PetecÃ£o&quot;         &quot;Fernando Collor&quot;         </span></span>
<span id="cb272-18"><a href="excpi.html#cb272-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;Renan Calheiros&quot;          &quot;Rodrigo Cunha&quot;           </span></span>
<span id="cb272-19"><a href="excpi.html#cb272-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] &quot;Eduardo Braga&quot;            &quot;Omar Aziz&quot;               </span></span>
<span id="cb272-20"><a href="excpi.html#cb272-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;PlÃ­nio ValÃ©rio&quot;         &quot;Davi Alcolumbre&quot;         </span></span>
<span id="cb272-21"><a href="excpi.html#cb272-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;Lucas Barreto&quot;            &quot;Randolfe Rodrigues&quot;      </span></span>
<span id="cb272-22"><a href="excpi.html#cb272-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;Angelo Coronel&quot;           &quot;Jaques Wagner&quot;           </span></span>
<span id="cb272-23"><a href="excpi.html#cb272-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [15] &quot;Otto Alencar&quot;             &quot;Cid Gomes&quot;               </span></span>
<span id="cb272-24"><a href="excpi.html#cb272-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;Eduardo GirÃ£o&quot;           &quot;Tasso Jereissati&quot;        </span></span>
<span id="cb272-25"><a href="excpi.html#cb272-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [19] &quot;Izalci Lucas&quot;             &quot;Leila Barros&quot;            </span></span>
<span id="cb272-26"><a href="excpi.html#cb272-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;Reguffe&quot;                  &quot;Fabiano Contarato&quot;       </span></span>
<span id="cb272-27"><a href="excpi.html#cb272-27" aria-hidden="true" tabindex="-1"></a><span class="do">## [23] &quot;Marcos do Val&quot;            &quot;Rose de Freitas&quot;         </span></span>
<span id="cb272-28"><a href="excpi.html#cb272-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;Jorge Kajuru&quot;             &quot;Luiz Carlos do Carmo&quot;    </span></span>
<span id="cb272-29"><a href="excpi.html#cb272-29" aria-hidden="true" tabindex="-1"></a><span class="do">## [27] &quot;Vanderlan Cardoso&quot;        &quot;Eliziane Gama&quot;           </span></span>
<span id="cb272-30"><a href="excpi.html#cb272-30" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] &quot;Roberto Rocha&quot;            &quot;Weverton&quot;                </span></span>
<span id="cb272-31"><a href="excpi.html#cb272-31" aria-hidden="true" tabindex="-1"></a><span class="do">## [31] &quot;Alexandre Silveira&quot;       &quot;Carlos Viana&quot;            </span></span>
<span id="cb272-32"><a href="excpi.html#cb272-32" aria-hidden="true" tabindex="-1"></a><span class="do">## [33] &quot;Rodrigo Pacheco&quot;          &quot;Nelsinho Trad&quot;           </span></span>
<span id="cb272-33"><a href="excpi.html#cb272-33" aria-hidden="true" tabindex="-1"></a><span class="do">## [35] &quot;Simone Tebet&quot;             &quot;Soraya Thronicke&quot;        </span></span>
<span id="cb272-34"><a href="excpi.html#cb272-34" aria-hidden="true" tabindex="-1"></a><span class="do">## [37] &quot;Carlos FÃ¡varo&quot;           &quot;Fabio Garcia&quot;            </span></span>
<span id="cb272-35"><a href="excpi.html#cb272-35" aria-hidden="true" tabindex="-1"></a><span class="do">## [39] &quot;Wellington Fagundes&quot;      &quot;Jader Barbalho&quot;          </span></span>
<span id="cb272-36"><a href="excpi.html#cb272-36" aria-hidden="true" tabindex="-1"></a><span class="do">## [41] &quot;Paulo Rocha&quot;              &quot;Zequinha Marinho&quot;        </span></span>
<span id="cb272-37"><a href="excpi.html#cb272-37" aria-hidden="true" tabindex="-1"></a><span class="do">## [43] &quot;Daniella Ribeiro&quot;         &quot;Nilda Gondim&quot;            </span></span>
<span id="cb272-38"><a href="excpi.html#cb272-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [45] &quot;Veneziano Vital do RÃªgo&quot; &quot;Fernando Bezerra Coelho&quot; </span></span>
<span id="cb272-39"><a href="excpi.html#cb272-39" aria-hidden="true" tabindex="-1"></a><span class="do">## [47] &quot;Humberto Costa&quot;           &quot;Jarbas Vasconcelos&quot;      </span></span>
<span id="cb272-40"><a href="excpi.html#cb272-40" aria-hidden="true" tabindex="-1"></a><span class="do">## [49] &quot;Eliane Nogueira&quot;          &quot;Elmano FÃ©rrer&quot;          </span></span>
<span id="cb272-41"><a href="excpi.html#cb272-41" aria-hidden="true" tabindex="-1"></a><span class="do">## [51] &quot;Marcelo Castro&quot;           &quot;Alvaro Dias&quot;             </span></span>
<span id="cb272-42"><a href="excpi.html#cb272-42" aria-hidden="true" tabindex="-1"></a><span class="do">## [53] &quot;FlÃ¡vio Arns&quot;             &quot;Oriovisto GuimarÃ£es&quot;    </span></span>
<span id="cb272-43"><a href="excpi.html#cb272-43" aria-hidden="true" tabindex="-1"></a><span class="do">## [55] &quot;Carlos Portinho&quot;          &quot;FlÃ¡vio Bolsonaro&quot;       </span></span>
<span id="cb272-44"><a href="excpi.html#cb272-44" aria-hidden="true" tabindex="-1"></a><span class="do">## [57] &quot;RomÃ¡rio&quot;                 &quot;Jean Paul Prates&quot;        </span></span>
<span id="cb272-45"><a href="excpi.html#cb272-45" aria-hidden="true" tabindex="-1"></a><span class="do">## [59] &quot;Styvenson Valentim&quot;       &quot;Zenaide Maia&quot;            </span></span>
<span id="cb272-46"><a href="excpi.html#cb272-46" aria-hidden="true" tabindex="-1"></a><span class="do">## [61] &quot;Acir Gurgacz&quot;             &quot;ConfÃºcio Moura&quot;         </span></span>
<span id="cb272-47"><a href="excpi.html#cb272-47" aria-hidden="true" tabindex="-1"></a><span class="do">## [63] &quot;Marcos RogÃ©rio&quot;          &quot;Chico Rodrigues&quot;         </span></span>
<span id="cb272-48"><a href="excpi.html#cb272-48" aria-hidden="true" tabindex="-1"></a><span class="do">## [65] &quot;Mecias de Jesus&quot;          &quot;TelmÃ¡rio Mota&quot;          </span></span>
<span id="cb272-49"><a href="excpi.html#cb272-49" aria-hidden="true" tabindex="-1"></a><span class="do">## [67] &quot;Lasier Martins&quot;           &quot;Luis Carlos Heinze&quot;      </span></span>
<span id="cb272-50"><a href="excpi.html#cb272-50" aria-hidden="true" tabindex="-1"></a><span class="do">## [69] &quot;Paulo Paim&quot;               &quot;DÃ¡rio Berger&quot;           </span></span>
<span id="cb272-51"><a href="excpi.html#cb272-51" aria-hidden="true" tabindex="-1"></a><span class="do">## [71] &quot;EsperidiÃ£o Amin&quot;         &quot;Jorginho Mello&quot;          </span></span>
<span id="cb272-52"><a href="excpi.html#cb272-52" aria-hidden="true" tabindex="-1"></a><span class="do">## [73] &quot;Alessandro Vieira&quot;        &quot;Maria do Carmo Alves&quot;    </span></span>
<span id="cb272-53"><a href="excpi.html#cb272-53" aria-hidden="true" tabindex="-1"></a><span class="do">## [75] &quot;RogÃ©rio Carvalho&quot;        &quot;Giordano&quot;                </span></span>
<span id="cb272-54"><a href="excpi.html#cb272-54" aria-hidden="true" tabindex="-1"></a><span class="do">## [77] &quot;JosÃ© Serra&quot;              &quot;Mara Gabrilli&quot;           </span></span>
<span id="cb272-55"><a href="excpi.html#cb272-55" aria-hidden="true" tabindex="-1"></a><span class="do">## [79] &quot;Eduardo Gomes&quot;            &quot;IrajÃ¡&quot;                  </span></span>
<span id="cb272-56"><a href="excpi.html#cb272-56" aria-hidden="true" tabindex="-1"></a><span class="do">## [81] &quot;KÃ¡tia Abreu&quot;</span></span></code></pre></div>
<p>De posse dos nomes dos senadores, vamos ver quais nomes no nosso dataframe da CPI tem intersecção com a lista de senadores. Lembrando, esta lista foi gerada pouco tempo depois da CPI, assim, dependendo de quanto tempo você for tentar reproduzir o exemplo, o link pode ter expirado ou a lista de senadores pode já ter mudado.</p>
<!--  participantes.cpi <- NotasTaq$nome |> unique() -->
<!-- senadores_NT <- unique(DFsenadores$nome) -->
<!-- #write_clip(senadores_NT)i -->
<p>Já havíamos gerado um vetor com os nomes de todos que participaram da CPI: “participantes”. Vamos fazer a intersecção dos participantes da CPI com os senadores para pegar apenas os senadores que participaram da CPI.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="excpi.html#cb273-1" aria-hidden="true" tabindex="-1"></a>senadoresNaCPI <span class="ot">&lt;-</span> participantes[participantes <span class="sc">%in%</span> senadores]</span>
<span id="cb273-2"><a href="excpi.html#cb273-2" aria-hidden="true" tabindex="-1"></a>senadoresNaCPI</span>
<span id="cb273-3"><a href="excpi.html#cb273-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;Otto Alencar&quot;            &quot;Jorginho Mello&quot;         </span></span>
<span id="cb273-4"><a href="excpi.html#cb273-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  [3] &quot;Izalci Lucas&quot;            &quot;Alessandro Vieira&quot;      </span></span>
<span id="cb273-5"><a href="excpi.html#cb273-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;Eduardo Braga&quot;           &quot;Omar Aziz&quot;              </span></span>
<span id="cb273-6"><a href="excpi.html#cb273-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] &quot;Humberto Costa&quot;          &quot;Weverton&quot;               </span></span>
<span id="cb273-7"><a href="excpi.html#cb273-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;Eliziane Gama&quot;           &quot;Randolfe Rodrigues&quot;     </span></span>
<span id="cb273-8"><a href="excpi.html#cb273-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;Paulo Rocha&quot;             &quot;Renan Calheiros&quot;        </span></span>
<span id="cb273-9"><a href="excpi.html#cb273-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;Fernando Bezerra Coelho&quot; &quot;Luis Carlos Heinze&quot;     </span></span>
<span id="cb273-10"><a href="excpi.html#cb273-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [15] &quot;Angelo Coronel&quot;          &quot;Marcos do Val&quot;          </span></span>
<span id="cb273-11"><a href="excpi.html#cb273-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;Simone Tebet&quot;            &quot;Leila Barros&quot;           </span></span>
<span id="cb273-12"><a href="excpi.html#cb273-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [19] &quot;Tasso Jereissati&quot;        &quot;Zenaide Maia&quot;           </span></span>
<span id="cb273-13"><a href="excpi.html#cb273-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;Fabiano Contarato&quot;       &quot;Vanderlan Cardoso&quot;      </span></span>
<span id="cb273-14"><a href="excpi.html#cb273-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [23] &quot;Soraya Thronicke&quot;        &quot;Jean Paul Prates&quot;       </span></span>
<span id="cb273-15"><a href="excpi.html#cb273-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;Mara Gabrilli&quot;           &quot;Reguffe&quot;                </span></span>
<span id="cb273-16"><a href="excpi.html#cb273-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [27] &quot;Mecias de Jesus&quot;         &quot;Roberto Rocha&quot;          </span></span>
<span id="cb273-17"><a href="excpi.html#cb273-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] &quot;Daniella Ribeiro&quot;        &quot;Jorge Kajuru&quot;           </span></span>
<span id="cb273-18"><a href="excpi.html#cb273-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [31] &quot;Carlos Portinho&quot;         &quot;Styvenson Valentim&quot;     </span></span>
<span id="cb273-19"><a href="excpi.html#cb273-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [33] &quot;Nelsinho Trad&quot;           &quot;Giordano&quot;               </span></span>
<span id="cb273-20"><a href="excpi.html#cb273-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [35] &quot;Rodrigo Cunha&quot;           &quot;Eliane Nogueira&quot;        </span></span>
<span id="cb273-21"><a href="excpi.html#cb273-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [37] &quot;Rose de Freitas&quot;</span></span></code></pre></div>
<p>Tendo agora a lista dos senadores que participaram da CPI, vamos filtrar as falas somente destes.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="excpi.html#cb274-1" aria-hidden="true" tabindex="-1"></a>senadoresdf <span class="ot">&lt;-</span> NotasTaq <span class="sc">%&gt;%</span></span>
<span id="cb274-2"><a href="excpi.html#cb274-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(nome <span class="sc">%in%</span> senadoresNaCPI )</span>
<span id="cb274-3"><a href="excpi.html#cb274-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(senadoresdf) </span>
<span id="cb274-4"><a href="excpi.html#cb274-4" aria-hidden="true" tabindex="-1"></a><span class="do">## tibble [56,263 × 9] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb274-5"><a href="excpi.html#cb274-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ reuniao        : num [1:56263] 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb274-6"><a href="excpi.html#cb274-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ data           : Date[1:56263], format: &quot;2021-04-27&quot; &quot;2021-04-27&quot; ...</span></span>
<span id="cb274-7"><a href="excpi.html#cb274-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ nome           : chr [1:56263] &quot;Otto Alencar&quot; &quot;Otto Alencar&quot; &quot;Otto Alencar&quot; &quot;Otto Alencar&quot; ...</span></span>
<span id="cb274-8"><a href="excpi.html#cb274-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ funcao_blocoPar: chr [1:56263] &quot;PRESIDENTE&quot; &quot;PRESIDENTE&quot; &quot;PRESIDENTE&quot; &quot;PRESIDENTE&quot; ...</span></span>
<span id="cb274-9"><a href="excpi.html#cb274-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ BlocoParl      : chr [1:56263] &quot;(Otto Alencar. PSD - BA. Fala da Presidência.)&quot; &quot;(Otto Alencar. PSD - BA)&quot; &quot;(Otto Alencar. PSD - BA)&quot; &quot;(Otto Alencar. PSD - BA)&quot; ...</span></span>
<span id="cb274-10"><a href="excpi.html#cb274-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ partido        : Named chr [1:56263] &quot;PSD&quot; &quot;PSD&quot; &quot;PSD&quot; &quot;PSD&quot; ...</span></span>
<span id="cb274-11"><a href="excpi.html#cb274-11" aria-hidden="true" tabindex="-1"></a><span class="do">##   ..- attr(*, &quot;names&quot;)= chr [1:56263] &quot;PSD&quot; &quot;PSD&quot; &quot;PSD&quot; &quot;PSD&quot; ...</span></span>
<span id="cb274-12"><a href="excpi.html#cb274-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ estado         : chr [1:56263] &quot;BA&quot; &quot;BA&quot; &quot;BA&quot; &quot;BA&quot; ...</span></span>
<span id="cb274-13"><a href="excpi.html#cb274-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ complemento    : chr [1:56263] &quot;Fala da Presidência&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...</span></span>
<span id="cb274-14"><a href="excpi.html#cb274-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ fala           : chr [1:56263] &quot;Invocando a proteção de Deus, declaro aberta a sessão para eleição, já que temos quórum suficiente para a abert&quot;| __truncated__ &quot;Senador Ciro Nogueira, esta é uma Comissão Parlamentar de Inquérito, V. Exa. sabe que não é temática. Então, é &quot;| __truncated__ &quot;Eu indeferi. Sou Presidente e posso indeferir. &quot; &quot;Por que V. Exa. não questionou à época essa questão de ordem? &quot; ...</span></span>
<span id="cb274-15"><a href="excpi.html#cb274-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb274-16"><a href="excpi.html#cb274-16" aria-hidden="true" tabindex="-1"></a><span class="co"># criando um DF das falas de cada senador todas reunidas</span></span>
<span id="cb274-17"><a href="excpi.html#cb274-17" aria-hidden="true" tabindex="-1"></a>senadores_falasJuntas <span class="ot">&lt;-</span> NT_falasJuntasCount <span class="sc">%&gt;%</span></span>
<span id="cb274-18"><a href="excpi.html#cb274-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(nome <span class="sc">%in%</span> senadoresNaCPI )</span>
<span id="cb274-19"><a href="excpi.html#cb274-19" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(senadores_falasJuntas)</span>
<span id="cb274-20"><a href="excpi.html#cb274-20" aria-hidden="true" tabindex="-1"></a><span class="do">## tibble [37 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb274-21"><a href="excpi.html#cb274-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ nome      : chr [1:37] &quot;Omar Aziz&quot; &quot;Renan Calheiros&quot; &quot;Randolfe Rodrigues&quot; &quot;Humberto Costa&quot; ...</span></span>
<span id="cb274-22"><a href="excpi.html#cb274-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ N_palavras: int [1:37] 413495 349545 341685 138419 125102 124592 114902 89020 76785 76585 ...</span></span>
<span id="cb274-23"><a href="excpi.html#cb274-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ falas     : chr [1:37] &quot;Como é que é? Peço só um minutinho, só um minutinho!  Senhor Presidente...  Eu acho que Vossa Excelência.. Nós &quot;| __truncated__ &quot;Quer dizer que há outros impedimentos a serem...  Acredito não ser o caso de VossaExcelência, mas o Estado de A&quot;| __truncated__ &quot;Presidente...  Presidente, qual a ordem?  Presidente, só para declinar a ordem, quem são?  Agora é a Eliziane? &quot;| __truncated__ &quot;Senhor Presidente, eu queria, inicialmente, aqui, corrigir algumas colocações que foram feitas. O Presidente Ro&quot;| __truncated__ ...</span></span></code></pre></div>
<p>E outro tibble apenas com quem não for senador
<!-- Na verdade, o que fizemos acima foi captar não apenas os depoentes, bem como demais que não sejam senadores e que tenham falado por lá, incluindo deputados e advogados. --></p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="excpi.html#cb275-1" aria-hidden="true" tabindex="-1"></a>nao_senadores <span class="ot">&lt;-</span> NotasTaq <span class="sc">%&gt;%</span></span>
<span id="cb275-2"><a href="excpi.html#cb275-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(BlocoParl <span class="sc">==</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb275-3"><a href="excpi.html#cb275-3" aria-hidden="true" tabindex="-1"></a>nao_senadores</span>
<span id="cb275-4"><a href="excpi.html#cb275-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 24,296 × 9</span></span>
<span id="cb275-5"><a href="excpi.html#cb275-5" aria-hidden="true" tabindex="-1"></a><span class="do">##    reuniao data       nome  funcao_blocoPar BlocoParl partido estado complemento</span></span>
<span id="cb275-6"><a href="excpi.html#cb275-6" aria-hidden="true" tabindex="-1"></a><span class="do">##      &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;      </span></span>
<span id="cb275-7"><a href="excpi.html#cb275-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  1      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-8"><a href="excpi.html#cb275-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  2      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-9"><a href="excpi.html#cb275-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  3      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-10"><a href="excpi.html#cb275-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  4      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-11"><a href="excpi.html#cb275-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  5      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-12"><a href="excpi.html#cb275-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  6      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-13"><a href="excpi.html#cb275-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  7      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-14"><a href="excpi.html#cb275-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  8      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-15"><a href="excpi.html#cb275-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  9      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-16"><a href="excpi.html#cb275-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 10      10 2021-05-20 Edua… &quot;&quot;              &quot;&quot;        &quot;&quot;      &quot;&quot;     &quot;&quot;         </span></span>
<span id="cb275-17"><a href="excpi.html#cb275-17" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 24,286 more rows, and 1 more variable: fala &lt;chr&gt;</span></span>
<span id="cb275-18"><a href="excpi.html#cb275-18" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(nao_senadores<span class="sc">$</span>nome)</span>
<span id="cb275-19"><a href="excpi.html#cb275-19" aria-hidden="true" tabindex="-1"></a><span class="do">##   [1] &quot;Eduardo Pazuello&quot;                           </span></span>
<span id="cb275-20"><a href="excpi.html#cb275-20" aria-hidden="true" tabindex="-1"></a><span class="do">##   [2] &quot;Mayra Pinheiro&quot;                             </span></span>
<span id="cb275-21"><a href="excpi.html#cb275-21" aria-hidden="true" tabindex="-1"></a><span class="do">##   [3] &quot;Dimas Tadeu Covas&quot;                          </span></span>
<span id="cb275-22"><a href="excpi.html#cb275-22" aria-hidden="true" tabindex="-1"></a><span class="do">##   [4] &quot;Nise Hitomi Yamaguchi&quot;                      </span></span>
<span id="cb275-23"><a href="excpi.html#cb275-23" aria-hidden="true" tabindex="-1"></a><span class="do">##   [5] &quot;Luana Araújo&quot;                               </span></span>
<span id="cb275-24"><a href="excpi.html#cb275-24" aria-hidden="true" tabindex="-1"></a><span class="do">##   [6] &quot;Marcelo Antônio Cartaxo Queiroga Lopes&quot;     </span></span>
<span id="cb275-25"><a href="excpi.html#cb275-25" aria-hidden="true" tabindex="-1"></a><span class="do">##   [7] &quot;Antônio Elcio Franco Filho&quot;                 </span></span>
<span id="cb275-26"><a href="excpi.html#cb275-26" aria-hidden="true" tabindex="-1"></a><span class="do">##   [8] &quot;Natalia Pasternak&quot;                          </span></span>
<span id="cb275-27"><a href="excpi.html#cb275-27" aria-hidden="true" tabindex="-1"></a><span class="do">##   [9] &quot;Cláudio Maierovitch&quot;                        </span></span>
<span id="cb275-28"><a href="excpi.html#cb275-28" aria-hidden="true" tabindex="-1"></a><span class="do">##  [10] &quot;Marcellus José Barroso Campêlo&quot;             </span></span>
<span id="cb275-29"><a href="excpi.html#cb275-29" aria-hidden="true" tabindex="-1"></a><span class="do">##  [11] &quot;Marcellus Campelo&quot;                          </span></span>
<span id="cb275-30"><a href="excpi.html#cb275-30" aria-hidden="true" tabindex="-1"></a><span class="do">##  [12] &quot;Wilson Witzel&quot;                              </span></span>
<span id="cb275-31"><a href="excpi.html#cb275-31" aria-hidden="true" tabindex="-1"></a><span class="do">##  [13] &quot;Francisco Eduardo Cardoso Alves&quot;            </span></span>
<span id="cb275-32"><a href="excpi.html#cb275-32" aria-hidden="true" tabindex="-1"></a><span class="do">##  [14] &quot;Ricardo Ariel Zimerman&quot;                     </span></span>
<span id="cb275-33"><a href="excpi.html#cb275-33" aria-hidden="true" tabindex="-1"></a><span class="do">##  [15] &quot;Osmar Terra&quot;                                </span></span>
<span id="cb275-34"><a href="excpi.html#cb275-34" aria-hidden="true" tabindex="-1"></a><span class="do">##  [16] &quot;Jurema Werneck&quot;                             </span></span>
<span id="cb275-35"><a href="excpi.html#cb275-35" aria-hidden="true" tabindex="-1"></a><span class="do">##  [17] &quot;Pedro Hallal&quot;                               </span></span>
<span id="cb275-36"><a href="excpi.html#cb275-36" aria-hidden="true" tabindex="-1"></a><span class="do">##  [18] &quot;Luis Ricardo Fernandes Miranda&quot;             </span></span>
<span id="cb275-37"><a href="excpi.html#cb275-37" aria-hidden="true" tabindex="-1"></a><span class="do">##  [19] &quot;Fausto Vieira dos Santos Junior&quot;            </span></span>
<span id="cb275-38"><a href="excpi.html#cb275-38" aria-hidden="true" tabindex="-1"></a><span class="do">##  [20] &quot;Wagner Lima da Costa&quot;                       </span></span>
<span id="cb275-39"><a href="excpi.html#cb275-39" aria-hidden="true" tabindex="-1"></a><span class="do">##  [21] &quot;Gina Moraes de Almeida&quot;                     </span></span>
<span id="cb275-40"><a href="excpi.html#cb275-40" aria-hidden="true" tabindex="-1"></a><span class="do">##  [22] &quot;Carlos Roberto Wizard Martins&quot;              </span></span>
<span id="cb275-41"><a href="excpi.html#cb275-41" aria-hidden="true" tabindex="-1"></a><span class="do">##  [23] &quot;Alberto Zacharias Toron&quot;                    </span></span>
<span id="cb275-42"><a href="excpi.html#cb275-42" aria-hidden="true" tabindex="-1"></a><span class="do">##  [24] &quot;Guilherme Cremonesi Caurin&quot;                 </span></span>
<span id="cb275-43"><a href="excpi.html#cb275-43" aria-hidden="true" tabindex="-1"></a><span class="do">##  [25] &quot;Luiz Henrique Mandetta&quot;                     </span></span>
<span id="cb275-44"><a href="excpi.html#cb275-44" aria-hidden="true" tabindex="-1"></a><span class="do">##  [26] &quot;Luiz Paulo Dominguetti Pereira&quot;             </span></span>
<span id="cb275-45"><a href="excpi.html#cb275-45" aria-hidden="true" tabindex="-1"></a><span class="do">##  [27] &quot;Flavio Correa de Moraes&quot;                    </span></span>
<span id="cb275-46"><a href="excpi.html#cb275-46" aria-hidden="true" tabindex="-1"></a><span class="do">##  [28] &quot;Regina Célia Silva Oliveira&quot;                </span></span>
<span id="cb275-47"><a href="excpi.html#cb275-47" aria-hidden="true" tabindex="-1"></a><span class="do">##  [29] &quot;Pedro Henrique Medeiros de Araújo&quot;          </span></span>
<span id="cb275-48"><a href="excpi.html#cb275-48" aria-hidden="true" tabindex="-1"></a><span class="do">##  [30] &quot;Roberto Ferreira dias&quot;                      </span></span>
<span id="cb275-49"><a href="excpi.html#cb275-49" aria-hidden="true" tabindex="-1"></a><span class="do">##  [31] &quot;Maria Jamile José&quot;                          </span></span>
<span id="cb275-50"><a href="excpi.html#cb275-50" aria-hidden="true" tabindex="-1"></a><span class="do">##  [32] &quot;Francieli Fontana Sutile Tardetti Fantinato&quot;</span></span>
<span id="cb275-51"><a href="excpi.html#cb275-51" aria-hidden="true" tabindex="-1"></a><span class="do">##  [33] &quot;Francieli Fontana Sutile Fantinato&quot;         </span></span>
<span id="cb275-52"><a href="excpi.html#cb275-52" aria-hidden="true" tabindex="-1"></a><span class="do">##  [34] &quot;Thiago Leônidas&quot;                            </span></span>
<span id="cb275-53"><a href="excpi.html#cb275-53" aria-hidden="true" tabindex="-1"></a><span class="do">##  [35] &quot;William Amorim Santana&quot;                     </span></span>
<span id="cb275-54"><a href="excpi.html#cb275-54" aria-hidden="true" tabindex="-1"></a><span class="do">##  [36] &quot;Emanuela Batista de Souza Medrades&quot;         </span></span>
<span id="cb275-55"><a href="excpi.html#cb275-55" aria-hidden="true" tabindex="-1"></a><span class="do">##  [37] &quot;Ticiano Figueiredo de Oliveira&quot;             </span></span>
<span id="cb275-56"><a href="excpi.html#cb275-56" aria-hidden="true" tabindex="-1"></a><span class="do">##  [38] &quot;Pedro Ivo Velloso&quot;                          </span></span>
<span id="cb275-57"><a href="excpi.html#cb275-57" aria-hidden="true" tabindex="-1"></a><span class="do">##  [39] &quot;Cristiano Alberto Hossri Carvalho&quot;          </span></span>
<span id="cb275-58"><a href="excpi.html#cb275-58" aria-hidden="true" tabindex="-1"></a><span class="do">##  [40] &quot;Fábio Henrique Ming Martini&quot;                </span></span>
<span id="cb275-59"><a href="excpi.html#cb275-59" aria-hidden="true" tabindex="-1"></a><span class="do">##  [41] &quot;Amilton Gomes de Paula&quot;                     </span></span>
<span id="cb275-60"><a href="excpi.html#cb275-60" aria-hidden="true" tabindex="-1"></a><span class="do">##  [42] &quot;Otávio de Queiroga&quot;                         </span></span>
<span id="cb275-61"><a href="excpi.html#cb275-61" aria-hidden="true" tabindex="-1"></a><span class="do">##  [43] &quot;Marcelo Blanco da Costa&quot;                    </span></span>
<span id="cb275-62"><a href="excpi.html#cb275-62" aria-hidden="true" tabindex="-1"></a><span class="do">##  [44] &quot;Marcelo Blanco&quot;                             </span></span>
<span id="cb275-63"><a href="excpi.html#cb275-63" aria-hidden="true" tabindex="-1"></a><span class="do">##  [45] &quot;Eric Furtado Ferreira Borges&quot;               </span></span>
<span id="cb275-64"><a href="excpi.html#cb275-64" aria-hidden="true" tabindex="-1"></a><span class="do">##  [46] &quot;Nelson Luiz Sperle Teich&quot;                   </span></span>
<span id="cb275-65"><a href="excpi.html#cb275-65" aria-hidden="true" tabindex="-1"></a><span class="do">##  [47] &quot;Airton Antonio Soligo&quot;                      </span></span>
<span id="cb275-66"><a href="excpi.html#cb275-66" aria-hidden="true" tabindex="-1"></a><span class="do">##  [48] &quot;Emerson Paxá Pinto Oliveira&quot;                </span></span>
<span id="cb275-67"><a href="excpi.html#cb275-67" aria-hidden="true" tabindex="-1"></a><span class="do">##  [49] &quot;Helcio Bruno de Almeida&quot;                    </span></span>
<span id="cb275-68"><a href="excpi.html#cb275-68" aria-hidden="true" tabindex="-1"></a><span class="do">##  [50] &quot;João Carlos Gonçalves Krakauer Maia&quot;        </span></span>
<span id="cb275-69"><a href="excpi.html#cb275-69" aria-hidden="true" tabindex="-1"></a><span class="do">##  [51] &quot;Jailton Batista&quot;                            </span></span>
<span id="cb275-70"><a href="excpi.html#cb275-70" aria-hidden="true" tabindex="-1"></a><span class="do">##  [52] &quot;Ricardo Barros&quot;                             </span></span>
<span id="cb275-71"><a href="excpi.html#cb275-71" aria-hidden="true" tabindex="-1"></a><span class="do">##  [53] &quot;Alexandre Figueiredo Costa Silva Marques&quot;   </span></span>
<span id="cb275-72"><a href="excpi.html#cb275-72" aria-hidden="true" tabindex="-1"></a><span class="do">##  [54] &quot;Eduardo de Vilhena Toledo&quot;                  </span></span>
<span id="cb275-73"><a href="excpi.html#cb275-73" aria-hidden="true" tabindex="-1"></a><span class="do">##  [55] &quot;Túlio Silveira&quot;                             </span></span>
<span id="cb275-74"><a href="excpi.html#cb275-74" aria-hidden="true" tabindex="-1"></a><span class="do">##  [56] &quot;Francisco Emerson Maximiano&quot;                </span></span>
<span id="cb275-75"><a href="excpi.html#cb275-75" aria-hidden="true" tabindex="-1"></a><span class="do">##  [57] &quot;Ticiano Figueiredo&quot;                         </span></span>
<span id="cb275-76"><a href="excpi.html#cb275-76" aria-hidden="true" tabindex="-1"></a><span class="do">##  [58] &quot;Emanuel Ramalho Catori&quot;                     </span></span>
<span id="cb275-77"><a href="excpi.html#cb275-77" aria-hidden="true" tabindex="-1"></a><span class="do">##  [59] &quot;Michel Saliba Oliveira&quot;                     </span></span>
<span id="cb275-78"><a href="excpi.html#cb275-78" aria-hidden="true" tabindex="-1"></a><span class="do">##  [60] &quot;Roberto Pereira Ramos Júnior&quot;               </span></span>
<span id="cb275-79"><a href="excpi.html#cb275-79" aria-hidden="true" tabindex="-1"></a><span class="do">##  [61] &quot;Alexandre Queiroz&quot;                          </span></span>
<span id="cb275-80"><a href="excpi.html#cb275-80" aria-hidden="true" tabindex="-1"></a><span class="do">##  [62] &quot;José Ricardo Santana&quot;                       </span></span>
<span id="cb275-81"><a href="excpi.html#cb275-81" aria-hidden="true" tabindex="-1"></a><span class="do">##  [63] &quot;Marcelo Queiroga&quot;                           </span></span>
<span id="cb275-82"><a href="excpi.html#cb275-82" aria-hidden="true" tabindex="-1"></a><span class="do">##  [64] &quot;Alan Diniz Moreira Guedes de Ornelas&quot;       </span></span>
<span id="cb275-83"><a href="excpi.html#cb275-83" aria-hidden="true" tabindex="-1"></a><span class="do">##  [65] &quot;Ivanildo Gonçalves da Silva&quot;                </span></span>
<span id="cb275-84"><a href="excpi.html#cb275-84" aria-hidden="true" tabindex="-1"></a><span class="do">##  [66] &quot;Francisco Araújo Filho&quot;                     </span></span>
<span id="cb275-85"><a href="excpi.html#cb275-85" aria-hidden="true" tabindex="-1"></a><span class="do">##  [67] &quot;Cleber Lopes de Oliveira&quot;                   </span></span>
<span id="cb275-86"><a href="excpi.html#cb275-86" aria-hidden="true" tabindex="-1"></a><span class="do">##  [68] &quot;Marcos Tolentino da Silva&quot;                  </span></span>
<span id="cb275-87"><a href="excpi.html#cb275-87" aria-hidden="true" tabindex="-1"></a><span class="do">##  [69] &quot;Luciano Duarte Peres&quot;                       </span></span>
<span id="cb275-88"><a href="excpi.html#cb275-88" aria-hidden="true" tabindex="-1"></a><span class="do">##  [70] &quot;Marconny Nunes Ribeiro Albernaz de Faria&quot;   </span></span>
<span id="cb275-89"><a href="excpi.html#cb275-89" aria-hidden="true" tabindex="-1"></a><span class="do">##  [71] &quot;Wagner de Campos Rosário&quot;                   </span></span>
<span id="cb275-90"><a href="excpi.html#cb275-90" aria-hidden="true" tabindex="-1"></a><span class="do">##  [72] &quot;Pedro Benedito Batista Júnior&quot;              </span></span>
<span id="cb275-91"><a href="excpi.html#cb275-91" aria-hidden="true" tabindex="-1"></a><span class="do">##  [73] &quot;Aristides Zacarelli&quot;                        </span></span>
<span id="cb275-92"><a href="excpi.html#cb275-92" aria-hidden="true" tabindex="-1"></a><span class="do">##  [74] &quot;Maria José Ferreira Pessoa&quot;                 </span></span>
<span id="cb275-93"><a href="excpi.html#cb275-93" aria-hidden="true" tabindex="-1"></a><span class="do">##  [75] &quot;Vinicius Luiz Ferreira&quot;                     </span></span>
<span id="cb275-94"><a href="excpi.html#cb275-94" aria-hidden="true" tabindex="-1"></a><span class="do">##  [76] &quot;Danilo Berndt Trento&quot;                       </span></span>
<span id="cb275-95"><a href="excpi.html#cb275-95" aria-hidden="true" tabindex="-1"></a><span class="do">##  [77] &quot;Bruna Mendes dos Santos Morato&quot;             </span></span>
<span id="cb275-96"><a href="excpi.html#cb275-96" aria-hidden="true" tabindex="-1"></a><span class="do">##  [78] &quot;Antonio Barra Torres&quot;                       </span></span>
<span id="cb275-97"><a href="excpi.html#cb275-97" aria-hidden="true" tabindex="-1"></a><span class="do">##  [79] &quot;Luciano Hang&quot;                               </span></span>
<span id="cb275-98"><a href="excpi.html#cb275-98" aria-hidden="true" tabindex="-1"></a><span class="do">##  [80] &quot;Beno Brandão&quot;                               </span></span>
<span id="cb275-99"><a href="excpi.html#cb275-99" aria-hidden="true" tabindex="-1"></a><span class="do">##  [81] &quot;Otávio Oscar Fakhoury&quot;                      </span></span>
<span id="cb275-100"><a href="excpi.html#cb275-100" aria-hidden="true" tabindex="-1"></a><span class="do">##  [82] &quot;Antonio Manssur&quot;                            </span></span>
<span id="cb275-101"><a href="excpi.html#cb275-101" aria-hidden="true" tabindex="-1"></a><span class="do">##  [83] &quot;Milena Ramos Câmara&quot;                        </span></span>
<span id="cb275-102"><a href="excpi.html#cb275-102" aria-hidden="true" tabindex="-1"></a><span class="do">##  [84] &quot;Raimundo Nonato Brasil&quot;                     </span></span>
<span id="cb275-103"><a href="excpi.html#cb275-103" aria-hidden="true" tabindex="-1"></a><span class="do">##  [85] &quot;Andreia da Silva Lima&quot;                      </span></span>
<span id="cb275-104"><a href="excpi.html#cb275-104" aria-hidden="true" tabindex="-1"></a><span class="do">##  [86] &quot;Walter José Faiad de Moura&quot;                 </span></span>
<span id="cb275-105"><a href="excpi.html#cb275-105" aria-hidden="true" tabindex="-1"></a><span class="do">##  [87] &quot;Paulo Roberto Vanderlei Rebello Filho&quot;      </span></span>
<span id="cb275-106"><a href="excpi.html#cb275-106" aria-hidden="true" tabindex="-1"></a><span class="do">##  [88] &quot;Walter Correa de Souza Neto&quot;                </span></span>
<span id="cb275-107"><a href="excpi.html#cb275-107" aria-hidden="true" tabindex="-1"></a><span class="do">##  [89] &quot;Tadeu Frederico de Andrade&quot;                 </span></span>
<span id="cb275-108"><a href="excpi.html#cb275-108" aria-hidden="true" tabindex="-1"></a><span class="do">##  [90] &quot;Priscila Pamela Cesario dos Santos&quot;         </span></span>
<span id="cb275-109"><a href="excpi.html#cb275-109" aria-hidden="true" tabindex="-1"></a><span class="do">##  [91] &quot;Rosane Maria dos Santos Brandão&quot;            </span></span>
<span id="cb275-110"><a href="excpi.html#cb275-110" aria-hidden="true" tabindex="-1"></a><span class="do">##  [92] &quot;Mayra Pires Lima&quot;                           </span></span>
<span id="cb275-111"><a href="excpi.html#cb275-111" aria-hidden="true" tabindex="-1"></a><span class="do">##  [93] &quot;Antonio Carlos Alves de Sá Costa&quot;           </span></span>
<span id="cb275-112"><a href="excpi.html#cb275-112" aria-hidden="true" tabindex="-1"></a><span class="do">##  [94] &quot;Giovanna Gomes Mendes da Silva&quot;             </span></span>
<span id="cb275-113"><a href="excpi.html#cb275-113" aria-hidden="true" tabindex="-1"></a><span class="do">##  [95] &quot;Katia Shirlene Castilho dos Santos&quot;         </span></span>
<span id="cb275-114"><a href="excpi.html#cb275-114" aria-hidden="true" tabindex="-1"></a><span class="do">##  [96] &quot;Márcio Antonio do Nascimento Silva&quot;         </span></span>
<span id="cb275-115"><a href="excpi.html#cb275-115" aria-hidden="true" tabindex="-1"></a><span class="do">##  [97] &quot;Elton da Silva Chaves&quot;                      </span></span>
<span id="cb275-116"><a href="excpi.html#cb275-116" aria-hidden="true" tabindex="-1"></a><span class="do">##  [98] &quot;Fabio Wajngarten&quot;                           </span></span>
<span id="cb275-117"><a href="excpi.html#cb275-117" aria-hidden="true" tabindex="-1"></a><span class="do">##  [99] &quot;Carlos Murillo&quot;                             </span></span>
<span id="cb275-118"><a href="excpi.html#cb275-118" aria-hidden="true" tabindex="-1"></a><span class="do">## [100] &quot;Ernesto Araújo&quot;</span></span></code></pre></div>
<div id="exCpi_wordcloud" class="section level3 hasAnchor" number="14.7.1">
<h3><span class="header-section-number">14.7.1</span> Frequência e <em>wordcloud</em> (Nuvem de palavras)<a href="excpi.html#exCpi_wordcloud" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vamos observar os assuntos mais frequentes ali através da frequência de palavras.
Vamos ver, de forma geral, as palavras mais frequentes.</p>
<p>A função wordcloud do pacote wordcloud permite enviar o texto diretamente para processamento, mas esta opção não é indicada, por não permitir pré-processamento e por ser muito, bastante, extremamente lenta com a quantidade de texto que temos aqui. (Eu descobri isto testando antes).
Vamos contar os valores únicos no nosso vetor “tudo.tokens”</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="excpi.html#cb276-1" aria-hidden="true" tabindex="-1"></a>tudo <span class="ot">&lt;-</span> <span class="fu">paste</span>(NotasTaq_falas.agrupadas<span class="sc">$</span>falas, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb276-2"><a href="excpi.html#cb276-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Cuidado, não rode o objeto &quot;tudo&quot;, pelo seu tamanho pode tavar o R</span></span>
<span id="cb276-3"><a href="excpi.html#cb276-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ao invés disso, confira sua estrutura para conferir se está ok</span></span>
<span id="cb276-4"><a href="excpi.html#cb276-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tudo)</span>
<span id="cb276-5"><a href="excpi.html#cb276-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  chr &quot;Senhor Presidente, acredito que, em função da decisão, eu não sou obrigado, mas estou aqui para dizer a verdade&quot;| __truncated__</span></span>
<span id="cb276-6"><a href="excpi.html#cb276-6" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(tudo)</span>
<span id="cb276-7"><a href="excpi.html#cb276-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb276-8"><a href="excpi.html#cb276-8" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(tudo)</span>
<span id="cb276-9"><a href="excpi.html#cb276-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb276-10"><a href="excpi.html#cb276-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb276-11"><a href="excpi.html#cb276-11" aria-hidden="true" tabindex="-1"></a><span class="co"># vamos contar quantas palavras foram ditas no total</span></span>
<span id="cb276-12"><a href="excpi.html#cb276-12" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">strsplit</span>(tudo, <span class="st">&quot; &quot;</span>), length)</span>
<span id="cb276-13"><a href="excpi.html#cb276-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3245368</span></span>
<span id="cb276-14"><a href="excpi.html#cb276-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb276-15"><a href="excpi.html#cb276-15" aria-hidden="true" tabindex="-1"></a>tudo.df <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(tudo, <span class="at">falas =</span> tudo)</span>
<span id="cb276-16"><a href="excpi.html#cb276-16" aria-hidden="true" tabindex="-1"></a><span class="co"># tudo.tokens &lt;- tudo %&gt;% tidytext::unnest_tokens(word, falas)</span></span>
<span id="cb276-17"><a href="excpi.html#cb276-17" aria-hidden="true" tabindex="-1"></a><span class="co"># tudo.tokens &lt;- tidytext::unnest_tokens(tudo.df , falas)</span></span>
<span id="cb276-18"><a href="excpi.html#cb276-18" aria-hidden="true" tabindex="-1"></a>tudo.tokens <span class="ot">&lt;-</span> tudo.df <span class="sc">%&gt;%</span> </span>
<span id="cb276-19"><a href="excpi.html#cb276-19" aria-hidden="true" tabindex="-1"></a>    tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(word, value)</span></code></pre></div>
<p>A função wordcloud do pacote wordcloud permite enviar o texto diretamente para processamento, mas esta opção não é indicada por não permitir pré-processamento e por ser muito, bastante, extremamente lenta com a quantidade de texto que temos aqui. (Eu descobri isto testando antes).
Vamos contar os valores únicos no nosso vetor “tudo.tokens”</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="excpi.html#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="co"># contando todas as palavras</span></span>
<span id="cb277-2"><a href="excpi.html#cb277-2" aria-hidden="true" tabindex="-1"></a>tudo.tokens <span class="sc">%&gt;%</span>  dplyr<span class="sc">::</span><span class="fu">count</span>()</span>
<span id="cb277-3"><a href="excpi.html#cb277-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 1 × 1</span></span>
<span id="cb277-4"><a href="excpi.html#cb277-4" aria-hidden="true" tabindex="-1"></a><span class="do">##         n</span></span>
<span id="cb277-5"><a href="excpi.html#cb277-5" aria-hidden="true" tabindex="-1"></a><span class="do">##     &lt;int&gt;</span></span>
<span id="cb277-6"><a href="excpi.html#cb277-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 3096643</span></span>
<span id="cb277-7"><a href="excpi.html#cb277-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-8"><a href="excpi.html#cb277-8" aria-hidden="true" tabindex="-1"></a><span class="co"># contando termos repetidos na coluna &quot;word&quot;</span></span>
<span id="cb277-9"><a href="excpi.html#cb277-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Isto é, gerar a tabela de frequência de termos.</span></span>
<span id="cb277-10"><a href="excpi.html#cb277-10" aria-hidden="true" tabindex="-1"></a>tudo.freq <span class="ot">&lt;-</span> tudo.tokens <span class="sc">%&gt;%</span>  dplyr<span class="sc">::</span><span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb277-11"><a href="excpi.html#cb277-11" aria-hidden="true" tabindex="-1"></a><span class="co"># observando um pedaço</span></span>
<span id="cb277-12"><a href="excpi.html#cb277-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tudo.freq, <span class="dv">25</span>)</span>
<span id="cb277-13"><a href="excpi.html#cb277-13" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 25 × 2</span></span>
<span id="cb277-14"><a href="excpi.html#cb277-14" aria-hidden="true" tabindex="-1"></a><span class="do">##    word       n</span></span>
<span id="cb277-15"><a href="excpi.html#cb277-15" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt;  &lt;int&gt;</span></span>
<span id="cb277-16"><a href="excpi.html#cb277-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 que   114473</span></span>
<span id="cb277-17"><a href="excpi.html#cb277-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 o     104602</span></span>
<span id="cb277-18"><a href="excpi.html#cb277-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 de    103575</span></span>
<span id="cb277-19"><a href="excpi.html#cb277-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 a     102690</span></span>
<span id="cb277-20"><a href="excpi.html#cb277-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 não    69265</span></span>
<span id="cb277-21"><a href="excpi.html#cb277-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 e      64079</span></span>
<span id="cb277-22"><a href="excpi.html#cb277-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 é      51658</span></span>
<span id="cb277-23"><a href="excpi.html#cb277-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 eu     50458</span></span>
<span id="cb277-24"><a href="excpi.html#cb277-24" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 da     43082</span></span>
<span id="cb277-25"><a href="excpi.html#cb277-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 do     42750</span></span>
<span id="cb277-26"><a href="excpi.html#cb277-26" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 15 more rows</span></span></code></pre></div>
<p>O que nos dá uma lista das palavras mais frequentes, porém bem pouco informativas do assunto. Vamos retirar as palavras vazias, ou <a href="análise-textual-text-mining.html#stopwords">stopwords</a>.
Eu testei previamente e acrescentei à lista algumas palavras frequentes, porém pouco informativas.
Vamos criar dois objetos com a mesma lista de stopwords, um como vetor e outro como dataframe, pois vamos precisar de ambos formatos.</p>
<!-- quase.tudo <- tudo.tokens %>% anti_join("word", SW)   -->
<!-- quase.tudo <- tudo.tokens %>% anti_join(word, SW)   -->
<!-- quase.tudo <- anti_join(tudo.tokens$word, SW)  -->
<!-- quase.tudo <- tudo.tokens %>% anti_join("word", SW)   -->
<!-- quase.tudo <- tudo.tokens %>% anti_join(SW)   -->
<!-- não retirou as stopwords << -->
<!-- Alternativa -->
<!-- usando o tidytext -->
<!-- quase.tudo <- tudo.tokens %>% anti_join(SW, by = c("word" =  "word"))   -->
<!-- quase.tudo <- tudo.tokens %>% anti_join(SW, by = "word")   -->
<!--  retirando as stopwords -->
<!--  pode demorar um pouco -->
<!-- quase.tudo <- !(tudo.tokens) %in% SW -->
<!-- nrow(quase.tudo) -->
<!-- manif_vetor[!(manif_vetor) %in% minhas_sw] -->
<!-- # e agora contando a frequencia -->
<!-- #tudo.freq <- quase.tudo %>%  dplyr::count() -->
<!-- #quase.tudo <- as_tibble(palavras = quase.tudo) -->
<p>Vamos montar nossa lista de stopwords.
Como testei anteriormente, vi palavras que faltaram em nossa listagem. Vamos acrescentá-las a esta listagem as stopwords já existente em <code>stopwords(pt)</code>.</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="excpi.html#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="co"># montando nossa nova listagem de stopwords</span></span>
<span id="cb278-2"><a href="excpi.html#cb278-2" aria-hidden="true" tabindex="-1"></a><span class="co"># juntando a lista de `stopwords::stopwords(&#39;pt&#39;)` com a nossa</span></span>
<span id="cb278-3"><a href="excpi.html#cb278-3" aria-hidden="true" tabindex="-1"></a>SW <span class="ot">&lt;-</span> <span class="fu">c</span>(stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&#39;pt&#39;</span>), <span class="st">&#39;é&#39;</span>, <span class="st">&#39;aqui&#39;</span>, <span class="st">&#39;então&#39;</span>, <span class="st">&#39;porque&#39;</span>, <span class="st">&#39;pra&#39;</span>)</span>
<span id="cb278-4"><a href="excpi.html#cb278-4" aria-hidden="true" tabindex="-1"></a>SW.df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">words =</span> SW)</span>
<span id="cb278-5"><a href="excpi.html#cb278-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-6"><a href="excpi.html#cb278-6" aria-hidden="true" tabindex="-1"></a><span class="co"># retirando as stopwords</span></span>
<span id="cb278-7"><a href="excpi.html#cb278-7" aria-hidden="true" tabindex="-1"></a>quase.tudo <span class="ot">&lt;-</span> tudo.tokens<span class="sc">$</span>word[<span class="sc">!</span>(tudo.tokens<span class="sc">$</span>word) <span class="sc">%in%</span> SW]</span>
<span id="cb278-8"><a href="excpi.html#cb278-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-9"><a href="excpi.html#cb278-9" aria-hidden="true" tabindex="-1"></a><span class="co"># observando as palavras mais frequentes atuais, sem algumas stopwords </span></span>
<span id="cb278-10"><a href="excpi.html#cb278-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(quase.tudo, <span class="dv">40</span>)</span>
<span id="cb278-11"><a href="excpi.html#cb278-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;senhor&quot;         &quot;presidente&quot;     &quot;acredito&quot;       &quot;função&quot;        </span></span>
<span id="cb278-12"><a href="excpi.html#cb278-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;decisão&quot;        &quot;obrigado&quot;       &quot;dizer&quot;          &quot;verdade&quot;       </span></span>
<span id="cb278-13"><a href="excpi.html#cb278-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;gostaria&quot;       &quot;usá&quot;            &quot;los&quot;            &quot;senhor&quot;        </span></span>
<span id="cb278-14"><a href="excpi.html#cb278-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;presidente&quot;     &quot;primeiramente&quot;  &quot;bom&quot;            &quot;dia&quot;           </span></span>
<span id="cb278-15"><a href="excpi.html#cb278-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;todos&quot;          &quot;gostaria&quot;       &quot;iniciar&quot;        &quot;fala&quot;          </span></span>
<span id="cb278-16"><a href="excpi.html#cb278-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;cumprimentando&quot; &quot;todos&quot;          &quot;senadores&quot;      &quot;senhora&quot;       </span></span>
<span id="cb278-17"><a href="excpi.html#cb278-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;senadoras&quot;      &quot;desta&quot;          &quot;comissão&quot;       &quot;pessoa&quot;        </span></span>
<span id="cb278-18"><a href="excpi.html#cb278-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] &quot;senhor&quot;         &quot;presidente&quot;     &quot;omar&quot;           &quot;aziz&quot;          </span></span>
<span id="cb278-19"><a href="excpi.html#cb278-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [33] &quot;eminente&quot;       &quot;senador&quot;        &quot;relator&quot;        &quot;renan&quot;         </span></span>
<span id="cb278-20"><a href="excpi.html#cb278-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [37] &quot;calheiros&quot;      &quot;senhora&quot;        &quot;senadoras&quot;      &quot;nome&quot;</span></span>
<span id="cb278-21"><a href="excpi.html#cb278-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-22"><a href="excpi.html#cb278-22" aria-hidden="true" tabindex="-1"></a><span class="co"># testando a retirada de stopwords: &quot;tudo.tokens&quot; é maior que &quot;quase.tudo&quot;? </span></span>
<span id="cb278-23"><a href="excpi.html#cb278-23" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(tudo.tokens<span class="sc">$</span>word) <span class="sc">&gt;</span> <span class="fu">length</span>(quase.tudo)</span>
<span id="cb278-24"><a href="excpi.html#cb278-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb278-25"><a href="excpi.html#cb278-25" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(tudo.tokens<span class="sc">$</span>word)</span>
<span id="cb278-26"><a href="excpi.html#cb278-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3096643</span></span>
<span id="cb278-27"><a href="excpi.html#cb278-27" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(quase.tudo)</span>
<span id="cb278-28"><a href="excpi.html#cb278-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1615975</span></span>
<span id="cb278-29"><a href="excpi.html#cb278-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-30"><a href="excpi.html#cb278-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Contando a frequência</span></span>
<span id="cb278-31"><a href="excpi.html#cb278-31" aria-hidden="true" tabindex="-1"></a>wordCount_semSW <span class="ot">&lt;-</span> quase.tudo <span class="sc">%&gt;%</span> </span>
<span id="cb278-32"><a href="excpi.html#cb278-32" aria-hidden="true" tabindex="-1"></a>        plyr<span class="sc">::</span><span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb278-33"><a href="excpi.html#cb278-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(<span class="sc">-</span>freq) <span class="sc">|&gt;</span></span>
<span id="cb278-34"><a href="excpi.html#cb278-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>()</span>
<span id="cb278-35"><a href="excpi.html#cb278-35" aria-hidden="true" tabindex="-1"></a>wordCount_semSW </span>
<span id="cb278-36"><a href="excpi.html#cb278-36" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 42,447 × 2</span></span>
<span id="cb278-37"><a href="excpi.html#cb278-37" aria-hidden="true" tabindex="-1"></a><span class="do">##    x           freq</span></span>
<span id="cb278-38"><a href="excpi.html#cb278-38" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt;      &lt;int&gt;</span></span>
<span id="cb278-39"><a href="excpi.html#cb278-39" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 senhor     32394</span></span>
<span id="cb278-40"><a href="excpi.html#cb278-40" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 senador    18665</span></span>
<span id="cb278-41"><a href="excpi.html#cb278-41" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 presidente 18033</span></span>
<span id="cb278-42"><a href="excpi.html#cb278-42" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 saúde       9071</span></span>
<span id="cb278-43"><a href="excpi.html#cb278-43" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 excelência  8916</span></span>
<span id="cb278-44"><a href="excpi.html#cb278-44" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 gente       8695</span></span>
<span id="cb278-45"><a href="excpi.html#cb278-45" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 vossa       7790</span></span>
<span id="cb278-46"><a href="excpi.html#cb278-46" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 ministério  7391</span></span>
<span id="cb278-47"><a href="excpi.html#cb278-47" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 fazer       6420</span></span>
<span id="cb278-48"><a href="excpi.html#cb278-48" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 cpi         6239</span></span>
<span id="cb278-49"><a href="excpi.html#cb278-49" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 42,437 more rows</span></span></code></pre></div>
<!-- # tudo.freq <- tudo.tokens %>%  dplyr::count(word, sort = TRUE) -->
<p>E agora gerando nossa nuvem de palavras</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="excpi.html#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pegando apenas as palavras mais frequentes</span></span>
<span id="cb279-2"><a href="excpi.html#cb279-2" aria-hidden="true" tabindex="-1"></a>pre.wc <span class="ot">&lt;-</span> wordCount_semSW[<span class="dv">1</span><span class="sc">:</span><span class="dv">150</span>,]</span>
<span id="cb279-3"><a href="excpi.html#cb279-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-4"><a href="excpi.html#cb279-4" aria-hidden="true" tabindex="-1"></a>wordcloud<span class="sc">::</span><span class="fu">wordcloud</span>(pre.wc<span class="sc">$</span>x,</span>
<span id="cb279-5"><a href="excpi.html#cb279-5" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># se o input  para esta função contém as frequências de palavras, o item abaixo deve ser descomentado</span></span>
<span id="cb279-6"><a href="excpi.html#cb279-6" aria-hidden="true" tabindex="-1"></a>                   pre.wc<span class="sc">$</span>freq,</span>
<span id="cb279-7"><a href="excpi.html#cb279-7" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># vetor com dois termos indicado o espectro de tamanho das palavras</span></span>
<span id="cb279-8"><a href="excpi.html#cb279-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">scale=</span><span class="fu">c</span>(<span class="dv">3</span>,.<span class="dv">6</span>),</span>
<span id="cb279-9"><a href="excpi.html#cb279-9" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># cores, do menos frequente ao mais frequente</span></span>
<span id="cb279-10"><a href="excpi.html#cb279-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">&quot;royalblue&quot;</span>,<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;darkblue&quot;</span>, <span class="st">&quot;black&quot;</span>))</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_wordcloud_viz-1.png" width="672" /></p>
<p>Vamos observar os ngramas - no caso bigramas e trigramas - que nos dão uma ideia melhor do sentido das discussões do que unigramas utilizados anteriormente.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="excpi.html#cb280-1" aria-hidden="true" tabindex="-1"></a>multi.palavras <span class="ot">&lt;-</span> tokenizers<span class="sc">::</span><span class="fu">tokenize_ngrams</span>(tudo, </span>
<span id="cb280-2"><a href="excpi.html#cb280-2" aria-hidden="true" tabindex="-1"></a>                                            <span class="co"># valores máximo e mínimo dos ngrams</span></span>
<span id="cb280-3"><a href="excpi.html#cb280-3" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">n=</span><span class="dv">3</span>, <span class="at">n_min =</span> <span class="dv">2</span>,</span>
<span id="cb280-4"><a href="excpi.html#cb280-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">stopwords =</span> SW </span>
<span id="cb280-5"><a href="excpi.html#cb280-5" aria-hidden="true" tabindex="-1"></a>                                            ) <span class="sc">|&gt;</span></span>
<span id="cb280-6"><a href="excpi.html#cb280-6" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">unlist</span>()</span>
<span id="cb280-7"><a href="excpi.html#cb280-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-8"><a href="excpi.html#cb280-8" aria-hidden="true" tabindex="-1"></a>tudo.freq <span class="ot">&lt;-</span> multi.palavras  <span class="sc">|&gt;</span>  plyr<span class="sc">::</span><span class="fu">count</span>() <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="sc">-</span>freq)</span>
<span id="cb280-9"><a href="excpi.html#cb280-9" aria-hidden="true" tabindex="-1"></a>novas_sw <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;senador&quot;</span>, <span class="st">&quot;vossa&quot;</span>, <span class="st">&quot;presidente&quot;</span>)</span>
<span id="cb280-10"><a href="excpi.html#cb280-10" aria-hidden="true" tabindex="-1"></a><span class="co"># arrumando nossas stopwords para serem usadas com filter e grepl</span></span>
<span id="cb280-11"><a href="excpi.html#cb280-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Ela será um único elemento com vários operadores &quot;ous&quot; </span></span>
<span id="cb280-12"><a href="excpi.html#cb280-12" aria-hidden="true" tabindex="-1"></a>novas_sw <span class="ot">&lt;-</span> <span class="fu">paste</span>(novas_sw, <span class="at">collapse =</span> <span class="st">&quot;|&quot;</span> )</span>
<span id="cb280-13"><a href="excpi.html#cb280-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-14"><a href="excpi.html#cb280-14" aria-hidden="true" tabindex="-1"></a><span class="co"># retirando as novas stop words</span></span>
<span id="cb280-15"><a href="excpi.html#cb280-15" aria-hidden="true" tabindex="-1"></a><span class="co"># opção 1</span></span>
<span id="cb280-16"><a href="excpi.html#cb280-16" aria-hidden="true" tabindex="-1"></a>tudo.freq2 <span class="ot">&lt;-</span> tudo.freq <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(novas_sw, .<span class="sc">$</span>x))</span>
<span id="cb280-17"><a href="excpi.html#cb280-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-18"><a href="excpi.html#cb280-18" aria-hidden="true" tabindex="-1"></a><span class="co"># opção 2</span></span>
<span id="cb280-19"><a href="excpi.html#cb280-19" aria-hidden="true" tabindex="-1"></a>tudo.freq2 <span class="ot">&lt;-</span> tudo.freq[<span class="sc">!</span><span class="fu">grepl</span>(novas_sw, tudo.freq<span class="sc">$</span>x),] </span>
<span id="cb280-20"><a href="excpi.html#cb280-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-21"><a href="excpi.html#cb280-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Observando nosso dataframe</span></span>
<span id="cb280-22"><a href="excpi.html#cb280-22" aria-hidden="true" tabindex="-1"></a>tudo.freq2[<span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>,]</span>
<span id="cb280-23"><a href="excpi.html#cb280-23" aria-hidden="true" tabindex="-1"></a><span class="do">##                                 x freq</span></span>
<span id="cb280-24"><a href="excpi.html#cb280-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 3                ministério saúde 4703</span></span>
<span id="cb280-25"><a href="excpi.html#cb280-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 5            comissão parlamentar 2128</span></span>
<span id="cb280-26"><a href="excpi.html#cb280-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 6  comissão parlamentar inquérito 2103</span></span>
<span id="cb280-27"><a href="excpi.html#cb280-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 7           parlamentar inquérito 2103</span></span>
<span id="cb280-28"><a href="excpi.html#cb280-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 9                 governo federal 1476</span></span>
<span id="cb280-29"><a href="excpi.html#cb280-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 13                 senhor relator 1210</span></span>
<span id="cb280-30"><a href="excpi.html#cb280-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 14                       covid 19 1166</span></span>
<span id="cb280-31"><a href="excpi.html#cb280-31" aria-hidden="true" tabindex="-1"></a><span class="do">## 15          intervenção microfone 1162</span></span>
<span id="cb280-32"><a href="excpi.html#cb280-32" aria-hidden="true" tabindex="-1"></a><span class="do">## 16                 marcos rogério 1104</span></span>
<span id="cb280-33"><a href="excpi.html#cb280-33" aria-hidden="true" tabindex="-1"></a><span class="do">## 17                  milhões doses  991</span></span>
<span id="cb280-34"><a href="excpi.html#cb280-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 21             tratamento precoce  889</span></span>
<span id="cb280-35"><a href="excpi.html#cb280-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 22                 prevent senior  791</span></span>
<span id="cb280-36"><a href="excpi.html#cb280-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 25                 desta comissão  780</span></span>
<span id="cb280-37"><a href="excpi.html#cb280-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 26                  questão ordem  744</span></span>
<span id="cb280-38"><a href="excpi.html#cb280-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 29                       pode ser  724</span></span>
<span id="cb280-39"><a href="excpi.html#cb280-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 30                renan calheiros  722</span></span>
<span id="cb280-40"><a href="excpi.html#cb280-40" aria-hidden="true" tabindex="-1"></a><span class="do">## 32             estados municípios  688</span></span>
<span id="cb280-41"><a href="excpi.html#cb280-41" aria-hidden="true" tabindex="-1"></a><span class="do">## 34                polícia federal  657</span></span>
<span id="cb280-42"><a href="excpi.html#cb280-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 35                  todo respeito  637</span></span>
<span id="cb280-43"><a href="excpi.html#cb280-43" aria-hidden="true" tabindex="-1"></a><span class="do">## 36                 estados unidos  628</span></span>
<span id="cb280-44"><a href="excpi.html#cb280-44" aria-hidden="true" tabindex="-1"></a><span class="do">## 37                      desta cpi  620</span></span>
<span id="cb280-45"><a href="excpi.html#cb280-45" aria-hidden="true" tabindex="-1"></a><span class="do">## 38                       fib bank  611</span></span>
<span id="cb280-46"><a href="excpi.html#cb280-46" aria-hidden="true" tabindex="-1"></a><span class="do">## 40                     todo mundo  604</span></span>
<span id="cb280-47"><a href="excpi.html#cb280-47" aria-hidden="true" tabindex="-1"></a><span class="do">## 41                naquele momento  602</span></span>
<span id="cb280-48"><a href="excpi.html#cb280-48" aria-hidden="true" tabindex="-1"></a><span class="do">## 42                  senhor senhor  602</span></span>
<span id="cb280-49"><a href="excpi.html#cb280-49" aria-hidden="true" tabindex="-1"></a><span class="do">## 43                obrigado senhor  588</span></span>
<span id="cb280-50"><a href="excpi.html#cb280-50" aria-hidden="true" tabindex="-1"></a><span class="do">## 44                  neste momento  585</span></span>
<span id="cb280-51"><a href="excpi.html#cb280-51" aria-hidden="true" tabindex="-1"></a><span class="do">## 45                     quer dizer  579</span></span>
<span id="cb280-52"><a href="excpi.html#cb280-52" aria-hidden="true" tabindex="-1"></a><span class="do">## 46                   roberto dias  578</span></span>
<span id="cb280-53"><a href="excpi.html#cb280-53" aria-hidden="true" tabindex="-1"></a><span class="do">## 47                 ricardo barros  571</span></span>
<span id="cb280-54"><a href="excpi.html#cb280-54" aria-hidden="true" tabindex="-1"></a><span class="do">## 50                    senhor pode  555</span></span>
<span id="cb280-55"><a href="excpi.html#cb280-55" aria-hidden="true" tabindex="-1"></a><span class="do">## 51                   alguma coisa  531</span></span>
<span id="cb280-56"><a href="excpi.html#cb280-56" aria-hidden="true" tabindex="-1"></a><span class="do">## 52                     sim senhor  523</span></span>
<span id="cb280-57"><a href="excpi.html#cb280-57" aria-hidden="true" tabindex="-1"></a><span class="do">## 53                 ministro saúde  522</span></span>
<span id="cb280-58"><a href="excpi.html#cb280-58" aria-hidden="true" tabindex="-1"></a><span class="do">## 54             ministério público  512</span></span></code></pre></div>
<p>Gerando uma nuvem de palavras</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="excpi.html#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pegando apenas as palavras mais frequentes</span></span>
<span id="cb281-2"><a href="excpi.html#cb281-2" aria-hidden="true" tabindex="-1"></a>pre.wc <span class="ot">&lt;-</span> tudo.freq2[<span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>,]</span>
<span id="cb281-3"><a href="excpi.html#cb281-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-4"><a href="excpi.html#cb281-4" aria-hidden="true" tabindex="-1"></a>wordcloud<span class="sc">::</span><span class="fu">wordcloud</span>(pre.wc<span class="sc">$</span>x,</span>
<span id="cb281-5"><a href="excpi.html#cb281-5" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># se o input  para esta função contém as frequências de palavras, o item abaixo deve ser descomentado</span></span>
<span id="cb281-6"><a href="excpi.html#cb281-6" aria-hidden="true" tabindex="-1"></a>                   pre.wc<span class="sc">$</span>freq,</span>
<span id="cb281-7"><a href="excpi.html#cb281-7" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># vetor com dois termos indicado o espectro de tamanho das palavras</span></span>
<span id="cb281-8"><a href="excpi.html#cb281-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">scale=</span><span class="fu">c</span>(<span class="dv">3</span>,.<span class="dv">6</span>),</span>
<span id="cb281-9"><a href="excpi.html#cb281-9" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># cores, do menos frequente ao mais frequente</span></span>
<span id="cb281-10"><a href="excpi.html#cb281-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">&quot;royalblue&quot;</span>,<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;darkblue&quot;</span>, <span class="st">&quot;black&quot;</span>))</span></code></pre></div>
<p>Criando um ggplot com os ngrams mais frequentes</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="excpi.html#cb282-1" aria-hidden="true" tabindex="-1"></a>g.ngram<span class="fl">.1</span> <span class="ot">&lt;-</span> tudo.freq2[<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>,] <span class="sc">%&gt;%</span> </span>
<span id="cb282-2"><a href="excpi.html#cb282-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(x, freq), <span class="at">y =</span> freq)) <span class="sc">+</span></span>
<span id="cb282-3"><a href="excpi.html#cb282-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb282-4"><a href="excpi.html#cb282-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;30 ngrams mais frequentes&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb282-5"><a href="excpi.html#cb282-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>), </span>
<span id="cb282-6"><a href="excpi.html#cb282-6" aria-hidden="true" tabindex="-1"></a>              <span class="co"># Deslocando o título do gráfico para ficar mais visível</span></span>
<span id="cb282-7"><a href="excpi.html#cb282-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>) <span class="sc">+</span></span>
<span id="cb282-8"><a href="excpi.html#cb282-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># girando o gráfico</span></span>
<span id="cb282-9"><a href="excpi.html#cb282-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>()  </span>
<span id="cb282-10"><a href="excpi.html#cb282-10" aria-hidden="true" tabindex="-1"></a>g.ngram<span class="fl">.1</span></span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_ggplot_ngrams-1.png" width="672" /></p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="excpi.html#cb283-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-2"><a href="excpi.html#cb283-2" aria-hidden="true" tabindex="-1"></a>g.ngram<span class="fl">.2</span> <span class="ot">&lt;-</span> tudo.freq2[<span class="dv">31</span><span class="sc">:</span><span class="dv">60</span>,] <span class="sc">%&gt;%</span> </span>
<span id="cb283-3"><a href="excpi.html#cb283-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(x, freq), <span class="at">y =</span> freq)) <span class="sc">+</span></span>
<span id="cb283-4"><a href="excpi.html#cb283-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb283-5"><a href="excpi.html#cb283-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;30 ngrams subsequentes&quot;</span>, <span class="at">x =</span> <span class="st">&quot;&quot;</span>,<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb283-6"><a href="excpi.html#cb283-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>), </span>
<span id="cb283-7"><a href="excpi.html#cb283-7" aria-hidden="true" tabindex="-1"></a>              <span class="co"># Deslocando o título do gráfico para ficar mais visível</span></span>
<span id="cb283-8"><a href="excpi.html#cb283-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>) <span class="sc">+</span></span>
<span id="cb283-9"><a href="excpi.html#cb283-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># girando o gráfico</span></span>
<span id="cb283-10"><a href="excpi.html#cb283-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>()  </span>
<span id="cb283-11"><a href="excpi.html#cb283-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-12"><a href="excpi.html#cb283-12" aria-hidden="true" tabindex="-1"></a>g.ngram<span class="fl">.1</span> <span class="sc">+</span> g.ngram<span class="fl">.2</span> <span class="sc">+</span></span>
<span id="cb283-13"><a href="excpi.html#cb283-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">&#39;60 Bigramas e trigramas mais frequentes na CPI da Pandemia&#39;</span>, </span>
<span id="cb283-14"><a href="excpi.html#cb283-14" aria-hidden="true" tabindex="-1"></a>                <span class="at">caption =</span> <span class="st">&#39;*Os gráficos estão em escalas diferentes</span><span class="sc">\n</span><span class="st">Elaboração: Alisson Soares&#39;</span>)</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_ggplot_ngrams-2.png" width="672" /></p>
<p>Podemos ver que alguns termos como os trigramas “comissão parlamentar (de) inquérito” e “supremo tribunal federal” estão repetidos em bigramas.
Mas bigramas e trigramas podem ser melhoradas, afim de manter termos mais significativos.</p>
</div>
</div>
<div id="nuvem-de-palavras-comparativa-wordcloud-comparision" class="section level2 hasAnchor" number="14.8">
<h2><span class="header-section-number">14.8</span> Nuvem de palavras comparativa <em>Wordcloud comparision</em><a href="excpi.html#nuvem-de-palavras-comparativa-wordcloud-comparision" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vamos usar o Quanteda para alguns gráficos, como o <em>wordcloud comparision</em>. Para trabalhar com o Quanteda, devemos primeiro criar um objeto tipo corpus, fazer alguma restrição/filtragem, tokenizar. Alguns procedimentos exigem que se converta para Document Term Matrix.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="excpi.html#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;quanteda.textplots&quot;</span>)</span>
<span id="cb284-2"><a href="excpi.html#cb284-2" aria-hidden="true" tabindex="-1"></a><span class="co">#senCorpus &lt;- corpus(NT_falasJuntasCount[2:5,], </span></span>
<span id="cb284-3"><a href="excpi.html#cb284-3" aria-hidden="true" tabindex="-1"></a><span class="co">#      docid_field = &quot;nome&quot;,</span></span>
<span id="cb284-4"><a href="excpi.html#cb284-4" aria-hidden="true" tabindex="-1"></a><span class="co">#      text_field = &quot;falas&quot;)</span></span>
<span id="cb284-5"><a href="excpi.html#cb284-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb284-6"><a href="excpi.html#cb284-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um corpus </span></span>
<span id="cb284-7"><a href="excpi.html#cb284-7" aria-hidden="true" tabindex="-1"></a>senCorpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(NT_falasJuntasCount, </span>
<span id="cb284-8"><a href="excpi.html#cb284-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">docid_field =</span> <span class="st">&quot;nome&quot;</span>,</span>
<span id="cb284-9"><a href="excpi.html#cb284-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">text_field =</span> <span class="st">&quot;falas&quot;</span>)</span>
<span id="cb284-10"><a href="excpi.html#cb284-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Pegando a fala de senadores</span></span>
<span id="cb284-11"><a href="excpi.html#cb284-11" aria-hidden="true" tabindex="-1"></a>senTokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(<span class="fu">corpus_subset</span>(senCorpus[<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>)]))</span>
<span id="cb284-12"><a href="excpi.html#cb284-12" aria-hidden="true" tabindex="-1"></a><span class="co"># senTokens &lt;- tokens(senCorpus) </span></span>
<span id="cb284-13"><a href="excpi.html#cb284-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb284-14"><a href="excpi.html#cb284-14" aria-hidden="true" tabindex="-1"></a>dfmat2 <span class="ot">&lt;-</span> <span class="fu">dfm</span>(senTokens, </span>
<span id="cb284-15"><a href="excpi.html#cb284-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">dfm_remove =</span> <span class="fu">stopwords</span>(<span class="st">&quot;portuguese&quot;</span>), <span class="at">remove_punct =</span> <span class="cn">TRUE</span>, <span class="at">dfm.group =</span> <span class="st">&quot;nome&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">3</span>)</span>
<span id="cb284-16"><a href="excpi.html#cb284-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning: &#39;...&#39; should not be used for tokens() arguments; use &#39;tokens()&#39; first.</span></span>
<span id="cb284-17"><a href="excpi.html#cb284-17" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning: dfm_remove, dfm.group arguments are not used.</span></span>
<span id="cb284-18"><a href="excpi.html#cb284-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb284-19"><a href="excpi.html#cb284-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning: dfm_remove, dfm.group arguments are not used.</span></span>
<span id="cb284-20"><a href="excpi.html#cb284-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb284-21"><a href="excpi.html#cb284-21" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(dfmat2, <span class="at">comparison =</span> <span class="cn">TRUE</span>, <span class="at">max_words =</span> <span class="dv">300</span>)</span>
<span id="cb284-22"><a href="excpi.html#cb284-22" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning in wordcloud_comparison(x, min_size, max_size, min_count, max_words, :</span></span>
<span id="cb284-23"><a href="excpi.html#cb284-23" aria-hidden="true" tabindex="-1"></a><span class="do">## informações could not be fit on page. It will not be plotted.</span></span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_wordclowd_comparision-1.png" width="672" />
<!--                    color = c("blue", "darkred")) --></p>
<p>O Gráfico de dispersão lexical (<em>Lexical dispersion plot</em>) mostra como um ou mais termos aparecem ao longo de um documento. No caso aqui, o documento é a fala de cada senador ao longo da CPI.
A plotagem demora alguns bons minutos para rodar, mais que topic modeling.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="excpi.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos restringir o número de pessoas para nosso gráfico</span></span>
<span id="cb285-2"><a href="excpi.html#cb285-2" aria-hidden="true" tabindex="-1"></a>senTokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(<span class="fu">corpus_subset</span>(senCorpus[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)]))</span>
<span id="cb285-3"><a href="excpi.html#cb285-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-4"><a href="excpi.html#cb285-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Gerando o gráfico. Esta parte é demorada</span></span>
<span id="cb285-5"><a href="excpi.html#cb285-5" aria-hidden="true" tabindex="-1"></a>grafico <span class="ot">&lt;-</span> <span class="fu">textplot_xray</span>(</span>
<span id="cb285-6"><a href="excpi.html#cb285-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">kwic</span>(senTokens, <span class="at">pattern =</span> <span class="st">&quot;vacina&quot;</span>), </span>
<span id="cb285-7"><a href="excpi.html#cb285-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">kwic</span>(senTokens, <span class="at">pattern =</span> <span class="st">&quot;corrupção&quot;</span>))</span></code></pre></div>
<p>Como o objeto gerado é um ggplot, podemos personalizá-lo</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="excpi.html#cb286-1" aria-hidden="true" tabindex="-1"></a>grafico <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">color =</span> keyword) <span class="sc">+</span></span>
<span id="cb286-2"><a href="excpi.html#cb286-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkblue&quot;</span>, <span class="st">&quot;darkgreen&quot;</span>)) <span class="sc">+</span></span>
<span id="cb286-3"><a href="excpi.html#cb286-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb286-4"><a href="excpi.html#cb286-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">#ggtitle(&quot;Dispersão Lexical&quot;)</span></span>
<span id="cb286-5"><a href="excpi.html#cb286-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Gráfico de dispersão lexical&quot;</span>, </span>
<span id="cb286-6"><a href="excpi.html#cb286-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">x=</span><span class="st">&quot;Aparição dos termos ao longo da fala de cada um na CPI&quot;</span>, <span class="at">y=</span><span class="st">&quot;&quot;</span>,</span>
<span id="cb286-7"><a href="excpi.html#cb286-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">&quot;Elaboração: Alisson Soares&quot;</span>) </span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_LexicalDispertion_grafico-1.png" width="672" /></p>
</div>
<div id="extração-de-palavras-chave-keywords---colocação-collocation" class="section level2 hasAnchor" number="14.9">
<h2><span class="header-section-number">14.9</span> Extração de palavras chave Keywords - colocação (<em>collocation</em>)<a href="excpi.html#extração-de-palavras-chave-keywords---colocação-collocation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>O termo “colocação” refere-se a uma sequência de palavras que ocorrem juntas mais frequentemente que separadas ou pelo acaso.
Usamos esta análise para encontrar termos chamados “multiwords”, isto é, várias palavras que se comportam como se fossem uma, como por exemplo “Nova Yorque”, “Ministério Público”, etc.</p>
<p>A função <code>keywords_collocation()</code> do pacote Udpipe faz este cálculo, aceitando como argumentos:</p>
<ul>
<li>input: data frames, onde cada linha é um termo e estes estão na ordem que aparecem no texto</li>
<li><code>term</code>: indicação da coluna com termos</li>
<li><code>group</code>: indicação de id (identificação) do documento</li>
</ul>
<p>Além destes, há os argumentos opcionais:</p>
<ul>
<li><code>ngram_max</code>: integral, indicando o tamanho máximo das colocações. O padrão é 2.</li>
<li><code>n_min</code>: integral indicando o número mínimo das colocações. O padrão 2.</li>
<li><code>sep</code>: separador das colocações. O padrão é ” “, isto é, espaço. Mas pode ser útil usar o símbolo”_” para tornar estes termos um único termo.</li>
</ul>
<p>Esta função nos retorna um data frame com várias colunas, como veremos mais abaixo.
Ela calcula:</p>
<ul>
<li>PMI (pointwise mutual information): log2(P(w1w2) / P(w1) P(w2))</li>
<li>MD (mutual dependency): log2(P(w1w2)^2 / P(w1) P(w2))</li>
<li>LFMD (log-frequency biased mutual dependency): MD + log2(P(w1w2))</li>
</ul>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="excpi.html#cb287-1" aria-hidden="true" tabindex="-1"></a>PMI <span class="ot">&lt;-</span> NotasTaq2 <span class="sc">|&gt;</span> tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(word, fala, </span>
<span id="cb287-2"><a href="excpi.html#cb287-2" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">to_lower =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb287-3"><a href="excpi.html#cb287-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">keywords_collocation</span>(<span class="at">term =</span> <span class="st">&quot;word&quot;</span>, <span class="at">group =</span> <span class="st">&quot;nome&quot;</span>, </span>
<span id="cb287-4"><a href="excpi.html#cb287-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">ngram_max =</span> <span class="dv">4</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb287-5"><a href="excpi.html#cb287-5" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo o df gerado</span></span>
<span id="cb287-6"><a href="excpi.html#cb287-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(PMI, <span class="dv">20</span>)</span>
<span id="cb287-7"><a href="excpi.html#cb287-7" aria-hidden="true" tabindex="-1"></a><span class="do">##                 keyword ngram      left       right freq freq_left freq_right</span></span>
<span id="cb287-8"><a href="excpi.html#cb287-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1           Los_Angeles     2       Los     Angeles    3         3          3</span></span>
<span id="cb287-9"><a href="excpi.html#cb287-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2            BCI_Balpex     2       BCI      Balpex    3         3          3</span></span>
<span id="cb287-10"><a href="excpi.html#cb287-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 3       Evelyn_Beatrice     2    Evelyn    Beatrice    3         3          3</span></span>
<span id="cb287-11"><a href="excpi.html#cb287-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 4           Wesley_Cota     2    Wesley        Cota    3         3          3</span></span>
<span id="cb287-12"><a href="excpi.html#cb287-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 5  Christian_Doutorsten     2 Christian  Doutorsten    3         3          3</span></span>
<span id="cb287-13"><a href="excpi.html#cb287-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 6      Peace_Federation     2     Peace  Federation    3         3          3</span></span>
<span id="cb287-14"><a href="excpi.html#cb287-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 7       Jandira_Feghali     2   Jandira     Feghali    3         3          3</span></span>
<span id="cb287-15"><a href="excpi.html#cb287-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 8         Thermo_Fisher     2    Thermo      Fisher    3         3          3</span></span>
<span id="cb287-16"><a href="excpi.html#cb287-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 9               Fla_Flu     2       Fla         Flu    3         3          3</span></span>
<span id="cb287-17"><a href="excpi.html#cb287-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 10      Vossan_Holleben     2    Vossan    Holleben    3         3          3</span></span>
<span id="cb287-18"><a href="excpi.html#cb287-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 11         Apoorv_Kumar     2    Apoorv       Kumar    3         3          3</span></span>
<span id="cb287-19"><a href="excpi.html#cb287-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 12          Raman_Neves     2     Raman       Neves    3         3          3</span></span>
<span id="cb287-20"><a href="excpi.html#cb287-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 13        Goldman_Sachs     2   Goldman       Sachs    3         3          3</span></span>
<span id="cb287-21"><a href="excpi.html#cb287-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 14   Vossack_VossapoRub     2   Vossack  VossapoRub    3         3          3</span></span>
<span id="cb287-22"><a href="excpi.html#cb287-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 15         Yang_Wanming     2      Yang     Wanming    3         3          3</span></span>
<span id="cb287-23"><a href="excpi.html#cb287-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 16   bebidas_alcoólicas     2   bebidas  alcoólicas    3         3          3</span></span>
<span id="cb287-24"><a href="excpi.html#cb287-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 17            these_are     2     these         are    3         3          3</span></span>
<span id="cb287-25"><a href="excpi.html#cb287-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 18        shelf_company     2     shelf     company    3         3          3</span></span>
<span id="cb287-26"><a href="excpi.html#cb287-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 19             I&#39;m_here     2       I&#39;m        here    3         3          3</span></span>
<span id="cb287-27"><a href="excpi.html#cb287-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 20       pó_liofilizado     2        pó liofilizado    3         3          3</span></span>
<span id="cb287-28"><a href="excpi.html#cb287-28" aria-hidden="true" tabindex="-1"></a><span class="do">##         pmi md      lfmd</span></span>
<span id="cb287-29"><a href="excpi.html#cb287-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 1  19.97731  0 -19.97731</span></span>
<span id="cb287-30"><a href="excpi.html#cb287-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 2  19.97731  0 -19.97731</span></span>
<span id="cb287-31"><a href="excpi.html#cb287-31" aria-hidden="true" tabindex="-1"></a><span class="do">## 3  19.97731  0 -19.97731</span></span>
<span id="cb287-32"><a href="excpi.html#cb287-32" aria-hidden="true" tabindex="-1"></a><span class="do">## 4  19.97731  0 -19.97731</span></span>
<span id="cb287-33"><a href="excpi.html#cb287-33" aria-hidden="true" tabindex="-1"></a><span class="do">## 5  19.97731  0 -19.97731</span></span>
<span id="cb287-34"><a href="excpi.html#cb287-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 6  19.97731  0 -19.97731</span></span>
<span id="cb287-35"><a href="excpi.html#cb287-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 7  19.97731  0 -19.97731</span></span>
<span id="cb287-36"><a href="excpi.html#cb287-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 8  19.97731  0 -19.97731</span></span>
<span id="cb287-37"><a href="excpi.html#cb287-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 9  19.97731  0 -19.97731</span></span>
<span id="cb287-38"><a href="excpi.html#cb287-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 19.97731  0 -19.97731</span></span>
<span id="cb287-39"><a href="excpi.html#cb287-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 11 19.97731  0 -19.97731</span></span>
<span id="cb287-40"><a href="excpi.html#cb287-40" aria-hidden="true" tabindex="-1"></a><span class="do">## 12 19.97731  0 -19.97731</span></span>
<span id="cb287-41"><a href="excpi.html#cb287-41" aria-hidden="true" tabindex="-1"></a><span class="do">## 13 19.97731  0 -19.97731</span></span>
<span id="cb287-42"><a href="excpi.html#cb287-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 14 19.97731  0 -19.97731</span></span>
<span id="cb287-43"><a href="excpi.html#cb287-43" aria-hidden="true" tabindex="-1"></a><span class="do">## 15 19.97731  0 -19.97731</span></span>
<span id="cb287-44"><a href="excpi.html#cb287-44" aria-hidden="true" tabindex="-1"></a><span class="do">## 16 19.97731  0 -19.97731</span></span>
<span id="cb287-45"><a href="excpi.html#cb287-45" aria-hidden="true" tabindex="-1"></a><span class="do">## 17 19.97731  0 -19.97731</span></span>
<span id="cb287-46"><a href="excpi.html#cb287-46" aria-hidden="true" tabindex="-1"></a><span class="do">## 18 19.97731  0 -19.97731</span></span>
<span id="cb287-47"><a href="excpi.html#cb287-47" aria-hidden="true" tabindex="-1"></a><span class="do">## 19 19.97731  0 -19.97731</span></span>
<span id="cb287-48"><a href="excpi.html#cb287-48" aria-hidden="true" tabindex="-1"></a><span class="do">## 20 19.97731  0 -19.97731</span></span></code></pre></div>
<p>Após alguns testes, de ordenar pela frequência, pelo pmi ou lfmd, cheguei a esta configuração:</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="excpi.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="co"># o 4 grams</span></span>
<span id="cb288-2"><a href="excpi.html#cb288-2" aria-hidden="true" tabindex="-1"></a>PMI <span class="sc">|&gt;</span> <span class="fu">filter</span>(ngram <span class="sc">==</span> <span class="dv">4</span>)<span class="sc">|&gt;</span></span>
<span id="cb288-3"><a href="excpi.html#cb288-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(freq <span class="sc">&gt;</span> <span class="dv">200</span>) <span class="sc">|&gt;</span></span>
<span id="cb288-4"><a href="excpi.html#cb288-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(<span class="sc">-</span>pmi) <span class="sc">|&gt;</span> </span>
<span id="cb288-5"><a href="excpi.html#cb288-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(keyword, freq, pmi, md, lfmd ) <span class="sc">|&gt;</span></span>
<span id="cb288-6"><a href="excpi.html#cb288-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(keyword, <span class="st">&quot;[:upper:][:lower:]+.*_[:upper:]&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb288-7"><a href="excpi.html#cb288-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">head</span>(<span class="dv">20</span>) </span>
<span id="cb288-8"><a href="excpi.html#cb288-8" aria-hidden="true" tabindex="-1"></a><span class="do">##                                keyword freq       pmi          md      lfmd</span></span>
<span id="cb288-9"><a href="excpi.html#cb288-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 1                    do_Rio_de_Janeiro  207 13.016019 -0.85262461 -14.72127</span></span>
<span id="cb288-10"><a href="excpi.html#cb288-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 2                    Rio_Grande_do_Sul  221 12.539650 -1.23457823 -15.00881</span></span>
<span id="cb288-11"><a href="excpi.html#cb288-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 3         Conselho_Federal_de_Medicina  212 12.430687 -1.40352401 -15.23773</span></span>
<span id="cb288-12"><a href="excpi.html#cb288-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 4                   de_Contas_da_União  257 12.224509 -1.33199735 -14.88850</span></span>
<span id="cb288-13"><a href="excpi.html#cb288-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 5                do_Estado_do_Amazonas  201 10.844267 -3.06681226 -16.97789</span></span>
<span id="cb288-14"><a href="excpi.html#cb288-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 6    Comissão_Parlamentar_de_Inquérito 2078 10.485215 -0.05593594 -10.59709</span></span>
<span id="cb288-15"><a href="excpi.html#cb288-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 7           do_Presidente_da_República  613 10.002059 -2.30032848 -14.60272</span></span>
<span id="cb288-16"><a href="excpi.html#cb288-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 8            o_Presidente_da_República  832  9.858514 -2.00317690 -13.86487</span></span>
<span id="cb288-17"><a href="excpi.html#cb288-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 9          a_esta_Comissão_Parlamentar  229  9.521124 -4.20180370 -17.92473</span></span>
<span id="cb288-18"><a href="excpi.html#cb288-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 10              no_Ministério_da_Saúde  706  8.840751 -3.25785565 -15.35646</span></span>
<span id="cb288-19"><a href="excpi.html#cb288-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 11              ao_Ministério_da_Saúde  467  8.811546 -3.88330632 -16.57816</span></span>
<span id="cb288-20"><a href="excpi.html#cb288-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 12            pelo_Ministério_da_Saúde  269  8.806116 -4.68455289 -18.17522</span></span>
<span id="cb288-21"><a href="excpi.html#cb288-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 13              do_Ministério_da_Saúde 1640  8.785348 -2.09730346 -12.97995</span></span>
<span id="cb288-22"><a href="excpi.html#cb288-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 14               o_Ministério_da_Saúde 1229  8.771502 -2.52735998 -13.82622</span></span>
<span id="cb288-23"><a href="excpi.html#cb288-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 15    Muito_obrigado_Senhor_Presidente  257  7.314028 -6.24247838 -19.79898</span></span>
<span id="cb288-24"><a href="excpi.html#cb288-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 16 Senhor_Presidente_Senhor_Presidente  494  6.801091 -5.81267250 -18.42644</span></span>
<span id="cb288-25"><a href="excpi.html#cb288-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 17               Tribunal_de_Contas_da  257  5.439656 -8.11685027 -21.67336</span></span>
<span id="cb288-26"><a href="excpi.html#cb288-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 18        esta_Comissão_Parlamentar_de  586  4.904648 -7.46272665 -19.83010</span></span>
<span id="cb288-27"><a href="excpi.html#cb288-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 19       nesta_Comissão_Parlamentar_de  236  4.896238 -8.78324993 -22.46274</span></span>
<span id="cb288-28"><a href="excpi.html#cb288-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 20       desta_Comissão_Parlamentar_de  462  4.895846 -7.81453585 -20.52492</span></span>
<span id="cb288-29"><a href="excpi.html#cb288-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb288-30"><a href="excpi.html#cb288-30" aria-hidden="true" tabindex="-1"></a><span class="co"># trigramas</span></span>
<span id="cb288-31"><a href="excpi.html#cb288-31" aria-hidden="true" tabindex="-1"></a>PMI <span class="sc">|&gt;</span> <span class="fu">filter</span>(ngram <span class="sc">==</span> <span class="dv">3</span>)<span class="sc">|&gt;</span> </span>
<span id="cb288-32"><a href="excpi.html#cb288-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(freq <span class="sc">&gt;</span> <span class="dv">200</span>) <span class="sc">|&gt;</span></span>
<span id="cb288-33"><a href="excpi.html#cb288-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(<span class="sc">-</span>pmi) <span class="sc">|&gt;</span> </span>
<span id="cb288-34"><a href="excpi.html#cb288-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(keyword, freq, pmi, md, lfmd ) <span class="sc">|&gt;</span></span>
<span id="cb288-35"><a href="excpi.html#cb288-35" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(keyword, <span class="st">&quot;[:upper:][:lower:]+.*_[:upper:]&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb288-36"><a href="excpi.html#cb288-36" aria-hidden="true" tabindex="-1"></a>        <span class="fu">head</span>(<span class="dv">20</span>)  </span>
<span id="cb288-37"><a href="excpi.html#cb288-37" aria-hidden="true" tabindex="-1"></a><span class="do">##                         keyword freq      pmi          md      lfmd</span></span>
<span id="cb288-38"><a href="excpi.html#cb288-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 1                Rio_de_Janeiro  370 12.99218 -0.03863831 -13.06946</span></span>
<span id="cb288-39"><a href="excpi.html#cb288-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 2      Senador_Fernando_Bezerra  320 12.62575 -0.61452582 -13.85480</span></span>
<span id="cb288-40"><a href="excpi.html#cb288-40" aria-hidden="true" tabindex="-1"></a><span class="do">## 3            Tribunal_de_Contas  429 12.58938 -0.22798867 -13.04536</span></span>
<span id="cb288-41"><a href="excpi.html#cb288-41" aria-hidden="true" tabindex="-1"></a><span class="do">## 4                 Grande_do_Sul  225 12.54521 -1.20321276 -14.95163</span></span>
<span id="cb288-42"><a href="excpi.html#cb288-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 5            Luis_Carlos_Heinze  229 12.38224 -1.34075961 -15.06376</span></span>
<span id="cb288-43"><a href="excpi.html#cb288-43" aria-hidden="true" tabindex="-1"></a><span class="do">## 6               Contas_da_União  258 12.22458 -1.32639465 -14.87737</span></span>
<span id="cb288-44"><a href="excpi.html#cb288-44" aria-hidden="true" tabindex="-1"></a><span class="do">## 7  Senador_Alessandro_Vossaeira  239 12.13850 -1.52283372 -15.18417</span></span>
<span id="cb288-45"><a href="excpi.html#cb288-45" aria-hidden="true" tabindex="-1"></a><span class="do">## 8       Deputado_Ricardo_Barros  231 12.12336 -1.58709681 -15.29755</span></span>
<span id="cb288-46"><a href="excpi.html#cb288-46" aria-hidden="true" tabindex="-1"></a><span class="do">## 9      Senador_Rogério_Carvalho  282 11.94951 -1.47314072 -14.89579</span></span>
<span id="cb288-47"><a href="excpi.html#cb288-47" aria-hidden="true" tabindex="-1"></a><span class="do">## 10           nos_Estados_Unidos  244 11.80522 -1.82624272 -15.45771</span></span>
<span id="cb288-48"><a href="excpi.html#cb288-48" aria-hidden="true" tabindex="-1"></a><span class="do">## 11            da_Prevent_Senior  310 11.75958 -1.52649619 -14.81257</span></span>
<span id="cb288-49"><a href="excpi.html#cb288-49" aria-hidden="true" tabindex="-1"></a><span class="do">## 12          Federal_de_Medicina  214 11.72838 -2.09235413 -15.91309</span></span>
<span id="cb288-50"><a href="excpi.html#cb288-50" aria-hidden="true" tabindex="-1"></a><span class="do">## 13          Senador_Luis_Carlos  218 11.70040 -2.09361400 -15.88763</span></span>
<span id="cb288-51"><a href="excpi.html#cb288-51" aria-hidden="true" tabindex="-1"></a><span class="do">## 14        Roberto_Ferreira_Dias  318 11.61064 -1.63867669 -14.88800</span></span>
<span id="cb288-52"><a href="excpi.html#cb288-52" aria-hidden="true" tabindex="-1"></a><span class="do">## 15            Senador_Omar_Aziz  267 11.53790 -1.96360333 -15.46511</span></span>
<span id="cb288-53"><a href="excpi.html#cb288-53" aria-hidden="true" tabindex="-1"></a><span class="do">## 16        Senador_Eduardo_Braga  276 11.45507 -1.99860731 -15.45229</span></span>
<span id="cb288-54"><a href="excpi.html#cb288-54" aria-hidden="true" tabindex="-1"></a><span class="do">## 17                 de_São_Paulo  430 11.34557 -1.46843459 -14.28244</span></span>
<span id="cb288-55"><a href="excpi.html#cb288-55" aria-hidden="true" tabindex="-1"></a><span class="do">## 18         Estados_e_Municípios  602 11.26635 -1.06222933 -13.39081</span></span>
<span id="cb288-56"><a href="excpi.html#cb288-56" aria-hidden="true" tabindex="-1"></a><span class="do">## 19       Senador_Humberto_Costa  329 11.22966 -1.97059957 -15.17086</span></span>
<span id="cb288-57"><a href="excpi.html#cb288-57" aria-hidden="true" tabindex="-1"></a><span class="do">## 20   Senador_Randolfe_Rodrigues  292 10.88069 -2.49169065 -15.86407</span></span>
<span id="cb288-58"><a href="excpi.html#cb288-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb288-59"><a href="excpi.html#cb288-59" aria-hidden="true" tabindex="-1"></a><span class="co"># bigramas vamos ordenar pelo pmi </span></span>
<span id="cb288-60"><a href="excpi.html#cb288-60" aria-hidden="true" tabindex="-1"></a><span class="co"># (rodei antes, Por frequência não trazia bons resultados)</span></span>
<span id="cb288-61"><a href="excpi.html#cb288-61" aria-hidden="true" tabindex="-1"></a>PMI <span class="sc">|&gt;</span> <span class="fu">filter</span>(ngram <span class="sc">==</span> <span class="dv">2</span>)<span class="sc">|&gt;</span> </span>
<span id="cb288-62"><a href="excpi.html#cb288-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(<span class="sc">-</span>pmi) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb288-63"><a href="excpi.html#cb288-63" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(keyword, freq, pmi, md, lfmd )</span>
<span id="cb288-64"><a href="excpi.html#cb288-64" aria-hidden="true" tabindex="-1"></a><span class="do">##                 keyword freq      pmi md      lfmd</span></span>
<span id="cb288-65"><a href="excpi.html#cb288-65" aria-hidden="true" tabindex="-1"></a><span class="do">## 1           Los_Angeles    3 19.97731  0 -19.97731</span></span>
<span id="cb288-66"><a href="excpi.html#cb288-66" aria-hidden="true" tabindex="-1"></a><span class="do">## 2            BCI_Balpex    3 19.97731  0 -19.97731</span></span>
<span id="cb288-67"><a href="excpi.html#cb288-67" aria-hidden="true" tabindex="-1"></a><span class="do">## 3       Evelyn_Beatrice    3 19.97731  0 -19.97731</span></span>
<span id="cb288-68"><a href="excpi.html#cb288-68" aria-hidden="true" tabindex="-1"></a><span class="do">## 4           Wesley_Cota    3 19.97731  0 -19.97731</span></span>
<span id="cb288-69"><a href="excpi.html#cb288-69" aria-hidden="true" tabindex="-1"></a><span class="do">## 5  Christian_Doutorsten    3 19.97731  0 -19.97731</span></span>
<span id="cb288-70"><a href="excpi.html#cb288-70" aria-hidden="true" tabindex="-1"></a><span class="do">## 6      Peace_Federation    3 19.97731  0 -19.97731</span></span>
<span id="cb288-71"><a href="excpi.html#cb288-71" aria-hidden="true" tabindex="-1"></a><span class="do">## 7       Jandira_Feghali    3 19.97731  0 -19.97731</span></span>
<span id="cb288-72"><a href="excpi.html#cb288-72" aria-hidden="true" tabindex="-1"></a><span class="do">## 8         Thermo_Fisher    3 19.97731  0 -19.97731</span></span>
<span id="cb288-73"><a href="excpi.html#cb288-73" aria-hidden="true" tabindex="-1"></a><span class="do">## 9               Fla_Flu    3 19.97731  0 -19.97731</span></span>
<span id="cb288-74"><a href="excpi.html#cb288-74" aria-hidden="true" tabindex="-1"></a><span class="do">## 10      Vossan_Holleben    3 19.97731  0 -19.97731</span></span>
<span id="cb288-75"><a href="excpi.html#cb288-75" aria-hidden="true" tabindex="-1"></a><span class="do">## 11         Apoorv_Kumar    3 19.97731  0 -19.97731</span></span>
<span id="cb288-76"><a href="excpi.html#cb288-76" aria-hidden="true" tabindex="-1"></a><span class="do">## 12          Raman_Neves    3 19.97731  0 -19.97731</span></span>
<span id="cb288-77"><a href="excpi.html#cb288-77" aria-hidden="true" tabindex="-1"></a><span class="do">## 13        Goldman_Sachs    3 19.97731  0 -19.97731</span></span>
<span id="cb288-78"><a href="excpi.html#cb288-78" aria-hidden="true" tabindex="-1"></a><span class="do">## 14   Vossack_VossapoRub    3 19.97731  0 -19.97731</span></span>
<span id="cb288-79"><a href="excpi.html#cb288-79" aria-hidden="true" tabindex="-1"></a><span class="do">## 15         Yang_Wanming    3 19.97731  0 -19.97731</span></span>
<span id="cb288-80"><a href="excpi.html#cb288-80" aria-hidden="true" tabindex="-1"></a><span class="do">## 16   bebidas_alcoólicas    3 19.97731  0 -19.97731</span></span>
<span id="cb288-81"><a href="excpi.html#cb288-81" aria-hidden="true" tabindex="-1"></a><span class="do">## 17            these_are    3 19.97731  0 -19.97731</span></span>
<span id="cb288-82"><a href="excpi.html#cb288-82" aria-hidden="true" tabindex="-1"></a><span class="do">## 18        shelf_company    3 19.97731  0 -19.97731</span></span>
<span id="cb288-83"><a href="excpi.html#cb288-83" aria-hidden="true" tabindex="-1"></a><span class="do">## 19             I&#39;m_here    3 19.97731  0 -19.97731</span></span>
<span id="cb288-84"><a href="excpi.html#cb288-84" aria-hidden="true" tabindex="-1"></a><span class="do">## 20       pó_liofilizado    3 19.97731  0 -19.97731</span></span>
<span id="cb288-85"><a href="excpi.html#cb288-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb288-86"><a href="excpi.html#cb288-86" aria-hidden="true" tabindex="-1"></a>PMI <span class="sc">|&gt;</span> <span class="fu">filter</span>(ngram <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb288-87"><a href="excpi.html#cb288-87" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(<span class="sc">-</span>freq) <span class="sc">|&gt;</span> </span>
<span id="cb288-88"><a href="excpi.html#cb288-88" aria-hidden="true" tabindex="-1"></a>        <span class="co">#arrange(-lfmd) |&gt; </span></span>
<span id="cb288-89"><a href="excpi.html#cb288-89" aria-hidden="true" tabindex="-1"></a>        <span class="co">#arrange(-pmi) |&gt; head(20) |&gt; </span></span>
<span id="cb288-90"><a href="excpi.html#cb288-90" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(keyword, freq, pmi, md, lfmd ) <span class="sc">|&gt;</span></span>
<span id="cb288-91"><a href="excpi.html#cb288-91" aria-hidden="true" tabindex="-1"></a>        <span class="co"># pegando palavras que comecem com maiúsculo</span></span>
<span id="cb288-92"><a href="excpi.html#cb288-92" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(keyword, <span class="st">&quot;[:upper:][:lower:]+_[:upper:]&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb288-93"><a href="excpi.html#cb288-93" aria-hidden="true" tabindex="-1"></a>        <span class="fu">head</span>(<span class="dv">20</span>)  </span>
<span id="cb288-94"><a href="excpi.html#cb288-94" aria-hidden="true" tabindex="-1"></a><span class="do">##                  keyword freq       pmi         md      lfmd</span></span>
<span id="cb288-95"><a href="excpi.html#cb288-95" aria-hidden="true" tabindex="-1"></a><span class="do">## 1       Vossa_Excelência 7662  8.432056 -0.2267121  -8.88548</span></span>
<span id="cb288-96"><a href="excpi.html#cb288-96" aria-hidden="true" tabindex="-1"></a><span class="do">## 2      Senhor_Presidente 5655  6.202402 -2.8945600 -11.99152</span></span>
<span id="cb288-97"><a href="excpi.html#cb288-97" aria-hidden="true" tabindex="-1"></a><span class="do">## 3   Comissão_Parlamentar 2110  9.436541 -1.0827057 -11.60195</span></span>
<span id="cb288-98"><a href="excpi.html#cb288-98" aria-hidden="true" tabindex="-1"></a><span class="do">## 4          Senador_Renan 1875  7.130525 -3.5590733 -14.24867</span></span>
<span id="cb288-99"><a href="excpi.html#cb288-99" aria-hidden="true" tabindex="-1"></a><span class="do">## 5        Governo_Federal 1472  7.775341 -3.2633704 -14.30208</span></span>
<span id="cb288-100"><a href="excpi.html#cb288-100" aria-hidden="true" tabindex="-1"></a><span class="do">## 6         Senador_Marcos 1221  6.883017 -4.4254088 -15.73383</span></span>
<span id="cb288-101"><a href="excpi.html#cb288-101" aria-hidden="true" tabindex="-1"></a><span class="do">## 7       Senador_Randolfe 1211  7.099158 -4.2211325 -15.54142</span></span>
<span id="cb288-102"><a href="excpi.html#cb288-102" aria-hidden="true" tabindex="-1"></a><span class="do">## 8         Senhor_Relator 1198  6.583876 -4.7519853 -16.08785</span></span>
<span id="cb288-103"><a href="excpi.html#cb288-103" aria-hidden="true" tabindex="-1"></a><span class="do">## 9         Marcos_Rogério 1104 10.221220 -1.2325290 -12.68628</span></span>
<span id="cb288-104"><a href="excpi.html#cb288-104" aria-hidden="true" tabindex="-1"></a><span class="do">## 10     Presidente_Senhor  951  3.631954 -8.0370182 -19.70599</span></span>
<span id="cb288-105"><a href="excpi.html#cb288-105" aria-hidden="true" tabindex="-1"></a><span class="do">## 11      Senador_Humberto  895  7.181998 -4.5745321 -16.33106</span></span>
<span id="cb288-106"><a href="excpi.html#cb288-106" aria-hidden="true" tabindex="-1"></a><span class="do">## 12        Prevent_Senior  791 11.756530 -0.1782100 -12.11295</span></span>
<span id="cb288-107"><a href="excpi.html#cb288-107" aria-hidden="true" tabindex="-1"></a><span class="do">## 13         Senador_Girão  785  6.708305 -5.2374201 -17.18314</span></span>
<span id="cb288-108"><a href="excpi.html#cb288-108" aria-hidden="true" tabindex="-1"></a><span class="do">## 14             São_Paulo  739 10.399803 -1.6330400 -13.66588</span></span>
<span id="cb288-109"><a href="excpi.html#cb288-109" aria-hidden="true" tabindex="-1"></a><span class="do">## 15       Senador_Eduardo  730  6.671064 -5.3794571 -17.42998</span></span>
<span id="cb288-110"><a href="excpi.html#cb288-110" aria-hidden="true" tabindex="-1"></a><span class="do">## 16 que_Vossassa_Senhoria  726  2.134724 -9.9237241 -21.98217</span></span>
<span id="cb288-111"><a href="excpi.html#cb288-111" aria-hidden="true" tabindex="-1"></a><span class="do">## 17       Renan_Calheiros  722 10.433340 -1.6330783 -13.69950</span></span>
<span id="cb288-112"><a href="excpi.html#cb288-112" aria-hidden="true" tabindex="-1"></a><span class="do">## 18      Senhor_Senadores  712  6.213147 -5.8733933 -17.95993</span></span>
<span id="cb288-113"><a href="excpi.html#cb288-113" aria-hidden="true" tabindex="-1"></a><span class="do">## 19        Senhor_Senador  672  3.070192 -9.0997638 -21.26972</span></span>
<span id="cb288-114"><a href="excpi.html#cb288-114" aria-hidden="true" tabindex="-1"></a><span class="do">## 20       Polícia_Federal  655  9.244953 -2.9619696 -15.16889</span></span></code></pre></div>
</div>
<div id="tf-idf-dos-senadores" class="section level2 hasAnchor" number="14.10">
<h2><span class="header-section-number">14.10</span> TF-IDF dos Senadores<a href="excpi.html#tf-idf-dos-senadores" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="excpi.html#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Observando novamente a estrutura do df que criamos só com os senadores</span></span>
<span id="cb289-2"><a href="excpi.html#cb289-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(senadores_falasJuntas)</span>
<span id="cb289-3"><a href="excpi.html#cb289-3" aria-hidden="true" tabindex="-1"></a><span class="do">## tibble [37 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb289-4"><a href="excpi.html#cb289-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ nome      : chr [1:37] &quot;Omar Aziz&quot; &quot;Renan Calheiros&quot; &quot;Randolfe Rodrigues&quot; &quot;Humberto Costa&quot; ...</span></span>
<span id="cb289-5"><a href="excpi.html#cb289-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ N_palavras: int [1:37] 413495 349545 341685 138419 125102 124592 114902 89020 76785 76585 ...</span></span>
<span id="cb289-6"><a href="excpi.html#cb289-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ falas     : chr [1:37] &quot;Como é que é? Peço só um minutinho, só um minutinho!  Senhor Presidente...  Eu acho que Vossa Excelência.. Nós &quot;| __truncated__ &quot;Quer dizer que há outros impedimentos a serem...  Acredito não ser o caso de VossaExcelência, mas o Estado de A&quot;| __truncated__ &quot;Presidente...  Presidente, qual a ordem?  Presidente, só para declinar a ordem, quem são?  Agora é a Eliziane? &quot;| __truncated__ &quot;Senhor Presidente, eu queria, inicialmente, aqui, corrigir algumas colocações que foram feitas. O Presidente Ro&quot;| __truncated__ ...</span></span>
<span id="cb289-7"><a href="excpi.html#cb289-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(NT_falasJuntasCount)</span>
<span id="cb289-8"><a href="excpi.html#cb289-8" aria-hidden="true" tabindex="-1"></a><span class="do">## tibble [149 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb289-9"><a href="excpi.html#cb289-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ nome      : chr [1:149] &quot;Omar Aziz&quot; &quot;Renan Calheiros&quot; &quot;Randolfe Rodrigues&quot; &quot;Marcos Rogério&quot; ...</span></span>
<span id="cb289-10"><a href="excpi.html#cb289-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ N_palavras: int [1:149] 413495 349545 341685 196415 146087 138419 125102 124592 120133 114902 ...</span></span>
<span id="cb289-11"><a href="excpi.html#cb289-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ falas     : chr [1:149] &quot;Como é que é? Peço só um minutinho, só um minutinho!  Senhor Presidente...  Eu acho que Vossa Excelência.. Nós &quot;| __truncated__ &quot;Quer dizer que há outros impedimentos a serem...  Acredito não ser o caso de VossaExcelência, mas o Estado de A&quot;| __truncated__ &quot;Presidente...  Presidente, qual a ordem?  Presidente, só para declinar a ordem, quem são?  Agora é a Eliziane? &quot;| __truncated__ &quot;Senhor Presidente, Senhora. e Senhor. Senadores, faço a presente questão de ordem, Senhor Presidente, desde log&quot;| __truncated__ ...</span></span></code></pre></div>
<p>Vemos que temos 42 senadores que falaram na CPI, mas alguns deles falaram pouco (a Senadora Daniella Ribeiro, por exemplo, disse duas palavras). Vamos restringir este número
<!-- Vamos restringir a apenas os 20 que mais falaram. -->
<!-- top <- arrange(senadores_falas, desc(N_palavras)) |> --></p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="excpi.html#cb290-1" aria-hidden="true" tabindex="-1"></a>sen.tfidf <span class="ot">&lt;-</span> senadores_falasJuntas <span class="sc">|&gt;</span></span>
<span id="cb290-2"><a href="excpi.html#cb290-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(<span class="fu">desc</span>(N_palavras)) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">25</span>) <span class="sc">|&gt;</span></span>
<span id="cb290-3"><a href="excpi.html#cb290-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># arrange(desc(N_palavras)) |&gt; head(20)</span></span>
<span id="cb290-4"><a href="excpi.html#cb290-4" aria-hidden="true" tabindex="-1"></a>        tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(</span>
<span id="cb290-5"><a href="excpi.html#cb290-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">output =</span> <span class="st">&#39;word&#39;</span>, </span>
<span id="cb290-6"><a href="excpi.html#cb290-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">token =</span> <span class="st">&#39;words&#39;</span>,  </span>
<span id="cb290-7"><a href="excpi.html#cb290-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">input =</span> falas,</span>
<span id="cb290-8"><a href="excpi.html#cb290-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">strip_punct =</span> T ) <span class="sc">|&gt;</span>  </span>
<span id="cb290-9"><a href="excpi.html#cb290-9" aria-hidden="true" tabindex="-1"></a>            dplyr<span class="sc">::</span><span class="fu">count</span>(nome, word, </span>
<span id="cb290-10"><a href="excpi.html#cb290-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="co"># contando os termos</span></span>
<span id="cb290-11"><a href="excpi.html#cb290-11" aria-hidden="true" tabindex="-1"></a>                tidytext<span class="sc">::</span><span class="fu">bind_tf_idf</span>(word, nome, n) <span class="sc">|&gt;</span></span>
<span id="cb290-12"><a href="excpi.html#cb290-12" aria-hidden="true" tabindex="-1"></a>                <span class="fu">arrange</span>(<span class="fu">desc</span>(tf_idf))</span>
<span id="cb290-13"><a href="excpi.html#cb290-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Se quiser conferir antes os nomes dos senadores selecionados</span></span>
<span id="cb290-14"><a href="excpi.html#cb290-14" aria-hidden="true" tabindex="-1"></a>senadorTfIdf <span class="ot">&lt;-</span> sen.tfidf<span class="sc">$</span>nome <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb290-15"><a href="excpi.html#cb290-15" aria-hidden="true" tabindex="-1"></a>senadorTfIdf</span>
<span id="cb290-16"><a href="excpi.html#cb290-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;Styvenson Valentim&quot;      &quot;Reguffe&quot;                </span></span>
<span id="cb290-17"><a href="excpi.html#cb290-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  [3] &quot;Angelo Coronel&quot;          &quot;Leila Barros&quot;           </span></span>
<span id="cb290-18"><a href="excpi.html#cb290-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;Izalci Lucas&quot;            &quot;Jorge Kajuru&quot;           </span></span>
<span id="cb290-19"><a href="excpi.html#cb290-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] &quot;Roberto Rocha&quot;           &quot;Soraya Thronicke&quot;       </span></span>
<span id="cb290-20"><a href="excpi.html#cb290-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;Zenaide Maia&quot;            &quot;Luis Carlos Heinze&quot;     </span></span>
<span id="cb290-21"><a href="excpi.html#cb290-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;Eliziane Gama&quot;           &quot;Omar Aziz&quot;              </span></span>
<span id="cb290-22"><a href="excpi.html#cb290-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;Simone Tebet&quot;            &quot;Jean Paul Prates&quot;       </span></span>
<span id="cb290-23"><a href="excpi.html#cb290-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [15] &quot;Fabiano Contarato&quot;       &quot;Otto Alencar&quot;           </span></span>
<span id="cb290-24"><a href="excpi.html#cb290-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;Eduardo Braga&quot;           &quot;Marcos do Val&quot;          </span></span>
<span id="cb290-25"><a href="excpi.html#cb290-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [19] &quot;Randolfe Rodrigues&quot;      &quot;Renan Calheiros&quot;        </span></span>
<span id="cb290-26"><a href="excpi.html#cb290-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;Jorginho Mello&quot;          &quot;Alessandro Vieira&quot;      </span></span>
<span id="cb290-27"><a href="excpi.html#cb290-27" aria-hidden="true" tabindex="-1"></a><span class="do">## [23] &quot;Tasso Jereissati&quot;        &quot;Fernando Bezerra Coelho&quot;</span></span>
<span id="cb290-28"><a href="excpi.html#cb290-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;Humberto Costa&quot;</span></span>
<span id="cb290-29"><a href="excpi.html#cb290-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb290-30"><a href="excpi.html#cb290-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Apenas as palavras de maior tf_idf de cada senador</span></span>
<span id="cb290-31"><a href="excpi.html#cb290-31" aria-hidden="true" tabindex="-1"></a><span class="co"># lembrando que já organizamos antes pelo tf-idf decrescente</span></span>
<span id="cb290-32"><a href="excpi.html#cb290-32" aria-hidden="true" tabindex="-1"></a>sen.tfidf.top <span class="ot">&lt;-</span> sen.tfidf <span class="sc">|&gt;</span> </span>
<span id="cb290-33"><a href="excpi.html#cb290-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(nome) <span class="sc">|&gt;</span> <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">7</span>)</span></code></pre></div>
<p>Para não bagunçar o gráfico, vamos colocar um conjunto de nomes de cada vez
<!-- nomes <- senadorTfIdf[20:29] --></p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="excpi.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Nomes de 1 a 9. </span></span>
<span id="cb291-2"><a href="excpi.html#cb291-2" aria-hidden="true" tabindex="-1"></a>nomes <span class="ot">&lt;-</span> senadorTfIdf[<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>]</span>
<span id="cb291-3"><a href="excpi.html#cb291-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb291-4"><a href="excpi.html#cb291-4" aria-hidden="true" tabindex="-1"></a><span class="co"># gerando o gráfico</span></span>
<span id="cb291-5"><a href="excpi.html#cb291-5" aria-hidden="true" tabindex="-1"></a>sen.tfidf.top <span class="sc">|&gt;</span> </span>
<span id="cb291-6"><a href="excpi.html#cb291-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(nome <span class="sc">%in%</span> nomes ) <span class="sc">|&gt;</span></span>
<span id="cb291-7"><a href="excpi.html#cb291-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder</span>(word, tf_idf), tf_idf, <span class="at">fill =</span> nome)) <span class="sc">+</span></span>
<span id="cb291-8"><a href="excpi.html#cb291-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">alpha =</span> .<span class="dv">8</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb291-9"><a href="excpi.html#cb291-9" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Palavras peculiares utilizadas&quot;</span>,</span>
<span id="cb291-10"><a href="excpi.html#cb291-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">subtitle =</span> <span class="st">&quot;tf-idf da fala dos senadores&quot;</span>,</span>
<span id="cb291-11"><a href="excpi.html#cb291-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">&quot;tf-idf&quot;</span>,</span>
<span id="cb291-12"><a href="excpi.html#cb291-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">caption =</span> <span class="st">&quot;Fonte: Notas Taquigráficas CPI da Pandemia</span><span class="sc">\n</span><span class="st">Elaboração: Alisson Soares&quot;</span>) <span class="sc">+</span></span>
<span id="cb291-13"><a href="excpi.html#cb291-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">facet_wrap</span>(<span class="sc">~</span>nome, <span class="at">ncol =</span> <span class="dv">3</span>, </span>
<span id="cb291-14"><a href="excpi.html#cb291-14" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># as escalas nos diferentes gráficos não terão a mesma proporção</span></span>
<span id="cb291-15"><a href="excpi.html#cb291-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb291-16"><a href="excpi.html#cb291-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_tf-idf-ggplot-1.png" width="672" /></p>
<!-- ### TF-IDF dos depoentes -->
</div>
<div id="dicionário" class="section level2 hasAnchor" number="14.11">
<h2><span class="header-section-number">14.11</span> Dicionário<a href="excpi.html#dicionário" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- ## Dicionário -->
<!-- ## Matrizes DTM DFM -->
<p>A conversão em matrizes e dessa para DTM é um passo intermediário crucial em diversas abordagens de análise textual, como TF-IDF e Topic Modeling.</p>
<p>Vamos gerar uma métrica de conceitos a partir de de dicionários de termos.
Para cada conceito, escolhi um conjunto de palavras. As categorias como as palavras destas foram escolhidas de modo rápido, não sistemático.
O vetor de vacinas foi comentado pois rodei previamente, os termos relacionados a vacina predominavam em todos os casos.</p>
<!-- Melhorar o gráfico: colocar proporcional e sem scales free  -->
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="excpi.html#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb292-2"><a href="excpi.html#cb292-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-3"><a href="excpi.html#cb292-3" aria-hidden="true" tabindex="-1"></a>cpi.corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(NT_falasJuntasCount, <span class="at">docid_field =</span> <span class="st">&quot;nome&quot;</span>, <span class="at">text_field =</span> <span class="st">&quot;falas&quot;</span>)</span>
<span id="cb292-4"><a href="excpi.html#cb292-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-5"><a href="excpi.html#cb292-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um Document Term Matrix</span></span>
<span id="cb292-6"><a href="excpi.html#cb292-6" aria-hidden="true" tabindex="-1"></a><span class="co"># o processo abaixo demora um pouco</span></span>
<span id="cb292-7"><a href="excpi.html#cb292-7" aria-hidden="true" tabindex="-1"></a>cpi.dfm <span class="ot">&lt;-</span> <span class="fu">tokens</span>(cpi.corpus, <span class="at">remove_punct =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb292-8"><a href="excpi.html#cb292-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb292-9"><a href="excpi.html#cb292-9" aria-hidden="true" tabindex="-1"></a>           <span class="fu">dfm_remove</span>(<span class="at">pattern =</span> SW )</span>
<span id="cb292-10"><a href="excpi.html#cb292-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># utilizando a lista de stopwords que criamos anteriormente</span></span>
<span id="cb292-11"><a href="excpi.html#cb292-11" aria-hidden="true" tabindex="-1"></a>           <span class="co">#tokens_select(pattern = SW, selection = &quot;remove&quot;)</span></span>
<span id="cb292-12"><a href="excpi.html#cb292-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-13"><a href="excpi.html#cb292-13" aria-hidden="true" tabindex="-1"></a>dict <span class="ot">&lt;-</span> <span class="fu">dictionary</span>(<span class="fu">list</span>(</span>
<span id="cb292-14"><a href="excpi.html#cb292-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">tratPre =</span> <span class="fu">c</span>(<span class="st">&quot;cloroquina&quot;</span>, <span class="st">&quot;ivermectina&quot;</span>, <span class="st">&quot;azitromicina&quot;</span>, <span class="st">&quot;Kit&quot;</span>, <span class="st">&quot;precoce&quot;</span>, <span class="st">&quot;ozônio&quot;</span>),</span>
<span id="cb292-15"><a href="excpi.html#cb292-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">tratPre.defensores =</span> <span class="fu">c</span>(<span class="st">&quot;Raoult&quot;</span>, <span class="st">&quot;Zelenko&quot;</span>, <span class="st">&quot;Yamagushi&quot;</span>, <span class="st">&quot;Zebalos&quot;</span>, <span class="st">&quot;Wong&quot;</span>, <span class="st">&quot;Zanotto&quot;</span>),</span>
<span id="cb292-16"><a href="excpi.html#cb292-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># vacinas = c(&quot;vacinas?&quot;, &quot;CoronaVac&quot;, &quot;Sinopharm&quot;, &quot;CanSino&quot;, &quot;Butantan&quot;, &quot;AstraZeneca&quot;, &quot;Oxford&quot;, &quot;Comirnaty&quot;, &quot;Bharat&quot;, &quot;BioTech&quot;, &quot;BioNTech&quot;, &quot;Pfizer&quot;, &quot;Janss?en&quot;, &quot;Johnson&quot;, &quot;Spikevax&quot;, &quot;Moderna&quot;, &quot;Sputnik&quot;, &quot;Gamaleya&quot;),</span></span>
<span id="cb292-17"><a href="excpi.html#cb292-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">corrupcao =</span> <span class="fu">c</span>(<span class="st">&quot;corrup.*&quot;</span>, <span class="st">&quot;propin.*&quot;</span>, <span class="st">&quot;superfatur.*&quot;</span>, <span class="st">&quot;prevaric.*&quot;</span>)))</span>
<span id="cb292-18"><a href="excpi.html#cb292-18" aria-hidden="true" tabindex="-1"></a><span class="co"># rodando nosso dicionário</span></span>
<span id="cb292-19"><a href="excpi.html#cb292-19" aria-hidden="true" tabindex="-1"></a>dict_dtm <span class="ot">&lt;-</span> <span class="fu">dfm_lookup</span>(cpi.dfm, </span>
<span id="cb292-20"><a href="excpi.html#cb292-20" aria-hidden="true" tabindex="-1"></a>                       <span class="at">dictionary =</span> dict, </span>
<span id="cb292-21"><a href="excpi.html#cb292-21" aria-hidden="true" tabindex="-1"></a>                       <span class="at">valuetype =</span> <span class="st">&quot;regex&quot;</span>,</span>
<span id="cb292-22"><a href="excpi.html#cb292-22" aria-hidden="true" tabindex="-1"></a>                       <span class="at">nomatch =</span> <span class="st">&quot;_unmatched&quot;</span>)</span>
<span id="cb292-23"><a href="excpi.html#cb292-23" aria-hidden="true" tabindex="-1"></a>                       <span class="co"># nomatch = &quot;semCorrespondencia&quot;)</span></span>
<span id="cb292-24"><a href="excpi.html#cb292-24" aria-hidden="true" tabindex="-1"></a><span class="co"># supondo que nosso dicionário seja minimamente bom</span></span>
<span id="cb292-25"><a href="excpi.html#cb292-25" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo o quanto senadores abordaram certos temas</span></span>
<span id="cb292-26"><a href="excpi.html#cb292-26" aria-hidden="true" tabindex="-1"></a>dict_dtm[<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>,]</span>
<span id="cb292-27"><a href="excpi.html#cb292-27" aria-hidden="true" tabindex="-1"></a><span class="do">## Document-feature matrix of: 6 documents, 4 features (8.33% sparse) and 1 docvar.</span></span>
<span id="cb292-28"><a href="excpi.html#cb292-28" aria-hidden="true" tabindex="-1"></a><span class="do">##                     features</span></span>
<span id="cb292-29"><a href="excpi.html#cb292-29" aria-hidden="true" tabindex="-1"></a><span class="do">## docs                 tratPre tratPre.defensores corrupcao _unmatched</span></span>
<span id="cb292-30"><a href="excpi.html#cb292-30" aria-hidden="true" tabindex="-1"></a><span class="do">##   Eduardo Girão          165                  0       159      61492</span></span>
<span id="cb292-31"><a href="excpi.html#cb292-31" aria-hidden="true" tabindex="-1"></a><span class="do">##   Humberto Costa         272                 11        60      56666</span></span>
<span id="cb292-32"><a href="excpi.html#cb292-32" aria-hidden="true" tabindex="-1"></a><span class="do">##   Simone Tebet            54                  0       125      51126</span></span>
<span id="cb292-33"><a href="excpi.html#cb292-33" aria-hidden="true" tabindex="-1"></a><span class="do">##   Eliziane Gama          141                  6        45      49696</span></span>
<span id="cb292-34"><a href="excpi.html#cb292-34" aria-hidden="true" tabindex="-1"></a><span class="do">##   Rogério Carvalho       188                  7        95      50018</span></span>
<span id="cb292-35"><a href="excpi.html#cb292-35" aria-hidden="true" tabindex="-1"></a><span class="do">##   Luis Carlos Heinze     357                 62        33      49758</span></span></code></pre></div>
<!-- rotulos2 <- c("Defensores trata. precoce" = "tratPre.defensores", "Trata. Precoce" = "tratPre", "Corrupção" = "corrupcao" ) -->
<p>Gerando um gráfico com o ggplot</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="excpi.html#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vamos renomear os labels com os seguintes rótulos, a ser usado no ggplot</span></span>
<span id="cb293-2"><a href="excpi.html#cb293-2" aria-hidden="true" tabindex="-1"></a>rotulos <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">&quot;Corrupção&quot;</span>, <span class="st">&quot;Trat. Precoce&quot;</span>, <span class="st">&quot;Defensores trat. precoce&quot;</span>)</span>
<span id="cb293-3"><a href="excpi.html#cb293-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb293-4"><a href="excpi.html#cb293-4" aria-hidden="true" tabindex="-1"></a><span class="co"># retirar a ultima coluna que não nos é útil</span></span>
<span id="cb293-5"><a href="excpi.html#cb293-5" aria-hidden="true" tabindex="-1"></a>dict.df  <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">convert</span>(dict_dtm[<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>,<span class="sc">-</span><span class="dv">5</span>], <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb293-6"><a href="excpi.html#cb293-6" aria-hidden="true" tabindex="-1"></a><span class="co"># dict.df  &lt;- as.dataframe(dict_dtm[1:15,-5]) %&gt;%</span></span>
<span id="cb293-7"><a href="excpi.html#cb293-7" aria-hidden="true" tabindex="-1"></a>        tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(., </span>
<span id="cb293-8"><a href="excpi.html#cb293-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">cols =</span> <span class="fu">names</span>(dict), </span>
<span id="cb293-9"><a href="excpi.html#cb293-9" aria-hidden="true" tabindex="-1"></a>                            <span class="at">values_to =</span> <span class="st">&quot;Valores&quot;</span>) </span>
<span id="cb293-10"><a href="excpi.html#cb293-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dict.df, <span class="fu">aes</span>(<span class="at">x =</span> name, <span class="at">y =</span> Valores, <span class="at">fill =</span> name ) ) <span class="sc">+</span></span>
<span id="cb293-11"><a href="excpi.html#cb293-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb293-12"><a href="excpi.html#cb293-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Dicionário/conceito&quot;</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb293-13"><a href="excpi.html#cb293-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">caption =</span> <span class="st">&quot;Elaboração: Alisson Soares</span></span>
<span id="cb293-14"><a href="excpi.html#cb293-14" aria-hidden="true" tabindex="-1"></a><span class="st">             Observação: Cada pessoa está em uma escala diferente.</span></span>
<span id="cb293-15"><a href="excpi.html#cb293-15" aria-hidden="true" tabindex="-1"></a><span class="st">             O gráfico não se trata de análise empírica, mas de demonstração das ferramentas de análise&quot;</span>,</span>
<span id="cb293-16"><a href="excpi.html#cb293-16" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">&quot;Temáticas:&quot;</span></span>
<span id="cb293-17"><a href="excpi.html#cb293-17" aria-hidden="true" tabindex="-1"></a>                ) <span class="sc">+</span></span>
<span id="cb293-18"><a href="excpi.html#cb293-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>, </span>
<span id="cb293-19"><a href="excpi.html#cb293-19" aria-hidden="true" tabindex="-1"></a>              <span class="at">text =</span> <span class="fu">element_text</span>(<span class="st">&quot;Temáticas:&quot;</span>)) <span class="sc">+</span></span>
<span id="cb293-20"><a href="excpi.html#cb293-20" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Mudando os nomes das variáveis na legenda:</span></span>
<span id="cb293-21"><a href="excpi.html#cb293-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_fill_discrete</span>(<span class="at">labels =</span> rotulos) <span class="sc">+</span></span>
<span id="cb293-22"><a href="excpi.html#cb293-22" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Retirar os rótulos:</span></span>
<span id="cb293-23"><a href="excpi.html#cb293-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb293-24"><a href="excpi.html#cb293-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">facet_wrap</span>(<span class="sc">~</span>doc_id, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb293-25"><a href="excpi.html#cb293-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># rotacionando o gráfico</span></span>
<span id="cb293-26"><a href="excpi.html#cb293-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_Quantedadict_ggplot-1.png" width="672" /></p>
<p>Vamos analisar com dicionário, mas agora longitudinalmente.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="excpi.html#cb294-1" aria-hidden="true" tabindex="-1"></a>NT.longitudinal <span class="ot">&lt;-</span> NotasTaq2 <span class="sc">%&gt;%</span> </span>
<span id="cb294-2"><a href="excpi.html#cb294-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(reuniao, data,) <span class="sc">%&gt;%</span></span>
<span id="cb294-3"><a href="excpi.html#cb294-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">falas =</span> <span class="fu">paste</span>(fala, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb294-4"><a href="excpi.html#cb294-4" aria-hidden="true" tabindex="-1"></a><span class="do">## `summarise()` has grouped output by &#39;reuniao&#39;. You can override using the</span></span>
<span id="cb294-5"><a href="excpi.html#cb294-5" aria-hidden="true" tabindex="-1"></a><span class="do">## `.groups` argument.</span></span>
<span id="cb294-6"><a href="excpi.html#cb294-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(NT.longitudinal)</span>
<span id="cb294-7"><a href="excpi.html#cb294-7" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 6 × 3</span></span>
<span id="cb294-8"><a href="excpi.html#cb294-8" aria-hidden="true" tabindex="-1"></a><span class="do">## # Groups:   reuniao [6]</span></span>
<span id="cb294-9"><a href="excpi.html#cb294-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   reuniao data       falas                                                      </span></span>
<span id="cb294-10"><a href="excpi.html#cb294-10" aria-hidden="true" tabindex="-1"></a><span class="do">##     &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;                                                      </span></span>
<span id="cb294-11"><a href="excpi.html#cb294-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 1       1 2021-04-27 &quot;Invocando a proteção de Deus, declaro aberta a sessão par…</span></span>
<span id="cb294-12"><a href="excpi.html#cb294-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 2       2 2021-04-29 &quot;Havendo número regimental, declaro aberta a 2ª Reunião da…</span></span>
<span id="cb294-13"><a href="excpi.html#cb294-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 3       3 2021-05-04 &quot;Bom dia. Havendo número regimental, declaro aberta a 3ª R…</span></span>
<span id="cb294-14"><a href="excpi.html#cb294-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 4       4 2021-05-05 &quot;Bom dia. Havendo número regimental, declaro aberta a 4ª R…</span></span>
<span id="cb294-15"><a href="excpi.html#cb294-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 5       5 2021-05-06 &quot;Bom dia! Havendo número regimental, declaro aberta a 5ª R…</span></span>
<span id="cb294-16"><a href="excpi.html#cb294-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 6       6 2021-05-11 &quot;Havendo número regimental, declaro aberta a 6ª Reunião da…</span></span></code></pre></div>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="excpi.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criando corpus</span></span>
<span id="cb295-2"><a href="excpi.html#cb295-2" aria-hidden="true" tabindex="-1"></a>corpus.longi <span class="ot">&lt;-</span> <span class="fu">corpus</span>(NT.longitudinal, <span class="at">docid_field =</span> <span class="st">&quot;data&quot;</span>, <span class="at">text_field =</span> <span class="st">&quot;falas&quot;</span>)</span>
<span id="cb295-3"><a href="excpi.html#cb295-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb295-4"><a href="excpi.html#cb295-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um Document Term Matrix</span></span>
<span id="cb295-5"><a href="excpi.html#cb295-5" aria-hidden="true" tabindex="-1"></a><span class="co"># o processo abaixo demora um pouco</span></span>
<span id="cb295-6"><a href="excpi.html#cb295-6" aria-hidden="true" tabindex="-1"></a>dfm.longi <span class="ot">&lt;-</span> <span class="fu">tokens</span>(corpus.longi , <span class="at">remove_punct =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb295-7"><a href="excpi.html#cb295-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb295-8"><a href="excpi.html#cb295-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># retirando stopwords que criamos anteriormente</span></span>
<span id="cb295-9"><a href="excpi.html#cb295-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_remove</span>(<span class="at">pattern =</span> SW )</span>
<span id="cb295-10"><a href="excpi.html#cb295-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb295-11"><a href="excpi.html#cb295-11" aria-hidden="true" tabindex="-1"></a>dict <span class="ot">&lt;-</span> <span class="fu">dictionary</span>(<span class="fu">list</span>(</span>
<span id="cb295-12"><a href="excpi.html#cb295-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">tratPre =</span> <span class="fu">c</span>(<span class="st">&quot;cloroquina&quot;</span>, <span class="st">&quot;ivermectina&quot;</span>, <span class="st">&quot;azitromicina&quot;</span>, <span class="st">&quot;Kit&quot;</span>, <span class="st">&quot;precoce&quot;</span>, <span class="st">&quot;ozônio&quot;</span>),</span>
<span id="cb295-13"><a href="excpi.html#cb295-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">tratPre.defensores =</span> <span class="fu">c</span>(<span class="st">&quot;Raoult&quot;</span>, <span class="st">&quot;Zelen[ck]o&quot;</span>, <span class="st">&quot;Yamagushi&quot;</span>, <span class="st">&quot;Zebalos&quot;</span>, <span class="st">&quot;Wong&quot;</span>, <span class="st">&quot;Zanotto&quot;</span>),</span>
<span id="cb295-14"><a href="excpi.html#cb295-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">vacinas =</span> <span class="fu">c</span>(<span class="st">&quot;vacinas?&quot;</span>, <span class="st">&quot;CoronaVac&quot;</span>, <span class="st">&quot;Butantan&quot;</span>, <span class="st">&quot;AstraZeneca&quot;</span>, <span class="st">&quot;Oxford&quot;</span>, <span class="st">&quot;Comirnaty&quot;</span>, <span class="st">&quot;BioNTech&quot;</span>, <span class="st">&quot;Pfizer&quot;</span>, <span class="st">&quot;Janss?en&quot;</span>, <span class="st">&quot;Johnson&quot;</span>, <span class="st">&quot;Spikevax&quot;</span>, <span class="st">&quot;Moderna&quot;</span>, <span class="st">&quot;Sputnik&quot;</span>, <span class="st">&quot;Gamaleya&quot;</span>),</span>
<span id="cb295-15"><a href="excpi.html#cb295-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">corrupcao =</span> <span class="fu">c</span>(<span class="st">&quot;corrup.*&quot;</span>, <span class="st">&quot;propin.*&quot;</span>, <span class="st">&quot;superfatur.*&quot;</span>, <span class="st">&quot;prevaric.*&quot;</span>, <span class="st">&quot;crim[ei].*&quot;</span>, <span class="st">&quot;fraud.*&quot;</span>, <span class="st">&quot;lava[ng].*&quot;</span>)))</span>
<span id="cb295-16"><a href="excpi.html#cb295-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb295-17"><a href="excpi.html#cb295-17" aria-hidden="true" tabindex="-1"></a><span class="co"># rodando nosso dicionário</span></span>
<span id="cb295-18"><a href="excpi.html#cb295-18" aria-hidden="true" tabindex="-1"></a>dict_dtm <span class="ot">&lt;-</span> <span class="fu">dfm_lookup</span>(dfm.longi, </span>
<span id="cb295-19"><a href="excpi.html#cb295-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">dictionary =</span> dict, </span>
<span id="cb295-20"><a href="excpi.html#cb295-20" aria-hidden="true" tabindex="-1"></a>                       <span class="at">valuetype =</span> <span class="st">&quot;regex&quot;</span>,</span>
<span id="cb295-21"><a href="excpi.html#cb295-21" aria-hidden="true" tabindex="-1"></a>                       <span class="co">#nomatch = &quot;_unmatched&quot;)</span></span>
<span id="cb295-22"><a href="excpi.html#cb295-22" aria-hidden="true" tabindex="-1"></a>                       <span class="at">nomatch =</span> <span class="st">&quot;_semCorrespondencia&quot;</span>)</span>
<span id="cb295-23"><a href="excpi.html#cb295-23" aria-hidden="true" tabindex="-1"></a><span class="co"># supondo que nosso dicionário seja minimamente bom, vejamos:</span></span>
<span id="cb295-24"><a href="excpi.html#cb295-24" aria-hidden="true" tabindex="-1"></a>dict_dtm[<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>,]</span>
<span id="cb295-25"><a href="excpi.html#cb295-25" aria-hidden="true" tabindex="-1"></a><span class="do">## Document-feature matrix of: 6 documents, 5 features (6.67% sparse) and 1 docvar.</span></span>
<span id="cb295-26"><a href="excpi.html#cb295-26" aria-hidden="true" tabindex="-1"></a><span class="do">##             features</span></span>
<span id="cb295-27"><a href="excpi.html#cb295-27" aria-hidden="true" tabindex="-1"></a><span class="do">## docs         tratPre tratPre.defensores vacinas corrupcao _semCorrespondencia</span></span>
<span id="cb295-28"><a href="excpi.html#cb295-28" aria-hidden="true" tabindex="-1"></a><span class="do">##   2021-05-06     210                  1     450        24               34576</span></span>
<span id="cb295-29"><a href="excpi.html#cb295-29" aria-hidden="true" tabindex="-1"></a><span class="do">##   2021-05-11      85                  0     500        19               24044</span></span>
<span id="cb295-30"><a href="excpi.html#cb295-30" aria-hidden="true" tabindex="-1"></a><span class="do">##   2021-05-12      43                  0     501        26               33213</span></span>
<span id="cb295-31"><a href="excpi.html#cb295-31" aria-hidden="true" tabindex="-1"></a><span class="do">##   2021-05-13      13                  1     695        17               22543</span></span>
<span id="cb295-32"><a href="excpi.html#cb295-32" aria-hidden="true" tabindex="-1"></a><span class="do">##   2021-05-18      70                  6     382        60               29226</span></span>
<span id="cb295-33"><a href="excpi.html#cb295-33" aria-hidden="true" tabindex="-1"></a><span class="do">##   2021-05-19     100                  1     158        14               23438</span></span></code></pre></div>
<p>Criando um ggplot</p>
<!-- # dict.df  <- quanteda::convert(dict_dtm, to = "data.frame") %>% -->
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="excpi.html#cb296-1" aria-hidden="true" tabindex="-1"></a>dict.df  <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dict_dtm) <span class="sc">%&gt;%</span></span>
<span id="cb296-2"><a href="excpi.html#cb296-2" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(., </span>
<span id="cb296-3"><a href="excpi.html#cb296-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cols =</span> <span class="fu">names</span>(dict), </span>
<span id="cb296-4"><a href="excpi.html#cb296-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">values_to =</span> <span class="st">&quot;Valores&quot;</span>) </span>
<span id="cb296-5"><a href="excpi.html#cb296-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning: &#39;as.data.frame.dfm&#39; é obsoleto.</span></span>
<span id="cb296-6"><a href="excpi.html#cb296-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Use &#39;convert(x, to = &quot;data.frame&quot;)&#39; em seu lugar</span></span>
<span id="cb296-7"><a href="excpi.html#cb296-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Veja help(&quot;Deprecated&quot;)</span></span>
<span id="cb296-8"><a href="excpi.html#cb296-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-9"><a href="excpi.html#cb296-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dict.df, <span class="fu">aes</span>(<span class="at">x =</span> doc_id, <span class="at">y =</span> Valores, <span class="at">fill =</span> name ) ) <span class="sc">+</span></span>
<span id="cb296-10"><a href="excpi.html#cb296-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb296-11"><a href="excpi.html#cb296-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Dicionário/conceito&quot;</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb296-12"><a href="excpi.html#cb296-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Elaboração: Alisson Soares</span><span class="sc">\n</span><span class="st">O gráfico não se trata de análise empírica, mas de demonstração das ferramentas de análise&quot;</span>) <span class="sc">+</span> </span>
<span id="cb296-13"><a href="excpi.html#cb296-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>, <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_ggplot_col_longitudinal-1.png" width="672" /></p>
<p>E os mesmos dados, mas em gráfico de linhas:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="excpi.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dict.df, <span class="fu">aes</span>(<span class="at">x =</span> doc_id, <span class="at">y =</span> Valores) ) <span class="sc">+</span></span>
<span id="cb297-2"><a href="excpi.html#cb297-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group=</span>name,</span>
<span id="cb297-3"><a href="excpi.html#cb297-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">color=</span><span class="fu">as.factor</span>(name), </span>
<span id="cb297-4"><a href="excpi.html#cb297-4" aria-hidden="true" tabindex="-1"></a>                )) <span class="sc">+</span></span>
<span id="cb297-5"><a href="excpi.html#cb297-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">group=</span>name,</span>
<span id="cb297-6"><a href="excpi.html#cb297-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">color=</span><span class="fu">as.factor</span>(name))) <span class="sc">+</span></span>
<span id="cb297-7"><a href="excpi.html#cb297-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Dicionário/conceito&quot;</span>, <span class="at">subtitle =</span> <span class="st">&quot;Frequência absoluta de termos relacionados às categorias&quot;</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb297-8"><a href="excpi.html#cb297-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Elaboração: Alisson Soares</span><span class="sc">\n</span><span class="st">O gráfico não se trata de análise empírica, mas de demonstração das ferramentas de análise&quot;</span>, <span class="at">fill=</span><span class="st">&quot;Conceito&quot;</span>) <span class="sc">+</span> </span>
<span id="cb297-9"><a href="excpi.html#cb297-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>, <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_ggplot_line_longitudinal-1.png" width="672" /></p>
</div>
<div id="exCpi_coocorrencia" class="section level2 hasAnchor" number="14.12">
<h2><span class="header-section-number">14.12</span> Análise de coocorrência<a href="excpi.html#exCpi_coocorrencia" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Ao utilizar dicionário, sempre há o perigo de não usarmos os termos mais adequados. Podemos incorporar termos pouco relevantes e deixar de lado termos importantes. Um modo de lidar com este problema se dá com análise de coocorrência de termos.
Com a função <code>widyr::pairwise_count</code> vamos contar o número de vezes que cada par de termos aparecem por pessoa.
A análise de coocorrência pode multiplicar nossos problemas, uma vez que pode gerar tabela gigantesca e com isto o processamento pode ficar extremamente lento.
Para se ter uma ideia, fazer análise de coocorrência de um senador de nosso dataframe pode gerar um tibble de quase 200 milhões de coocorrências.
Teremos de criar um pipe de comandos especial para este tipo de análise</p>
<!-- totasTaq_falas.agrupadas  -->
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="excpi.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenizando por sentença      </span></span>
<span id="cb298-2"><a href="excpi.html#cb298-2" aria-hidden="true" tabindex="-1"></a>senadores_tokens <span class="ot">&lt;-</span> senadores_falasJuntas <span class="sc">|&gt;</span> </span>
<span id="cb298-3"><a href="excpi.html#cb298-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(nome, falas) <span class="sc">|&gt;</span></span>
<span id="cb298-4"><a href="excpi.html#cb298-4" aria-hidden="true" tabindex="-1"></a>        tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(palavras, falas, <span class="at">token =</span> <span class="st">&quot;sentences&quot;</span>)</span>
<span id="cb298-5"><a href="excpi.html#cb298-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-6"><a href="excpi.html#cb298-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando sentenças com termos que nos interessam</span></span>
<span id="cb298-7"><a href="excpi.html#cb298-7" aria-hidden="true" tabindex="-1"></a><span class="co"># termos &lt;- &quot;vacin|corrup&quot;</span></span>
<span id="cb298-8"><a href="excpi.html#cb298-8" aria-hidden="true" tabindex="-1"></a>termos <span class="ot">&lt;-</span> <span class="st">&quot;corrup&quot;</span></span>
<span id="cb298-9"><a href="excpi.html#cb298-9" aria-hidden="true" tabindex="-1"></a>senadores_tokens2 <span class="ot">&lt;-</span>  senadores_tokens <span class="sc">%&gt;%</span> </span>
<span id="cb298-10"><a href="excpi.html#cb298-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(<span class="fu">grepl</span>(termos, .<span class="sc">$</span>palavras))</span>
<span id="cb298-11"><a href="excpi.html#cb298-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-12"><a href="excpi.html#cb298-12" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenizar novamente, desta vez por palavra</span></span>
<span id="cb298-13"><a href="excpi.html#cb298-13" aria-hidden="true" tabindex="-1"></a>senadores_tokens3 <span class="ot">&lt;-</span> senadores_tokens2 <span class="sc">|&gt;</span></span>
<span id="cb298-14"><a href="excpi.html#cb298-14" aria-hidden="true" tabindex="-1"></a>        tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(words, palavras) <span class="sc">|&gt;</span></span>
<span id="cb298-15"><a href="excpi.html#cb298-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">anti_join</span>(SW.df) <span class="co"># retirar stopwords</span></span>
<span id="cb298-16"><a href="excpi.html#cb298-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Joining, by = &quot;words&quot;</span></span>
<span id="cb298-17"><a href="excpi.html#cb298-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-18"><a href="excpi.html#cb298-18" aria-hidden="true" tabindex="-1"></a>cooc_pessoa <span class="ot">&lt;-</span> senadores_tokens3 <span class="sc">|&gt;</span> </span>
<span id="cb298-19"><a href="excpi.html#cb298-19" aria-hidden="true" tabindex="-1"></a>        widyr<span class="sc">::</span><span class="fu">pairwise_count</span>(words, nome, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb298-20"><a href="excpi.html#cb298-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(<span class="sc">-</span>n)</span>
<span id="cb298-21"><a href="excpi.html#cb298-21" aria-hidden="true" tabindex="-1"></a><span class="do">## Warning: `distinct_()` was deprecated in dplyr 0.7.0.</span></span>
<span id="cb298-22"><a href="excpi.html#cb298-22" aria-hidden="true" tabindex="-1"></a><span class="do">## Please use `distinct()` instead.</span></span>
<span id="cb298-23"><a href="excpi.html#cb298-23" aria-hidden="true" tabindex="-1"></a><span class="do">## See vignette(&#39;programming&#39;) for more help</span></span>
<span id="cb298-24"><a href="excpi.html#cb298-24" aria-hidden="true" tabindex="-1"></a><span class="do">## This warning is displayed once every 8 hours.</span></span>
<span id="cb298-25"><a href="excpi.html#cb298-25" aria-hidden="true" tabindex="-1"></a><span class="do">## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</span></span>
<span id="cb298-26"><a href="excpi.html#cb298-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-27"><a href="excpi.html#cb298-27" aria-hidden="true" tabindex="-1"></a><span class="co"># arrange(cooc_pessoa, -n)</span></span>
<span id="cb298-28"><a href="excpi.html#cb298-28" aria-hidden="true" tabindex="-1"></a>filtrado <span class="ot">&lt;-</span> cooc_pessoa <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">grepl</span>(termos, .<span class="sc">$</span>item1))</span>
<span id="cb298-29"><a href="excpi.html#cb298-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-30"><a href="excpi.html#cb298-30" aria-hidden="true" tabindex="-1"></a><span class="co"># termos buscados e respectiva frequência</span></span>
<span id="cb298-31"><a href="excpi.html#cb298-31" aria-hidden="true" tabindex="-1"></a>termos.encontrados <span class="ot">&lt;-</span> filtrado<span class="sc">$</span>item1 <span class="sc">%&gt;%</span> plyr<span class="sc">::</span><span class="fu">count</span>() <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="sc">-</span>freq)</span>
<span id="cb298-32"><a href="excpi.html#cb298-32" aria-hidden="true" tabindex="-1"></a>termos.encontrados</span>
<span id="cb298-33"><a href="excpi.html#cb298-33" aria-hidden="true" tabindex="-1"></a><span class="do">##               x freq</span></span>
<span id="cb298-34"><a href="excpi.html#cb298-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 1     corrupção 2564</span></span>
<span id="cb298-35"><a href="excpi.html#cb298-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 2      corrupto 1604</span></span>
<span id="cb298-36"><a href="excpi.html#cb298-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 3     corruptos  731</span></span>
<span id="cb298-37"><a href="excpi.html#cb298-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 4     corruptas  604</span></span>
<span id="cb298-38"><a href="excpi.html#cb298-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 5   corruptores  588</span></span>
<span id="cb298-39"><a href="excpi.html#cb298-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 anticorrupção  344</span></span>
<span id="cb298-40"><a href="excpi.html#cb298-40" aria-hidden="true" tabindex="-1"></a><span class="do">## 7      corrupta  281</span></span>
<span id="cb298-41"><a href="excpi.html#cb298-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-42"><a href="excpi.html#cb298-42" aria-hidden="true" tabindex="-1"></a><span class="co"># examinando os termos mais frequentes correlacionados aos termos buscado  </span></span>
<span id="cb298-43"><a href="excpi.html#cb298-43" aria-hidden="true" tabindex="-1"></a>filtrado<span class="sc">$</span>item2[<span class="dv">1</span><span class="sc">:</span><span class="dv">150</span>]</span>
<span id="cb298-44"><a href="excpi.html#cb298-44" aria-hidden="true" tabindex="-1"></a><span class="do">##   [1] &quot;presidente&quot;        &quot;senhor&quot;            &quot;governo&quot;          </span></span>
<span id="cb298-45"><a href="excpi.html#cb298-45" aria-hidden="true" tabindex="-1"></a><span class="do">##   [4] &quot;cpi&quot;               &quot;gente&quot;             &quot;ministério&quot;       </span></span>
<span id="cb298-46"><a href="excpi.html#cb298-46" aria-hidden="true" tabindex="-1"></a><span class="do">##   [7] &quot;federal&quot;           &quot;pessoas&quot;           &quot;brasil&quot;           </span></span>
<span id="cb298-47"><a href="excpi.html#cb298-47" aria-hidden="true" tabindex="-1"></a><span class="do">##  [10] &quot;todos&quot;             &quot;dinheiro&quot;          &quot;senador&quot;          </span></span>
<span id="cb298-48"><a href="excpi.html#cb298-48" aria-hidden="true" tabindex="-1"></a><span class="do">##  [13] &quot;bolsonaro&quot;         &quot;saúde&quot;             &quot;pode&quot;             </span></span>
<span id="cb298-49"><a href="excpi.html#cb298-49" aria-hidden="true" tabindex="-1"></a><span class="do">##  [16] &quot;hoje&quot;              &quot;vacina&quot;            &quot;pandemia&quot;         </span></span>
<span id="cb298-50"><a href="excpi.html#cb298-50" aria-hidden="true" tabindex="-1"></a><span class="do">##  [19] &quot;sobre&quot;             &quot;disse&quot;             &quot;aí&quot;               </span></span>
<span id="cb298-51"><a href="excpi.html#cb298-51" aria-hidden="true" tabindex="-1"></a><span class="do">##  [22] &quot;ter&quot;               &quot;agora&quot;             &quot;ainda&quot;            </span></span>
<span id="cb298-52"><a href="excpi.html#cb298-52" aria-hidden="true" tabindex="-1"></a><span class="do">##  [25] &quot;momento&quot;           &quot;brasileiros&quot;       &quot;crime&quot;            </span></span>
<span id="cb298-53"><a href="excpi.html#cb298-53" aria-hidden="true" tabindex="-1"></a><span class="do">##  [28] &quot;ser&quot;               &quot;esquema&quot;           &quot;combate&quot;          </span></span>
<span id="cb298-54"><a href="excpi.html#cb298-54" aria-hidden="true" tabindex="-1"></a><span class="do">##  [31] &quot;público&quot;           &quot;caso&quot;              &quot;todo&quot;             </span></span>
<span id="cb298-55"><a href="excpi.html#cb298-55" aria-hidden="true" tabindex="-1"></a><span class="do">##  [34] &quot;contra&quot;            &quot;passiva&quot;           &quot;forma&quot;            </span></span>
<span id="cb298-56"><a href="excpi.html#cb298-56" aria-hidden="true" tabindex="-1"></a><span class="do">##  [37] &quot;ativa&quot;             &quot;qualquer&quot;          &quot;corrupção&quot;        </span></span>
<span id="cb298-57"><a href="excpi.html#cb298-57" aria-hidden="true" tabindex="-1"></a><span class="do">##  [40] &quot;coisa&quot;             &quot;recursos&quot;          &quot;dentro&quot;           </span></span>
<span id="cb298-58"><a href="excpi.html#cb298-58" aria-hidden="true" tabindex="-1"></a><span class="do">##  [43] &quot;fazer&quot;             &quot;corrupto&quot;          &quot;dizer&quot;            </span></span>
<span id="cb298-59"><a href="excpi.html#cb298-59" aria-hidden="true" tabindex="-1"></a><span class="do">##  [46] &quot;dessas&quot;            &quot;responsabilidade&quot;  &quot;gente&quot;            </span></span>
<span id="cb298-60"><a href="excpi.html#cb298-60" aria-hidden="true" tabindex="-1"></a><span class="do">##  [49] &quot;indícios&quot;          &quot;presidente&quot;        &quot;brasileiro&quot;       </span></span>
<span id="cb298-61"><a href="excpi.html#cb298-61" aria-hidden="true" tabindex="-1"></a><span class="do">##  [52] &quot;desta&quot;             &quot;meio&quot;              &quot;neste&quot;            </span></span>
<span id="cb298-62"><a href="excpi.html#cb298-62" aria-hidden="true" tabindex="-1"></a><span class="do">##  [55] &quot;vacinas&quot;           &quot;tudo&quot;              &quot;senadores&quot;        </span></span>
<span id="cb298-63"><a href="excpi.html#cb298-63" aria-hidden="true" tabindex="-1"></a><span class="do">##  [58] &quot;falar&quot;             &quot;todas&quot;             &quot;investigação&quot;     </span></span>
<span id="cb298-64"><a href="excpi.html#cb298-64" aria-hidden="true" tabindex="-1"></a><span class="do">##  [61] &quot;desvio&quot;            &quot;senhor&quot;            &quot;vossa&quot;            </span></span>
<span id="cb298-65"><a href="excpi.html#cb298-65" aria-hidden="true" tabindex="-1"></a><span class="do">##  [64] &quot;excelência&quot;        &quot;fazendo&quot;           &quot;desse&quot;            </span></span>
<span id="cb298-66"><a href="excpi.html#cb298-66" aria-hidden="true" tabindex="-1"></a><span class="do">##  [67] &quot;governo&quot;           &quot;anos&quot;              &quot;administrativa&quot;   </span></span>
<span id="cb298-67"><a href="excpi.html#cb298-67" aria-hidden="true" tabindex="-1"></a><span class="do">##  [70] &quot;vamos&quot;             &quot;casos&quot;             &quot;lá&quot;               </span></span>
<span id="cb298-68"><a href="excpi.html#cb298-68" aria-hidden="true" tabindex="-1"></a><span class="do">##  [73] &quot;verdade&quot;           &quot;toda&quot;              &quot;denúncia&quot;         </span></span>
<span id="cb298-69"><a href="excpi.html#cb298-69" aria-hidden="true" tabindex="-1"></a><span class="do">##  [76] &quot;infelizmente&quot;      &quot;precisa&quot;           &quot;comissão&quot;         </span></span>
<span id="cb298-70"><a href="excpi.html#cb298-70" aria-hidden="true" tabindex="-1"></a><span class="do">##  [79] &quot;república&quot;         &quot;ministro&quot;          &quot;tentativa&quot;        </span></span>
<span id="cb298-71"><a href="excpi.html#cb298-71" aria-hidden="true" tabindex="-1"></a><span class="do">##  [82] &quot;acho&quot;              &quot;partigo&quot;           &quot;dessa&quot;            </span></span>
<span id="cb298-72"><a href="excpi.html#cb298-72" aria-hidden="true" tabindex="-1"></a><span class="do">##  [85] &quot;relação&quot;           &quot;empresa&quot;           &quot;nenhuma&quot;          </span></span>
<span id="cb298-73"><a href="excpi.html#cb298-73" aria-hidden="true" tabindex="-1"></a><span class="do">##  [88] &quot;crimes&quot;            &quot;maior&quot;             &quot;públicos&quot;         </span></span>
<span id="cb298-74"><a href="excpi.html#cb298-74" aria-hidden="true" tabindex="-1"></a><span class="do">##  [91] &quot;outro&quot;             &quot;processo&quot;          &quot;senador&quot;          </span></span>
<span id="cb298-75"><a href="excpi.html#cb298-75" aria-hidden="true" tabindex="-1"></a><span class="do">##  [94] &quot;vezes&quot;             &quot;girão&quot;             &quot;disse&quot;            </span></span>
<span id="cb298-76"><a href="excpi.html#cb298-76" aria-hidden="true" tabindex="-1"></a><span class="do">##  [97] &quot;deputado&quot;          &quot;nome&quot;              &quot;tipo&quot;             </span></span>
<span id="cb298-77"><a href="excpi.html#cb298-77" aria-hidden="true" tabindex="-1"></a><span class="do">## [100] &quot;pode&quot;              &quot;inclusive&quot;         &quot;faz&quot;              </span></span>
<span id="cb298-78"><a href="excpi.html#cb298-78" aria-hidden="true" tabindex="-1"></a><span class="do">## [103] &quot;relator&quot;           &quot;renan&quot;             &quot;estado&quot;           </span></span>
<span id="cb298-79"><a href="excpi.html#cb298-79" aria-hidden="true" tabindex="-1"></a><span class="do">## [106] &quot;hoje&quot;              &quot;brasileira&quot;        &quot;lá&quot;               </span></span>
<span id="cb298-80"><a href="excpi.html#cb298-80" aria-hidden="true" tabindex="-1"></a><span class="do">## [109] &quot;ministério&quot;        &quot;incompetência&quot;     &quot;ainda&quot;            </span></span>
<span id="cb298-81"><a href="excpi.html#cb298-81" aria-hidden="true" tabindex="-1"></a><span class="do">## [112] &quot;lavagem&quot;           &quot;importante&quot;        &quot;cada&quot;             </span></span>
<span id="cb298-82"><a href="excpi.html#cb298-82" aria-hidden="true" tabindex="-1"></a><span class="do">## [115] &quot;dias&quot;              &quot;fatos&quot;             &quot;menos&quot;            </span></span>
<span id="cb298-83"><a href="excpi.html#cb298-83" aria-hidden="true" tabindex="-1"></a><span class="do">## [118] &quot;covaxin&quot;           &quot;nesse&quot;             &quot;alguém&quot;           </span></span>
<span id="cb298-84"><a href="excpi.html#cb298-84" aria-hidden="true" tabindex="-1"></a><span class="do">## [121] &quot;miranda&quot;           &quot;ver&quot;               &quot;compra&quot;           </span></span>
<span id="cb298-85"><a href="excpi.html#cb298-85" aria-hidden="true" tabindex="-1"></a><span class="do">## [124] &quot;vossassa_senhoria&quot; &quot;esquema&quot;           &quot;país&quot;             </span></span>
<span id="cb298-86"><a href="excpi.html#cb298-86" aria-hidden="true" tabindex="-1"></a><span class="do">## [127] &quot;exemplo&quot;           &quot;polícia&quot;           &quot;milhões&quot;          </span></span>
<span id="cb298-87"><a href="excpi.html#cb298-87" aria-hidden="true" tabindex="-1"></a><span class="do">## [130] &quot;grande&quot;            &quot;área&quot;              &quot;us&quot;               </span></span>
<span id="cb298-88"><a href="excpi.html#cb298-88" aria-hidden="true" tabindex="-1"></a><span class="do">## [133] &quot;além&quot;              &quot;nessa&quot;             &quot;tempo&quot;            </span></span>
<span id="cb298-89"><a href="excpi.html#cb298-89" aria-hidden="true" tabindex="-1"></a><span class="do">## [136] &quot;questão&quot;           &quot;algo&quot;              &quot;claro&quot;            </span></span>
<span id="cb298-90"><a href="excpi.html#cb298-90" aria-hidden="true" tabindex="-1"></a><span class="do">## [139] &quot;fraude&quot;            &quot;apenas&quot;            &quot;assim&quot;            </span></span>
<span id="cb298-91"><a href="excpi.html#cb298-91" aria-hidden="true" tabindex="-1"></a><span class="do">## [142] &quot;seguinte&quot;          &quot;investigação&quot;      &quot;fazer&quot;            </span></span>
<span id="cb298-92"><a href="excpi.html#cb298-92" aria-hidden="true" tabindex="-1"></a><span class="do">## [145] &quot;pessoas&quot;           &quot;vossa&quot;             &quot;excelência&quot;       </span></span>
<span id="cb298-93"><a href="excpi.html#cb298-93" aria-hidden="true" tabindex="-1"></a><span class="do">## [148] &quot;brasil&quot;            &quot;dizer&quot;             &quot;bem&quot;</span></span></code></pre></div>
<p>Podemos utilizar esta busca de termos que co ocorreram com termos relacionados à corrupção (ou outros termos de preferência), para com isto encontrar termos novos relacionados a esta temática, que não constam no dicionário que usamos anteriormente.</p>
<!-- ```{r udpipe-cooc, collapse = TRUE, cache = TRUE} -->
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="excpi.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(udpipe)</span>
<span id="cb299-2"><a href="excpi.html#cb299-2" aria-hidden="true" tabindex="-1"></a>valor_skipgram <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb299-3"><a href="excpi.html#cb299-3" aria-hidden="true" tabindex="-1"></a>cooc_pessoas <span class="ot">&lt;-</span> udpipe<span class="sc">::</span><span class="fu">cooccurrence</span>(senadores_tokens3, </span>
<span id="cb299-4"><a href="excpi.html#cb299-4" aria-hidden="true" tabindex="-1"></a>                     <span class="co"># group: nome da coluna com &quot;id&quot;</span></span>
<span id="cb299-5"><a href="excpi.html#cb299-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">group =</span> <span class="st">&quot;nome&quot;</span>, </span>
<span id="cb299-6"><a href="excpi.html#cb299-6" aria-hidden="true" tabindex="-1"></a>                     <span class="co"># term: coluna com palavras a serem contadas</span></span>
<span id="cb299-7"><a href="excpi.html#cb299-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">term =</span> <span class="st">&quot;words&quot;</span>, </span>
<span id="cb299-8"><a href="excpi.html#cb299-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">skipgram =</span> valor_skipgram ) </span>
<span id="cb299-9"><a href="excpi.html#cb299-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-10"><a href="excpi.html#cb299-10" aria-hidden="true" tabindex="-1"></a>cooc.corrup <span class="ot">&lt;-</span> cooc_pessoas <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">&quot;corrup&quot;</span>, .<span class="sc">$</span>term1))</span>
<span id="cb299-11"><a href="excpi.html#cb299-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-12"><a href="excpi.html#cb299-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-13"><a href="excpi.html#cb299-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-14"><a href="excpi.html#cb299-14" aria-hidden="true" tabindex="-1"></a>cooc.corrup[<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>,] <span class="sc">|&gt;</span> <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>item2, <span class="at">y=</span>n))<span class="sc">+</span></span>
<span id="cb299-15"><a href="excpi.html#cb299-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb299-16"><a href="excpi.html#cb299-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># rotacionando o gráfico</span></span>
<span id="cb299-17"><a href="excpi.html#cb299-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>()</span>
<span id="cb299-18"><a href="excpi.html#cb299-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Palavras que coocorreram com termo &quot;corrupção&quot;&#39;</span>)</span>
<span id="cb299-19"><a href="excpi.html#cb299-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-20"><a href="excpi.html#cb299-20" aria-hidden="true" tabindex="-1"></a>ggraph<span class="sc">::</span><span class="fu">ggraph</span>(cooc.corrup[<span class="dv">1</span><span class="sc">:</span><span class="dv">70</span>,]  , <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb299-21"><a href="excpi.html#cb299-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> n, <span class="at">edge_alpha =</span> n), <span class="at">edge_colour =</span> <span class="st">&quot;lightskyblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb299-22"><a href="excpi.html#cb299-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">col =</span> <span class="st">&quot;darkgreen&quot;</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code></pre></div>
</div>
<div id="modelagem-de-tópicos" class="section level2 hasAnchor" number="14.13">
<h2><span class="header-section-number">14.13</span> Modelagem de tópicos<a href="excpi.html#modelagem-de-tópicos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A modelagem de tópicos pode demorar, dependendo das configurações de sua máquina e do tamanho do seu corpus a ser processado.
A função <code>pryr::object_size(par_dtm)</code> nos retornou que nosso objeto possui 7,6 Mb de tamanho, ou 7.3 Mb de tamanho sem as stopwords.
Usando a função <code>system.time(funcao)</code> é possível medir o tempo gasto por determinada tarefa.
Assim, um computador i5 com 8Gb de Ram demorou 662.695 segundos - cerca de 11 minutos - para rodar esta modelagem de tópicos de um arquivo de 7,6 Mb.</p>
<!-- pryr::object_size(par_dtm) -->
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="excpi.html#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(topicmodels)</span>
<span id="cb300-2"><a href="excpi.html#cb300-2" aria-hidden="true" tabindex="-1"></a>texts <span class="ot">&lt;-</span> <span class="fu">corpus_reshape</span>(cpi.corpus, <span class="at">to =</span> <span class="st">&quot;paragraphs&quot;</span>)</span>
<span id="cb300-3"><a href="excpi.html#cb300-3" aria-hidden="true" tabindex="-1"></a><span class="co">#par_dtm &lt;- dfm(texts, stem = TRUE,</span></span>
<span id="cb300-4"><a href="excpi.html#cb300-4" aria-hidden="true" tabindex="-1"></a> <span class="co"># create a document-term matrix</span></span>
<span id="cb300-5"><a href="excpi.html#cb300-5" aria-hidden="true" tabindex="-1"></a><span class="co">#       remove_punct = TRUE, </span></span>
<span id="cb300-6"><a href="excpi.html#cb300-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># remove = stopwords(&quot;english&quot;)</span></span>
<span id="cb300-7"><a href="excpi.html#cb300-7" aria-hidden="true" tabindex="-1"></a>par_dtm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(cpi.dfm, <span class="at">min_count =</span> <span class="dv">5</span>)</span>
<span id="cb300-8"><a href="excpi.html#cb300-8" aria-hidden="true" tabindex="-1"></a> <span class="co"># remove rare terms</span></span>
<span id="cb300-9"><a href="excpi.html#cb300-9" aria-hidden="true" tabindex="-1"></a>par_dtm <span class="ot">&lt;-</span> <span class="fu">convert</span>(par_dtm, <span class="at">to =</span> <span class="st">&quot;topicmodels&quot;</span>) <span class="co"># convert to topicmodels format</span></span>
<span id="cb300-10"><a href="excpi.html#cb300-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb300-11"><a href="excpi.html#cb300-11" aria-hidden="true" tabindex="-1"></a>valor_k <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb300-12"><a href="excpi.html#cb300-12" aria-hidden="true" tabindex="-1"></a>lda_model <span class="ot">&lt;-</span> topicmodels<span class="sc">::</span><span class="fu">LDA</span>(par_dtm, <span class="at">method =</span> <span class="st">&quot;Gibbs&quot;</span>, <span class="at">k =</span> valor_k)</span>
<span id="cb300-13"><a href="excpi.html#cb300-13" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo nossa modelagem de tópicos, 5 primeiras linhas</span></span>
<span id="cb300-14"><a href="excpi.html#cb300-14" aria-hidden="true" tabindex="-1"></a><span class="fu">terms</span>(lda_model, <span class="dv">5</span>)</span>
<span id="cb300-15"><a href="excpi.html#cb300-15" aria-hidden="true" tabindex="-1"></a><span class="do">##      Topic 1      Topic 2   Topic 3            Topic 4            Topic 5     </span></span>
<span id="cb300-16"><a href="excpi.html#cb300-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,] &quot;brasil&quot;     &quot;gente&quot;   &quot;senador&quot;          &quot;senhor&quot;           &quot;senhor&quot;    </span></span>
<span id="cb300-17"><a href="excpi.html#cb300-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,] &quot;senador&quot;    &quot;pessoas&quot; &quot;senhor&quot;           &quot;presidente&quot;       &quot;presidente&quot;</span></span>
<span id="cb300-18"><a href="excpi.html#cb300-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] &quot;tratamento&quot; &quot;pra&quot;     &quot;aí&quot;               &quot;cpi&quot;              &quot;sa&quot;        </span></span>
<span id="cb300-19"><a href="excpi.html#cb300-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,] &quot;milhões&quot;    &quot;ter&quot;     &quot;vossa_excelência&quot; &quot;governo&quot;          &quot;v&quot;         </span></span>
<span id="cb300-20"><a href="excpi.html#cb300-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [5,] &quot;vacinas&quot;    &quot;ser&quot;     &quot;gente&quot;            &quot;vossa_excelência&quot; &quot;comissão&quot;  </span></span>
<span id="cb300-21"><a href="excpi.html#cb300-21" aria-hidden="true" tabindex="-1"></a><span class="do">##      Topic 6      Topic 7  </span></span>
<span id="cb300-22"><a href="excpi.html#cb300-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,] &quot;saúde&quot;      &quot;senhor&quot; </span></span>
<span id="cb300-23"><a href="excpi.html#cb300-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,] &quot;senador&quot;    &quot;sim&quot;    </span></span>
<span id="cb300-24"><a href="excpi.html#cb300-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] &quot;ministério&quot; &quot;senador&quot;</span></span>
<span id="cb300-25"><a href="excpi.html#cb300-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,] &quot;vacina&quot;     &quot;empresa&quot;</span></span>
<span id="cb300-26"><a href="excpi.html#cb300-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [5,] &quot;relação&quot;    &quot;dia&quot;</span></span></code></pre></div>
<p>Vamos visualizar o topic modeling com o ggplot:</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="excpi.html#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convertendo para o formato tidy</span></span>
<span id="cb301-2"><a href="excpi.html#cb301-2" aria-hidden="true" tabindex="-1"></a>topicos <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">tidy</span>(lda_model, <span class="at">matrix =</span> <span class="st">&quot;beta&quot;</span>)</span>
<span id="cb301-3"><a href="excpi.html#cb301-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-4"><a href="excpi.html#cb301-4" aria-hidden="true" tabindex="-1"></a>termos_p_topico <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb301-5"><a href="excpi.html#cb301-5" aria-hidden="true" tabindex="-1"></a>top_termos <span class="ot">&lt;-</span> topicos <span class="sc">%&gt;%</span></span>
<span id="cb301-6"><a href="excpi.html#cb301-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb301-7"><a href="excpi.html#cb301-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">top_n</span>(termos_p_topico, beta) <span class="sc">%&gt;%</span></span>
<span id="cb301-8"><a href="excpi.html#cb301-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb301-9"><a href="excpi.html#cb301-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(topic, <span class="sc">-</span>beta)</span>
<span id="cb301-10"><a href="excpi.html#cb301-10" aria-hidden="true" tabindex="-1"></a><span class="co"># top_n() doesn&#39;t handle ties -__- so just take top 10 manually</span></span>
<span id="cb301-11"><a href="excpi.html#cb301-11" aria-hidden="true" tabindex="-1"></a>top_termos <span class="ot">&lt;-</span> top_termos <span class="sc">%&gt;%</span></span>
<span id="cb301-12"><a href="excpi.html#cb301-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb301-13"><a href="excpi.html#cb301-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span>termos_p_topico) <span class="sc">%&gt;%</span></span>
<span id="cb301-14"><a href="excpi.html#cb301-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb301-15"><a href="excpi.html#cb301-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-16"><a href="excpi.html#cb301-16" aria-hidden="true" tabindex="-1"></a>top_termos<span class="sc">$</span>topic <span class="ot">&lt;-</span> <span class="fu">factor</span>(top_termos<span class="sc">$</span>topic)</span>
<span id="cb301-17"><a href="excpi.html#cb301-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-18"><a href="excpi.html#cb301-18" aria-hidden="true" tabindex="-1"></a>top_termos <span class="sc">%&gt;%</span></span>
<span id="cb301-19"><a href="excpi.html#cb301-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">term =</span> <span class="fu">reorder</span>(term, beta)) <span class="sc">%&gt;%</span></span>
<span id="cb301-20"><a href="excpi.html#cb301-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(term, beta)) <span class="sc">+</span></span>
<span id="cb301-21"><a href="excpi.html#cb301-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb301-22"><a href="excpi.html#cb301-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> topic, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb301-23"><a href="excpi.html#cb301-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb301-24"><a href="excpi.html#cb301-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb301-25"><a href="excpi.html#cb301-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Modelagem tópicos - Topic Modeling&quot;</span>, </span>
<span id="cb301-26"><a href="excpi.html#cb301-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="st">&quot;k = &quot;</span>, valor_k, <span class="st">&quot;, feito a partir das falas dos senadores&quot;</span>),</span>
<span id="cb301-27"><a href="excpi.html#cb301-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">&quot;Elaboração: Alisson Soares&quot;</span>) </span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/exCpi_topicModels_ggplot-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="links-úteis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="datasets.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "vk"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
