<!DOCTYPE html>
<html lang="pt-br" xml:lang="pt-br">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Introdução ao R | Introdução à Análise Textual aplicada à Sociologia</title>
  <meta name="description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Introdução ao R | Introdução à Análise Textual aplicada à Sociologia" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Introdução ao R | Introdução à Análise Textual aplicada à Sociologia" />
  
  <meta name="twitter:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

<meta name="author" content="Alisson Soares" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="noções-básicas-de-programação-em-r.html"/>
<link rel="next" href="normalização-de-texto-e-expressões-regulares.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Análise Textual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> date: “2022-04-28”<span></span></a></li>
<li><a href="intro.html#intro">Introdução<span></span></a>
<ul>
<li><a href="intro.html#plano-do-livro">Plano do livro<span></span></a></li>
<li><a href="intro.html#HD">O termo “humanidade digitais”<span></span></a></li>
<li><a href="intro.html#fluxo-de-trabalho">Fluxo de trabalho<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html"><i class="fa fa-check"></i><b>2</b> História da Análise Textual<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#linha-do-tempo-da-história-da-análise-textual"><i class="fa fa-check"></i><b>2.1</b> Linha do tempo da história da Análise Textual<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#história-da-análise-textual-técnicas-antes-do-uso-de-computadores"><i class="fa fa-check"></i><b>2.2</b> História da análise textual: Técnicas antes do uso de computadores<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#história-da-análise-textual-análise-textual-com-auxílio-de-computadores"><i class="fa fa-check"></i><b>2.3</b> História da análise textual: Análise Textual com auxílio de computadores<span></span></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#o-problema-das-digitais-linguísticas-linguistic-fingerprint"><i class="fa fa-check"></i><b>2.3.1</b> O problema das “digitais linguísticas” (<em>linguistic fingerprint</em>)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#história-da-análise-textual-a-inteligência-artificial-machine-learning"><i class="fa fa-check"></i><b>2.4</b> História da análise textual: A inteligência artificial, machine learning<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html"><i class="fa fa-check"></i><b>3</b> Exemplos de Pesquisas em Humanidades Digitais<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#bibliometria-cientometria-cienciometria"><i class="fa fa-check"></i><b>3.1</b> Bibliometria / cientometria / cienciometria<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-filósofos-da-ciência-na-sociologia"><i class="fa fa-check"></i><b>3.1.1</b> Exemplo: Filósofos da ciência na Sociologia<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-a-teoria-dos-sistemas-sociais-de-niklas-luhmann"><i class="fa fa-check"></i><b>3.1.2</b> Exemplo: A teoria dos sistemas sociais de Niklas Luhmann<span></span></a></li>
<li class="chapter" data-level="3.1.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendência-de-termos-chave-da-sociologia"><i class="fa fa-check"></i><b>3.1.3</b> Exemplo: Tendência de termos chave da Sociologia<span></span></a></li>
<li class="chapter" data-level="3.1.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendências-das-correntes-na-filosofia"><i class="fa fa-check"></i><b>3.1.4</b> Exemplo: Tendências das correntes na filosofia<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exGoogleTrends"><i class="fa fa-check"></i><b>3.2</b> Exemplo: Google Trends como Proxy para epidemias<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#ExFakesNewsMundo"><i class="fa fa-check"></i><b>3.3</b> Exemplo: Como as fake news sobre a pandemia de Covid-19 se assemelham/divergem entre os países?<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-mudança-de-significado-de-palavras"><i class="fa fa-check"></i><b>3.4</b> Exemplo: Mudança de significado de palavras<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-análise-de-complexidade-musical"><i class="fa fa-check"></i><b>3.5</b> Exemplo: Análise de complexidade musical<span></span></a></li>
<li class="chapter" data-level="3.6" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#riqueza-vocabulário"><i class="fa fa-check"></i><b>3.6</b> Riqueza vocabulário<span></span></a></li>
<li class="chapter" data-level="3.7" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-polarização"><i class="fa fa-check"></i><b>3.7</b> Exemplo: Polarização<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-complementando-dados-qualitativos"><i class="fa fa-check"></i><b>3.8</b> Exemplo de integração quali-quanti: Complementando dados qualitativos<span></span></a></li>
<li class="chapter" data-level="3.9" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-depurando-dados-quantitativos"><i class="fa fa-check"></i><b>3.9</b> Exemplo de integração quali-quanti: Depurando dados quantitativos<span></span></a></li>
<li class="chapter" data-level="3.10" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-processo-civilizador"><i class="fa fa-check"></i><b>3.10</b> Exemplo: Processo Civilizador<span></span></a></li>
<li class="chapter" data-level="3.11" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#ex.-determinantes-sociais-do-florescimento-da-cultura-incel"><i class="fa fa-check"></i><b>3.11</b> Ex.: Determinantes sociais do florescimento da cultura Incel<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html"><i class="fa fa-check"></i><b>4</b> Estrutura de dados e tipos de formatos<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-estruturados"><i class="fa fa-check"></i><b>4.1</b> Dados estruturados<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#csv"><i class="fa fa-check"></i><b>4.1.1</b> Os formatos csv (<em>comma separeted values</em>) e tsv.<span></span></a></li>
<li class="chapter" data-level="4.1.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoJson"><i class="fa fa-check"></i><b>4.1.2</b> O formato Json<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-não-estruturados"><i class="fa fa-check"></i><b>4.2</b> Dados não estruturados<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-semi-estruturados"><i class="fa fa-check"></i><b>4.3</b> Dados semi-estruturados<span></span></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#exemplos-de-dados-semi-estruturados"><i class="fa fa-check"></i><b>4.3.1</b> Exemplos de dados semi-estruturados<span></span></a></li>
<li class="chapter" data-level="4.3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoMarkdown"><i class="fa fa-check"></i><b>4.3.2</b> O formato Markdown<span></span></a></li>
<li class="chapter" data-level="4.3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoYaml"><i class="fa fa-check"></i><b>4.3.3</b> O formato YAML<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#subtitulo"><i class="fa fa-check"></i><b>4.4</b> Subtitulo<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#subtítulo-2"><i class="fa fa-check"></i><b>4.5</b> Subtítulo 2<span></span></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoLatex"><i class="fa fa-check"></i><b>4.5.1</b> O Formato LaTex<span></span></a></li>
<li class="chapter" data-level="4.5.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoBibtex"><i class="fa fa-check"></i><b>4.5.2</b> O formato BibTex<span></span></a></li>
<li class="chapter" data-level="4.5.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatosXmlHtml"><i class="fa fa-check"></i><b>4.5.3</b> Os formatos xml e html<span></span></a></li>
<li class="chapter" data-level="4.5.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatos-mais-raros"><i class="fa fa-check"></i><b>4.5.4</b> Formatos mais raros<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#observações-finais"><i class="fa fa-check"></i><b>4.6</b> Observações finais<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html"><i class="fa fa-check"></i><b>5</b> Noções básicas de programação em R<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#scaping"><i class="fa fa-check"></i><b>5.1</b> Sequências de scaping<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#coment"><i class="fa fa-check"></i><b>5.1.1</b> Comentando o código<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#variavel"><i class="fa fa-check"></i><b>5.2</b> Variável e atribuição<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#funções-no-r"><i class="fa fa-check"></i><b>5.3</b> Funções no R<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#condicionais-seentão-ifelse"><i class="fa fa-check"></i><b>5.4</b> Condicionais: se/então, If/else<span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#else"><i class="fa fa-check"></i><b>5.4.1</b> Else<span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#else-if"><i class="fa fa-check"></i><b>5.4.2</b> else if<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores"><i class="fa fa-check"></i><b>5.5</b> Operadores<span></span></a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores-de-atribuição-assignment"><i class="fa fa-check"></i><b>5.5.1</b> Operadores de atribuição (assignment)<span></span></a></li>
<li class="chapter" data-level="5.5.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores-aritiméticos"><i class="fa fa-check"></i><b>5.5.2</b> Operadores Aritiméticos<span></span></a></li>
<li class="chapter" data-level="5.5.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_relacionais"><i class="fa fa-check"></i><b>5.5.3</b> Operadores relacionais<span></span></a></li>
<li class="chapter" data-level="5.5.4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_booleanos"><i class="fa fa-check"></i><b>5.5.4</b> Operadores booleanos<span></span></a></li>
<li class="chapter" data-level="5.5.5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_outros"><i class="fa fa-check"></i><b>5.5.5</b> Outros operadores<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#loops-repetições"><i class="fa fa-check"></i><b>5.6</b> Loops, repetições<span></span></a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#for-loops"><i class="fa fa-check"></i><b>5.6.1</b> For Loops<span></span></a></li>
<li class="chapter" data-level="5.6.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#while-loop"><i class="fa fa-check"></i><b>5.6.2</b> While loop<span></span></a></li>
<li class="chapter" data-level="5.6.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#apply-lapply-sapply-tapply-e-mapply"><i class="fa fa-check"></i><b>5.6.3</b> apply (lapply, sapply, tapply e mapply)<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html"><i class="fa fa-check"></i><b>6</b> Introdução ao R<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#obtendo-ajuda-no-r"><i class="fa fa-check"></i><b>6.1</b> Obtendo Ajuda no R<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#rcommander"><i class="fa fa-check"></i><b>6.2</b> R em modo gráfico: RKWard e RCommander<span></span></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#nvim-r"><i class="fa fa-check"></i><b>6.2.1</b> NVIM-R<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataTypes"><i class="fa fa-check"></i><b>6.3</b> Tipos de Dados no R (data types)<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#estrutura-de-dados-no-r-data-structures"><i class="fa fa-check"></i><b>6.4</b> Estrutura de dados no R (Data Structures)<span></span></a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#vectors"><i class="fa fa-check"></i><b>6.4.1</b> Vetor (<em>vector</em>)<span></span></a></li>
<li class="chapter" data-level="6.4.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#fatores"><i class="fa fa-check"></i><b>6.4.2</b> Fator (<em>Factor</em>)<span></span></a></li>
<li class="chapter" data-level="6.4.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#matrix"><i class="fa fa-check"></i><b>6.4.3</b> Matriz (Matrix)<span></span></a></li>
<li class="chapter" data-level="6.4.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tm-dtm"><i class="fa fa-check"></i><b>6.4.4</b> Gerando um DTM com o pacote TM<span></span></a></li>
<li class="chapter" data-level="6.4.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tidytext-dtm"><i class="fa fa-check"></i><b>6.4.5</b> Gerando DTM com o pacote Tidytext<span></span></a></li>
<li class="chapter" data-level="6.4.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lista"><i class="fa fa-check"></i><b>6.4.6</b> Listas (<em>list</em>)<span></span></a></li>
<li class="chapter" data-level="6.4.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dataframes"><i class="fa fa-check"></i><b>6.4.7</b> Data Frames<span></span></a></li>
<li class="chapter" data-level="6.4.8" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#fuzzySearch"><i class="fa fa-check"></i><b>6.4.8</b> Busca difusa (<em>fuzzy search</em>)<span></span></a></li>
<li class="chapter" data-level="6.4.9" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#considerações-finais-sobre-estrutura-de-dados"><i class="fa fa-check"></i><b>6.4.9</b> Considerações finais sobre estrutura de dados<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#instalandopacotes"><i class="fa fa-check"></i><b>6.5</b> Instalando pacotes no R<span></span></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#modo-1-instalando-via-linha-de-comando"><i class="fa fa-check"></i><b>6.5.1</b> Modo 1: instalando via linha de comando<span></span></a></li>
<li class="chapter" data-level="6.5.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#modo-2-instalando-pacotes-no-modo-gráfico"><i class="fa fa-check"></i><b>6.5.2</b> Modo 2: Instalando pacotes no modo gráfico<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tidyverse"><i class="fa fa-check"></i><b>6.6</b> A suíte de pacotes <code>tidyverse</code><span></span></a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#pipes"><i class="fa fa-check"></i><b>6.6.1</b> Pipes<span></span></a></li>
<li class="chapter" data-level="6.6.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tibbles"><i class="fa fa-check"></i><b>6.6.2</b> Tibbles<span></span></a></li>
<li class="chapter" data-level="6.6.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dplyr"><i class="fa fa-check"></i><b>6.6.3</b> Dplyr: Verbos (ou comandos)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataHora"><i class="fa fa-check"></i><b>6.7</b> Manipulando data e hora<span></span></a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#gerando-uma-sequencia-de-datas-no-r"><i class="fa fa-check"></i><b>6.7.1</b> Gerando uma sequencia de datas no R<span></span></a></li>
<li class="chapter" data-level="6.7.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lubridate"><i class="fa fa-check"></i><b>6.7.2</b> Lubridate: facilitando manipulação de datas<span></span></a></li>
<li class="chapter" data-level="6.7.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#converter-data-em-nome-por-extenso-do-mês"><i class="fa fa-check"></i><b>6.7.3</b> Converter data em nome por extenso do mês<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#links-e-dicas"><i class="fa fa-check"></i><b>6.8</b> Links e Dicas<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html"><i class="fa fa-check"></i><b>7</b> Normalização de texto e Expressões Regulares<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#regex"><i class="fa fa-check"></i><b>7.1</b> Expressões regulares (RegEx)<span></span></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#parâmetros-das-regex"><i class="fa fa-check"></i><b>7.1.1</b> Parâmetros das Regex<span></span></a></li>
<li class="chapter" data-level="7.1.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões"><i class="fa fa-check"></i><b>7.1.2</b> Dicas/Sugestões<span></span></a></li>
<li class="chapter" data-level="7.1.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#indicação-de-leitura-sobre-regex"><i class="fa fa-check"></i><b>7.1.3</b> Indicação de leitura sobre Regex<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#regex-no-r"><i class="fa fa-check"></i><b>7.2</b> RegEx no R<span></span></a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#grep"><i class="fa fa-check"></i><b>7.2.1</b> Grep<span></span></a></li>
<li class="chapter" data-level="7.2.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#gsub"><i class="fa fa-check"></i><b>7.2.2</b> gsub()<span></span></a></li>
<li class="chapter" data-level="7.2.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exercício-qual-o-qualis-de-certas-revistas-quais-revistas-possuem-certo-qualis"><i class="fa fa-check"></i><b>7.2.3</b> Exercício: Qual o Qualis de certas revistas? Quais revistas possuem certo Qualis?<span></span></a></li>
<li class="chapter" data-level="7.2.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#transformando-strings-em-vetores-com-strsplit"><i class="fa fa-check"></i><b>7.2.4</b> Transformando strings em vetores com <code>strsplit()</code><span></span></a></li>
<li class="chapter" data-level="7.2.5" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exemplo-regex"><i class="fa fa-check"></i><b>7.2.5</b> Exemplo regex<span></span></a></li>
<li class="chapter" data-level="7.2.6" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#lookaround-lookadead-e-lookbehind"><i class="fa fa-check"></i><b>7.2.6</b> Lookaround lookadead e lookbehind<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#stringr"><i class="fa fa-check"></i><b>7.3</b> Pacote stringr<span></span></a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#normalização-com-stringr"><i class="fa fa-check"></i><b>7.3.1</b> Normalização com stringr<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões-regex-no-r"><i class="fa fa-check"></i><b>7.4</b> Dicas/Sugestões: Regex no R<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html"><i class="fa fa-check"></i><b>8</b> Visualização de dados<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#baseplots"><i class="fa fa-check"></i><b>8.1</b> Base plots<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#cores"><i class="fa fa-check"></i><b>8.2</b> Cores<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#o-pacote-lattice"><i class="fa fa-check"></i><b>8.3</b> O pacote Lattice<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot2"><i class="fa fa-check"></i><b>8.4</b> O pacote ggplot2<span></span></a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-aes"><i class="fa fa-check"></i><b>8.4.1</b> ggplot: nível aes<span></span></a></li>
<li class="chapter" data-level="8.4.2" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-geom"><i class="fa fa-check"></i><b>8.4.2</b> ggplot: Nível geom<span></span></a></li>
<li class="chapter" data-level="8.4.3" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-facet_"><i class="fa fa-check"></i><b>8.4.3</b> ggplot: nível facet_<span></span></a></li>
<li class="chapter" data-level="8.4.4" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-stat"><i class="fa fa-check"></i><b>8.4.4</b> ggplot: nível stat<span></span></a></li>
<li class="chapter" data-level="8.4.5" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#ggplot-nível-sistema-de-coordenadas"><i class="fa fa-check"></i><b>8.4.5</b> ggplot: nível sistema de coordenadas<span></span></a></li>
<li class="chapter" data-level="8.4.6" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#cores-no-ggplot"><i class="fa fa-check"></i><b>8.4.6</b> Cores no ggplot<span></span></a></li>
<li class="chapter" data-level="8.4.7" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#dicas-ggplot"><i class="fa fa-check"></i><b>8.4.7</b> Dicas ggplot<span></span></a></li>
<li class="chapter" data-level="8.4.8" data-path="visualização-de-dados.html"><a href="visualização-de-dados.html#dicas-outros-pacotes-gráficos"><i class="fa fa-check"></i><b>8.4.8</b> Dicas outros pacotes gráficos<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html"><i class="fa fa-check"></i><b>9</b> Análise Textual (<em>text mining</em>)<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#introdução"><i class="fa fa-check"></i><b>9.1</b> Introdução<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagens-saco-de-palavras-bag-of-words-e-análise-semântica-semantic-parsing"><i class="fa fa-check"></i><b>9.2</b> Abordagens: saco de palavras (<em>bag of words</em>) e análise semântica (<em>semantic parsing</em>)<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagem-bag-of-words"><i class="fa fa-check"></i><b>9.3</b> Abordagem <em>Bag of words</em><span></span></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#frequência-de-palavrastermos-e-ngrams"><i class="fa fa-check"></i><b>9.3.1</b> Frequência de palavras/termos e Ngrams<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stopwords"><i class="fa fa-check"></i><b>9.4</b> Remoção de palavra vazia (<em>stopwords</em>)<span></span></a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#criando-lista-com-stopwords"><i class="fa fa-check"></i><b>9.4.1</b> Criando lista com stopwords<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#estemização-stemming-e-lematização"><i class="fa fa-check"></i><b>9.5</b> Estemização (<em>stemming</em>) e lematização<span></span></a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stemming"><i class="fa fa-check"></i><b>9.5.1</b> Estemização<span></span></a></li>
<li class="chapter" data-level="9.5.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#lemma"><i class="fa fa-check"></i><b>9.5.2</b> Lematização<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#wordcloud"><i class="fa fa-check"></i><b>9.6</b> Nuvem de palavras<span></span></a></li>
<li class="chapter" data-level="9.7" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#kwic"><i class="fa fa-check"></i><b>9.7</b> Palavras em contexto (<em>keyword-in-context KWIC</em>)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html"><i class="fa fa-check"></i><b>10</b> Text mining: Semantic Parsing<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#pos---part-of-speech-tagging"><i class="fa fa-check"></i><b>10.1</b> POS - Part-of-speech tagging<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#udpipe"><i class="fa fa-check"></i><b>10.2</b> Pacote UDPipe<span></span></a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#coocorrência-de-palavras"><i class="fa fa-check"></i><b>10.2.1</b> Coocorrência de palavras<span></span></a></li>
<li class="chapter" data-level="10.2.2" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#rede-de-palavras-wordnet"><i class="fa fa-check"></i><b>10.2.2</b> Rede de palavras (<em>wordnet</em>)<span></span></a></li>
<li class="chapter" data-level="10.2.3" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#análise-de-semelhanças"><i class="fa fa-check"></i><b>10.2.3</b> Análise de semelhanças<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="sentiment.html"><a href="sentiment.html"><i class="fa fa-check"></i><b>11</b> Classificação: Dicionários e Análise de Sentimentos<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="sentiment.html"><a href="sentiment.html#classificacao"><i class="fa fa-check"></i><b>11.1</b> Classificação<span></span></a></li>
<li class="chapter" data-level="11.2" data-path="sentiment.html"><a href="sentiment.html#sentiment-analysis"><i class="fa fa-check"></i><b>11.2</b> Análise de sentimentos (<em>Sentiment Analysis</em>) por meio de dicionário/léxico<span></span></a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="sentiment.html"><a href="sentiment.html#datasets-de-sentimentosemoções"><i class="fa fa-check"></i><b>11.2.1</b> Datasets de sentimentos/emoções<span></span></a></li>
<li class="chapter" data-level="11.2.2" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis"><i class="fa fa-check"></i><b>11.2.2</b> Pacote SentimentAnalysis<span></span></a></li>
<li class="chapter" data-level="11.2.3" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-Tidytext"><i class="fa fa-check"></i><b>11.2.3</b> Pacote Tidytext<span></span></a></li>
<li class="chapter" data-level="11.2.4" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-Quanteda"><i class="fa fa-check"></i><b>11.2.4</b> Pacote Quanteda<span></span></a></li>
<li class="chapter" data-level="11.2.5" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-syuzhet"><i class="fa fa-check"></i><b>11.2.5</b> Pacote syuzhet<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="sentiment.html"><a href="sentiment.html#dicas-finais-bibliografia-indicada"><i class="fa fa-check"></i><b>11.3</b> Dicas finais: Bibliografia indicada<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html"><i class="fa fa-check"></i><b>12</b> Análise de Redes Sociais<span></span></a>
<ul>
<li class="chapter" data-level="12.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#o-pacote-igraph"><i class="fa fa-check"></i><b>12.1</b> O pacote Igraph<span></span></a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#clusterização"><i class="fa fa-check"></i><b>12.1.1</b> Clusterização<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#os-pacotes-ggraph-e-tidygraph-.-construindo-grafos-com-o-tidyverse."><i class="fa fa-check"></i><b>12.2</b> Os pacotes <code>ggraph</code> e <code>tidygraph</code> . Construindo grafos com o <code>tidyverse</code>.<span></span></a></li>
<li class="chapter" data-level="12.3" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-palavras"><i class="fa fa-check"></i><b>12.3</b> Redes de palavras<span></span></a></li>
<li class="chapter" data-level="12.4" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-citação"><i class="fa fa-check"></i><b>12.4</b> Redes de citação<span></span></a></li>
<li class="chapter" data-level="12.5" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#gráfico-de-centralidade"><i class="fa fa-check"></i><b>12.5</b> Gráfico de centralidade<span></span></a></li>
<li class="chapter" data-level="12.6" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#comunidades"><i class="fa fa-check"></i><b>12.6</b> Comunidades<span></span></a></li>
<li class="chapter" data-level="12.7" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#SugestaoLinksredes"><i class="fa fa-check"></i><b>12.7</b> Sugestões de links<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="KE.html"><a href="KE.html"><i class="fa fa-check"></i><b>13</b> Extração de palavras-chave - <em>Key term</em> ou <em>keyword extraction</em><span></span></a>
<ul>
<li class="chapter" data-level="13.1" data-path="KE.html"><a href="KE.html#keywordassignment"><i class="fa fa-check"></i><b>13.1</b> Atribuição de palavra chave <em>Keyword assignment</em><span></span></a></li>
<li class="chapter" data-level="13.2" data-path="KE.html"><a href="KE.html#keywordextraction"><i class="fa fa-check"></i><b>13.2</b> Key term ou keyword extraction<span></span></a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="KE.html"><a href="KE.html#tf-idf"><i class="fa fa-check"></i><b>13.2.1</b> TF-IDF: Term-Frequency Inverse Document Frequency<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="KE.html"><a href="KE.html#coocorrencia"><i class="fa fa-check"></i><b>13.3</b> Colocação e Coocorrência<span></span></a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="KE.html"><a href="KE.html#colocação-com-o-quanteda"><i class="fa fa-check"></i><b>13.3.1</b> Colocação com o Quanteda<span></span></a></li>
<li class="chapter" data-level="13.3.2" data-path="KE.html"><a href="KE.html#colocação-com-udpipe"><i class="fa fa-check"></i><b>13.3.2</b> Colocação com Udpipe<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="links-úteis.html"><a href="links-úteis.html"><i class="fa fa-check"></i><b>14</b> Links úteis<span></span></a>
<ul>
<li class="chapter" data-level="14.1" data-path="links-úteis.html"><a href="links-úteis.html#humanidades-digitais"><i class="fa fa-check"></i><b>14.1</b> Humanidades digitais<span></span></a></li>
<li class="chapter" data-level="14.2" data-path="links-úteis.html"><a href="links-úteis.html#análise-de-redes-sociais-1"><i class="fa fa-check"></i><b>14.2</b> Análise de redes sociais<span></span></a></li>
<li class="chapter" data-level="14.3" data-path="links-úteis.html"><a href="links-úteis.html#textos-sobre-análise-textual"><i class="fa fa-check"></i><b>14.3</b> Textos sobre análise textual<span></span></a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="links-úteis.html"><a href="links-úteis.html#sociologia-digital-ciências-sociais-computacionais"><i class="fa fa-check"></i><b>14.3.1</b> Sociologia Digital / Ciências Sociais Computacionais<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="links-úteis.html"><a href="links-úteis.html#processamento-linguagem-natural-pln-ou-nlp"><i class="fa fa-check"></i><b>14.4</b> Processamento Linguagem Natural (PLN ou NLP)<span></span></a></li>
<li class="chapter" data-level="14.5" data-path="links-úteis.html"><a href="links-úteis.html#revistas-journals-acadêmicos"><i class="fa fa-check"></i><b>14.5</b> Revistas / Journals acadêmicos<span></span></a></li>
<li class="chapter" data-level="14.6" data-path="links-úteis.html"><a href="links-úteis.html#dados-abertos"><i class="fa fa-check"></i><b>14.6</b> Dados Abertos<span></span></a></li>
<li class="chapter" data-level="14.7" data-path="links-úteis.html"><a href="links-úteis.html#vídeos"><i class="fa fa-check"></i><b>14.7</b> Vídeos<span></span></a></li>
<li class="chapter" data-level="14.8" data-path="links-úteis.html"><a href="links-úteis.html#sites-blogs"><i class="fa fa-check"></i><b>14.8</b> Sites / Blogs<span></span></a></li>
<li class="chapter" data-level="14.9" data-path="links-úteis.html"><a href="links-úteis.html#organizações"><i class="fa fa-check"></i><b>14.9</b> Organizações<span></span></a></li>
<li class="chapter" data-level="14.10" data-path="links-úteis.html"><a href="links-úteis.html#estatística"><i class="fa fa-check"></i><b>14.10</b> Estatística<span></span></a></li>
<li class="chapter" data-level="14.11" data-path="links-úteis.html"><a href="links-úteis.html#podcasts"><i class="fa fa-check"></i><b>14.11</b> Podcasts<span></span></a></li>
<li class="chapter" data-level="14.12" data-path="links-úteis.html"><a href="links-úteis.html#links-programação"><i class="fa fa-check"></i><b>14.12</b> Links Programação<span></span></a>
<ul>
<li class="chapter" data-level="14.12.1" data-path="links-úteis.html"><a href="links-úteis.html#r-introdução"><i class="fa fa-check"></i><b>14.12.1</b> R introdução<span></span></a></li>
<li class="chapter" data-level="14.12.2" data-path="links-úteis.html"><a href="links-úteis.html#r-e-estatística"><i class="fa fa-check"></i><b>14.12.2</b> R e estatística<span></span></a></li>
<li class="chapter" data-level="14.12.3" data-path="links-úteis.html"><a href="links-úteis.html#r---tópicos-específicos"><i class="fa fa-check"></i><b>14.12.3</b> R - tópicos específicos<span></span></a></li>
<li class="chapter" data-level="14.12.4" data-path="links-úteis.html"><a href="links-úteis.html#r---avançado"><i class="fa fa-check"></i><b>14.12.4</b> R - avançado<span></span></a></li>
<li class="chapter" data-level="14.12.5" data-path="links-úteis.html"><a href="links-úteis.html#links-python"><i class="fa fa-check"></i><b>14.12.5</b> Links Python<span></span></a></li>
<li class="chapter" data-level="14.12.6" data-path="links-úteis.html"><a href="links-úteis.html#python---tópicos-específicos"><i class="fa fa-check"></i><b>14.12.6</b> Python - tópicos específicos<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.13" data-path="links-úteis.html"><a href="links-úteis.html#links-de-cursos-online"><i class="fa fa-check"></i><b>14.13</b> Links de Cursos Online<span></span></a></li>
<li class="chapter" data-level="14.14" data-path="links-úteis.html"><a href="links-úteis.html#grupos-de-discussãoforum"><i class="fa fa-check"></i><b>14.14</b> Grupos de discussão/Forum<span></span></a>
<ul>
<li class="chapter" data-level="14.14.1" data-path="links-úteis.html"><a href="links-úteis.html#telegram"><i class="fa fa-check"></i><b>14.14.1</b> Telegram<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.15" data-path="links-úteis.html"><a href="links-úteis.html#links-de-folhas-de-dicas-cheat-sheets"><i class="fa fa-check"></i><b>14.15</b> Links de folhas de dicas (<em>Cheat-sheets</em>)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="excpi.html"><a href="excpi.html"><i class="fa fa-check"></i><b>15</b> Apêndice: Exemplo Análise - CPI da Pandemia<span></span></a>
<ul>
<li class="chapter" data-level="15.1" data-path="excpi.html"><a href="excpi.html#introdução-1"><i class="fa fa-check"></i><b>15.1</b> Introdução<span></span></a></li>
<li class="chapter" data-level="15.2" data-path="excpi.html"><a href="excpi.html#pré-processamento"><i class="fa fa-check"></i><b>15.2</b> Pré-processamento<span></span></a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="excpi.html"><a href="excpi.html#pré-processamento-substituição-de-abreviaturas"><i class="fa fa-check"></i><b>15.2.1</b> Pré-processamento: substituição de abreviaturas<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="excpi.html"><a href="excpi.html#primeiras-observações"><i class="fa fa-check"></i><b>15.3</b> Primeiras observações<span></span></a></li>
<li class="chapter" data-level="15.4" data-path="excpi.html"><a href="excpi.html#entes"><i class="fa fa-check"></i><b>15.4</b> Entes<span></span></a></li>
<li class="chapter" data-level="15.5" data-path="excpi.html"><a href="excpi.html#palavras-chave-em-contexto---kwic"><i class="fa fa-check"></i><b>15.5</b> Palavras chave em contexto - KWIC<span></span></a></li>
<li class="chapter" data-level="15.6" data-path="excpi.html"><a href="excpi.html#opção-1-separando-apenas-os-senadores"><i class="fa fa-check"></i><b>15.6</b> Opção 1: Separando apenas os senadores<span></span></a></li>
<li class="chapter" data-level="15.7" data-path="excpi.html"><a href="excpi.html#opção-2-somente-senadores-a-partir-do-site-do-senado"><i class="fa fa-check"></i><b>15.7</b> Opção 2: Somente senadores, a partir do site do Senado<span></span></a>
<ul>
<li class="chapter" data-level="15.7.1" data-path="excpi.html"><a href="excpi.html#exCpi_wordcloud"><i class="fa fa-check"></i><b>15.7.1</b> Frequência e <em>wordcloud</em> (Nuvem de palavras)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="excpi.html"><a href="excpi.html#nuvem-de-palavras-comparativa-wordcloud-comparision"><i class="fa fa-check"></i><b>15.8</b> Nuvem de palavras comparativa <em>Wordcloud comparision</em><span></span></a></li>
<li class="chapter" data-level="15.9" data-path="excpi.html"><a href="excpi.html#extração-de-palavras-chave-keywords---colocação-collocation"><i class="fa fa-check"></i><b>15.9</b> Extração de palavras chave Keywords - colocação (<em>collocation</em>)<span></span></a></li>
<li class="chapter" data-level="15.10" data-path="excpi.html"><a href="excpi.html#tf-idf-dos-senadores"><i class="fa fa-check"></i><b>15.10</b> TF-IDF dos Senadores<span></span></a></li>
<li class="chapter" data-level="15.11" data-path="excpi.html"><a href="excpi.html#dicionário"><i class="fa fa-check"></i><b>15.11</b> Dicionário<span></span></a></li>
<li class="chapter" data-level="15.12" data-path="excpi.html"><a href="excpi.html#exCpi_coocorrencia"><i class="fa fa-check"></i><b>15.12</b> Análise de coocorrência<span></span></a></li>
<li class="chapter" data-level="15.13" data-path="excpi.html"><a href="excpi.html#modelagem-de-tópicos"><i class="fa fa-check"></i><b>15.13</b> Modelagem de tópicos<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="datasets.html"><a href="datasets.html"><i class="fa fa-check"></i><b>16</b> Apêndice: Datasets<span></span></a>
<ul>
<li class="chapter" data-level="16.1" data-path="datasets.html"><a href="datasets.html#pacotes-r-com-datasets"><i class="fa fa-check"></i><b>16.1</b> Pacotes R com datasets<span></span></a></li>
<li class="chapter" data-level="16.2" data-path="datasets.html"><a href="datasets.html#datasets-em-sites-diversos"><i class="fa fa-check"></i><b>16.2</b> Datasets em sites diversos:<span></span></a></li>
<li class="chapter" data-level="16.3" data-path="datasets.html"><a href="datasets.html#datasets-no-kaggle"><i class="fa fa-check"></i><b>16.3</b> Datasets no <span>Kaggle</span>:<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Análise Textual aplicada à Sociologia</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introdução-ao-r" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Introdução ao R<a href="introdução-ao-r.html#introdução-ao-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="infobox objetivo">
<p>Objetivos do capítulo:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li>Apresentar como obter ajuda no R</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li>Apresentar os tipos de dados e as estruturas de dados no R</li>
</ol></li>
<li><ol start="3" style="list-style-type: decimal">
<li>Apresentar a suíte de pacotes do tidyverse</li>
</ol></li>
</ul>
</div>
<p>Supondo que já tenha o R e o RStudio instalados (há diversos tutoriais de instalação no Youtube), vamos aos primeiros passos.</p>
<p>É possível também rodar o R de modo online, de modo gratuito, sem instalar nada em seu computador, com o <a href="https://onecompiler.com/r">One Compiler</a> e o <a href="https://rdrr.io/snippets/">Snippets</a>, tendo mais de 19 mil pacotes instalados.
O lado negativo é que não é um modo prático e tão rápido como rodar em seu computador, mas pode servir para pequenos testes.</p>
<div class="figure">
<img src="imagens/RSnippets.png" style="width:50.0%" alt="" />
<p class="caption">Snippets: um site para rodar R online</p>
</div>
<p>Outro modo de rodar o R online é criar uma conta no <a href="https://rstudio.cloud/">RStudio Cloud</a>, que possui também modalidade de conta gratuita, com algumas limitações: 15 horas de uso mensais, 1 Gb de Ram (pouco, mas funciona). Vantagem do Rstudio Cloud: a instalação de pacotes ocorre sem maiores problemas. Desvantagem: be mais lento que o RStudio Desktop.</p>
<div class="figure">
<img src="imagens/RstudioCloud7-workspace2.png" style="width:80.0%" alt="" />
<p class="caption">RStudio Cloud: rodando o RStudio nas nuvens através de navegador de internet</p>
</div>
<div class="infobox history">
<p><strong>HISTÓRIA</strong></p>
<p>A linguagem R foi criada no ano de 1993 por Ross Ihaka e Robert Gentleman do Departamento de Estatística da Universidade de Auckland, da Nova Zelândia, se baseando na linguagem S (por sua vez, criada em 1976). O anúncio oficial de lançamento do R ocorreu em 23 de abril de 1997.</p>
<ul>
<li><a href="https://www.jstor.org/stable/1390807">IHAKA, Ross; GENTLEMAN, Robert. “R: A Language for Data Analysis and Graphics”. Journal of Computational and Graphical Statistics. 5 (3): 299. set.1996 doi:10.2307/1390807. ISSN 1061-8600. JSTOR 1390807.</a></li>
<li>O Podcast History of Computing fez um episódio sobre a história do R (em inglês) link: <a href="https://player.fm/series/the-history-of-computing/the-r-programming-language">player fm</a>.</li>
</ul>
</div>
<p>R é uma linguagem aberta e gratuita, mutiplataforma (roda em Linux, Windows e Mac), publicada sob a licença General Public License (GNU).
O R é criado por estatísticos e é bem popular no mundo acadêmico. O R vem com diversos pacotes e funções nativamente.
Só para ter uma ideia desta quantidade:</p>
<table>
<thead>
<tr class="header">
<th>Pacote</th>
<th>Número de funções</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>base</td>
<td>1244</td>
</tr>
<tr class="even">
<td>datasets</td>
<td>104</td>
</tr>
<tr class="odd">
<td>graphics</td>
<td>87</td>
</tr>
<tr class="even">
<td>grDevices</td>
<td>112</td>
</tr>
<tr class="odd">
<td>methods</td>
<td>203</td>
</tr>
<tr class="even">
<td>utils</td>
<td>215</td>
</tr>
<tr class="odd">
<td>stats</td>
<td>449</td>
</tr>
</tbody>
</table>
<p>Dificilmente vamos dominar estes pacotes e mais as funções dos pacotes específicos que iremos instalar</p>
<div id="obtendo-ajuda-no-r" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Obtendo Ajuda no R<a href="introdução-ao-r.html#obtendo-ajuda-no-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A primeira coisa a se aprender é como conseguir ajuda, como conseguir a informação que precisamos.
A busca por ajuda é uma constante, mesmo entre os mais experiente.</p>
<div class="figure">
<img src="imagens/RStudio-Help" alt="" />
<p class="caption">Obtendo ajuda no RStudio</p>
</div>
<table>
<colgroup>
<col width="25%" />
<col width="30%" />
<col width="43%" />
</colgroup>
<thead>
<tr class="header">
<th>Comando</th>
<th>Descrição</th>
<th>Exemplo de uso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>help.start()</code></td>
<td>para abrir o sistema de ajuda em HTML no seu navegador</td>
<td><code>help.start()</code></td>
</tr>
<tr class="even">
<td><code>help("função")</code> ou <code>?funcao()</code></td>
<td>Acesso à documentação de funções, data sets e outros. No Rstudio, a ajuda é aberta na aba “Help”. Caso rode direto no console, sem o RStudio, uma vez dentro da página de ajuda, digite <code>/</code> para realizar busca e <code>q</code> para sair</td>
<td><code>?getwd</code> ou <code>help(getwd)</code></td>
</tr>
<tr class="odd">
<td><code>help(função, package="NOME_PACOTE")</code></td>
<td>para obter ajudar de um pacote que não foi cerregado</td>
<td><code>help(rlm, package="MASS")</code> Ajuda para a função rlm() do pacote MASS</td>
</tr>
<tr class="even">
<td><code>help(package = 'NOME_PACOTE')</code></td>
<td>Mostra um índice de páginas de ajuda para o pacote</td>
<td><code>help(package = 'dplyr'</code></td>
</tr>
<tr class="odd">
<td><code>example()</code></td>
<td>Mostra exemplos de uso da função</td>
<td><code>example(grep)</code></td>
</tr>
<tr class="even">
<td><code>help.search()</code> ou <code>??busca</code></td>
<td>Para busca mais vaga. Caso não se lembre do nome exato da função, ou caso busque uma função que faça determinada tarefa</td>
<td><code>??regression</code> mostra diversas funções de diversos pacotes que contém a palavra “regression”</td>
</tr>
<tr class="odd">
<td><code>RSiteSearch()</code></td>
<td>Busca no seu navegador (browser) um padrão/assunto em sites especializados em R</td>
<td><code>RSiteSearch("text analysis")</code></td>
</tr>
<tr class="even">
<td><code>args()</code></td>
<td>Mostra os argumentos que uma função pode receber.</td>
<td><code>args(grep)</code></td>
</tr>
<tr class="odd">
<td><code>apropos()</code></td>
<td>Busca pelo nome de uma função. Útil quando não lembramos exatamente o nome de uma função</td>
<td><code>apropos("grep")</code></td>
</tr>
<tr class="even">
<td><code>demo()</code></td>
<td>Lista todas as demonstrações de todos os seus pacotes</td>
<td><code>demo()</code></td>
</tr>
<tr class="odd">
<td><code>demo(package="package-name")</code></td>
<td>lista as demonstrações de um pacote particular</td>
<td><code>demo(package="stats")</code></td>
</tr>
<tr class="even">
<td><code>lsf.str("package:nome_do_pacote")</code></td>
<td>Mostra as funções do pacote (que precisa já ter sido carregado)</td>
<td><code>lsf.str("package:dplyr")</code></td>
</tr>
<tr class="odd">
<td><code>ls("package:nome_do_pacote")</code></td>
<td>Mostra os objetos do pacote (que precisa já ter sido carregado)</td>
<td><code>ls("package:dplyr")</code></td>
</tr>
<tr class="even">
<td><code>search()</code></td>
<td>Lista os pacotes já carregados</td>
<td><code>search()</code></td>
</tr>
</tbody>
</table>
<p>Fonte: Versão expandida de <a href="https://www.r-project.org/help.html">Getting Help with R</a>.</p>
<p>Uma boa dica de mecanismo de busca (como o Google, Bing, DuckDuckGo, etc.) e que é especializado em R é o <a href="https://rseek.org/">https://rseek.org/</a>.
Uma dica adicional é acrescentá-lo como mais uma opção de buscador em seu navegador de internet (ver figura mais abaixo).</p>
<div class="figure">
<img src="imagens/rseek.png" alt="" />
<p class="caption">Buscador rseek: buscando apenas assuntos relacionados ao R</p>
</div>
<div class="figure">
<img src="imagens/rseek_addfirefox.png" alt="" />
<p class="caption">Adicionando o Rseek como uma opção de buscador no Firefox</p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="introdução-ao-r.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Buscando por funções que contenham &quot;grep&quot;</span></span>
<span id="cb1-2"><a href="introdução-ao-r.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apropos</span>(<span class="st">&quot;grep&quot;</span>)</span>
<span id="cb1-3"><a href="introdução-ao-r.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;agrep&quot;   &quot;agrepl&quot;  &quot;grep&quot;    &quot;grepl&quot;   &quot;grepRaw&quot;</span></span>
<span id="cb1-4"><a href="introdução-ao-r.html#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="introdução-ao-r.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrando os argumentos que uma função pode receber</span></span>
<span id="cb1-6"><a href="introdução-ao-r.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(gsub)</span>
<span id="cb1-7"><a href="introdução-ao-r.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="do">## function (pattern, replacement, x, ignore.case = FALSE, perl = FALSE, </span></span>
<span id="cb1-8"><a href="introdução-ao-r.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="do">##     fixed = FALSE, useBytes = FALSE) </span></span>
<span id="cb1-9"><a href="introdução-ao-r.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="do">## NULL</span></span></code></pre></div>
<p>Outra dica é buscar a documentação do pacote no <a href="https://cran.r-project.org/search.html">site do cran</a> ou buscar por problemas específicos no o site <a href="https://stackoverflow.com/">Stack Overflow</a>.</p>
</div>
<div id="rcommander" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> R em modo gráfico: RKWard e RCommander<a href="introdução-ao-r.html#rcommander" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Caso deseje rodar análises estatísticas tradicionais, - não para análise textual - há pelo menos dois modos de rodar o R em modo gráfico (GUI), usando cliques de mouse. Um é através do <a href="https://rkward.kde.org/">RKWard</a> que funciona como um SPSS/PSPP, porém, tendo o R como linguagem base.
<img src="imagens/RKward.png" alt="Importando dados Stata/SPSS no RKward" /></p>
<p>A segunda alternativa é o <a href="https://www.jamovi.org/">Jamovi</a>, também livre e aberto.
Uma terceira alternativa é o <a href="https://cran.r-project.org/web/packages/Rcmdr/index.html">Rcmdr ou R Commander</a>.
<!-- Para quem está aprendendo a usar estatística no R, uma boa dica é usar o pacote R Commander. -->
Ao carregar este pacote dentro do R, uma janela aparece onde escolhemos o tipo de operação, e ele mostra o código para tal.
O Rcmdr ensina como importar dados (SPSS, Excell, Stata, ruls, etc.), como realizar diversas operações estatísticas, como plotar gráficos.</p>
<p>Ao rodar o Rcmdr pela primeira vez, pacotes adicionais serão instalados, como na imagem abaixo.</p>
<div class="figure">
<img src="imagens/RCommander_install.png" alt="" />
<p class="caption">Instalação do R Commander. Instalando pacotes adicionais</p>
</div>
<p>Após a instalação de pacotes adicionais, O R Commander abre uma janela com os comandos.</p>
<div class="figure">
<img src="imagens/Rcommander.png" alt="" />
<p class="caption">R Commander em ação</p>
</div>
<p>Caso feche a janela do RCommander, rodar <code>library(Rcmdr)</code> novamente não abrirá a janela, uma vez que o pacote já está carregado.
A solução é rodar então <code>Commander()</code> para ter a janela novamente.
Caso queira fechar este pacote, basta digitar no Console <code>detach("package:Rcmdr", unload=TRUE)</code> ou apenas feche o R.</p>
<p>Para trabalhar com análise textual com estes acima:</p>
<ul>
<li>Há um plugin do RCmd para análise textual, o <a href="https://cran.r-project.org/web/packages/RcmdrPlugin.temis/index.html">RcmdrPlugin.temis</a> (porém, última atualização em 2018).
<!-- An 'R Commander' plug-in providing an integrated solution to perform a series of text mining tasks such as importing and cleaning a corpus, and analyses like terms and documents counts, vocabulary tables, terms co-occurrences and documents similarity measures, time series analysis, correspondence analysis and hierarchical clustering. Corpora can be imported from spreadsheet-like files, directories of raw text files, 'Twitter' queries, as well as from 'Dow Jones Factiva', 'LexisNexis', 'Europresse' and 'Alceste' files --></li>
<li>No caso do RKward, o pacote <a href="https://cran.r-project.org/web/packages/koRpus/index.html">koRpus</a> oferece plugin GUI, com funcionalidades para a língua portuguesa.</li>
</ul>
<div class="infobox note">
<p><strong>Dicas</strong>: R Commander</p>
<ul>
<li>LAURETTO, Marcelo. <a href="http://www.each.usp.br/lauretto/cursoR2017/02-RcommanderParte1.pdf">Introdução ao R Commander</a>. (Pequeno tutorial do RCommander, em PDF e em português.)</li>
<li><a href="https://socialsciences.mcmaster.ca/jfox/Misc/Rcmdr/">The R Commander: A Basic-Statistics GUI for R</a></li>
<li>FOX, John. <a href="https://socialsciences.mcmaster.ca/jfox/Misc/Rcmdr/Getting-Started-with-the-Rcmdr.pdf">Getting Started With the R Commander</a>. (Artigo do criador do RCommander)</li>
<li>Video tutorial do R Commander em ação e em português: <a href="https://www.youtube.com/watch?v=7GDshWv8O6E">Aprendendo Estatística com o R Commander</a> do Departamento de Estatística UFLA</li>
</ul>
</div>
<div id="nvim-r" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> NVIM-R<a href="introdução-ao-r.html#nvim-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Por fim, para os usuários mais avançados quem não tem medo do terminal e gosta de usar o editor Vim ou o Neovim, uma dica é usar o plugin <a href="https://github.com/jalvesaq/Nvim-R/">Nvim-R</a> que traz diversas facilidades para usar o Nvim em conjunto com o R. Trata-se de uma alternativa leve e rápida ao Rstudio. (O autor do pacote é um professor brasileiro do departamento de Sociologia da UFC).</p>
</div>
</div>
<div id="RDataTypes" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Tipos de Dados no R (data types)<a href="introdução-ao-r.html#RDataTypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>“Tudo que existe no R é um objeto” (John Chambers, <em>apud</em> <a href="https://adv-r.hadley.nz/base-types.html">WICKHAM</a>)</p>
</blockquote>
<p>Tipos de dados se referem à forma mais simples de objetos, ou tipos de dados atômicos do R (R atomic data types) <!-- Everything in R programming language is an object. Hence, when we talk about data types in R we refer to the simplest data objects we can handle, that are also known as R atomic data types. https://r-coder.com/data-types-r/#Raw_data_type_in_R -->
<!-- Há cerca de [25 tipos de dados no R, ou "base types"](https://adv-r.hadley.nz/base-types.html). -->
Os seis tipos de dados básicos são:</p>
<table>
<colgroup>
<col width="22%" />
<col width="39%" />
<col width="38%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Tipo de dado no R</th>
<th>Exemplo de uso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/character.html">character</a> ou “string” (texto)</td>
<td>“a”, “bla”, “Fulano de tal”</td>
</tr>
<tr class="even">
<td>2</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/numeric.html">numeric</a> (real ou decimal)</td>
<td><code>-2</code>, <code>43</code>, <code>3,333333</code></td>
</tr>
<tr class="odd">
<td>3</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/integer.html">integer</a> (integral)</td>
<td><code>3L</code> (O “L” é o modo que o R entende que é um integral)</td>
</tr>
<tr class="even">
<td>4</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/logical.html">logical</a> (lógico)</td>
<td><code>TRUE</code> ou <code>FALSE</code></td>
</tr>
<tr class="odd">
<td>5</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/complex.html">complex</a> (complexo)</td>
<td><code>1-4i</code> (números complexos com partes reais e imaginárias)</td>
</tr>
<tr class="even">
<td>6</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/raw.html">raw</a> (bytes, para arquivos com dados binários)</td>
<td>O raw é de uso raro. <code>&gt; charToRaw('olá')</code> resulta em: <code>6f 6c c3 a1</code></td>
</tr>
</tbody>
</table>
<ul>
<li>Integrais ou “<em>integer</em>” são um tipo de dado sem frações, ou números inteiros, podendo ser positivos ou negativos.</li>
<li>Tipos reais, ou <em>float</em> são números que possuem fração. Estes nomes tem a ver com o modo com o computador salva esta informação.
O <em>float</em> possui tamanho de 4 bytes, e se o número possuir mais de 7 dígitos, o valor é arredondado para 7.
Já o “double” possui 8 bytes, o “dobro” do <em>float</em>, podendo chegar a 15 dígitos de acurácia.
o que lhe confere maior acurácia, mas também ocupa mais espaço e requer mais processamento computacional.
Se quiser saber melhor sobre float e double, veja <a href="https://hackr.io/blog/float-vs-double">este artigo “Float vs Double”</a>). Algumas linguagens possuem até o tipo “long double” ou big decimal, que possuem acurácia maior que o double. Portanto, “double” tem recebe este nome pelo modo como é salvo no computador.</li>
</ul>
<!-- [raw](https://stat.ethz.ch/R-manual/R-devel/library/base/html/raw.html) -->
<!-- |6| [raw](https://stat.ethz.ch/R-manual/R-devel/library/base/html/raw.html) | `charToRaw("bla")`, `intToBits(5L)` Trabalha com bytes e é de uso raro|  -->
<p>Uma vez criados os dados, para examinar as características dos objetos há algumas funções no R</p>
<table>
<colgroup>
<col width="34%" />
<col width="41%" />
<col width="23%" />
</colgroup>
<thead>
<tr class="header">
<th>Função no R para examinar tipos de dados</th>
<th>Descrição</th>
<th>Exemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>class()</code></td>
<td>Que tipo de objeto é?</td>
<td><code>class(3)</code>, <code>class("bla")</code></td>
</tr>
<tr class="even">
<td><code>length()</code></td>
<td>Qual o tamanho do vetore? Quantos itens possui? | `</td>
<td>length(c(“bla”,“ble”))`</td>
</tr>
<tr class="odd">
<td><code>attributes()</code></td>
<td>Possui metadados?</td>
<td></td>
</tr>
</tbody>
</table>
<!-- |`class()`|Que tipo de objeto é (high-level)?|| -->
<!-- |`typeof()`|Qual to tipo de dado (data type) do objeto (low-level)?|| -->
<!-- What about two dimensional objects?| -->
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="introdução-ao-r.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um texto (character). Tem de ser delimitado entre aspas</span></span>
<span id="cb2-2"><a href="introdução-ao-r.html#cb2-2" aria-hidden="true" tabindex="-1"></a>minha_variavel_texto <span class="ot">&lt;-</span> <span class="st">&quot;bla&quot;</span></span>
<span id="cb2-3"><a href="introdução-ao-r.html#cb2-3" aria-hidden="true" tabindex="-1"></a>minha_variavel_texto </span>
<span id="cb2-4"><a href="introdução-ao-r.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bla&quot;</span></span>
<span id="cb2-5"><a href="introdução-ao-r.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(minha_variavel_texto)</span>
<span id="cb2-6"><a href="introdução-ao-r.html#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb2-7"><a href="introdução-ao-r.html#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="introdução-ao-r.html#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma variável numérica. Não pode ser delimitado por aspas.</span></span>
<span id="cb2-9"><a href="introdução-ao-r.html#cb2-9" aria-hidden="true" tabindex="-1"></a>minha_variavel_numerica <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb2-10"><a href="introdução-ao-r.html#cb2-10" aria-hidden="true" tabindex="-1"></a>minha_variavel_numerica</span>
<span id="cb2-11"><a href="introdução-ao-r.html#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb2-12"><a href="introdução-ao-r.html#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(minha_variavel_numerica)</span>
<span id="cb2-13"><a href="introdução-ao-r.html#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;numeric&quot;</span></span>
<span id="cb2-14"><a href="introdução-ao-r.html#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="introdução-ao-r.html#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um integral:</span></span>
<span id="cb2-16"><a href="introdução-ao-r.html#cb2-16" aria-hidden="true" tabindex="-1"></a>minha_variavel_integral <span class="ot">&lt;-</span> 5L</span>
<span id="cb2-17"><a href="introdução-ao-r.html#cb2-17" aria-hidden="true" tabindex="-1"></a>minha_variavel_integral</span>
<span id="cb2-18"><a href="introdução-ao-r.html#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span>
<span id="cb2-19"><a href="introdução-ao-r.html#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(minha_variavel_integral)</span>
<span id="cb2-20"><a href="introdução-ao-r.html#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;integer&quot;</span></span>
<span id="cb2-21"><a href="introdução-ao-r.html#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="introdução-ao-r.html#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um variável lógica. Também sem aspas.</span></span>
<span id="cb2-23"><a href="introdução-ao-r.html#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 é maior que 3?</span></span>
<span id="cb2-24"><a href="introdução-ao-r.html#cb2-24" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">&gt;</span> <span class="dv">3</span></span>
<span id="cb2-25"><a href="introdução-ao-r.html#cb2-25" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica</span>
<span id="cb2-26"><a href="introdução-ao-r.html#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb2-27"><a href="introdução-ao-r.html#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(minha_variavel_logica)</span>
<span id="cb2-28"><a href="introdução-ao-r.html#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;logical&quot;</span></span>
<span id="cb2-29"><a href="introdução-ao-r.html#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 é menor que 3?</span></span>
<span id="cb2-30"><a href="introdução-ao-r.html#cb2-30" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica2 <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">&lt;</span> <span class="dv">3</span></span>
<span id="cb2-31"><a href="introdução-ao-r.html#cb2-31" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica2</span>
<span id="cb2-32"><a href="introdução-ao-r.html#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb2-33"><a href="introdução-ao-r.html#cb2-33" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica3 <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># É possível atribuir</span></span>
<span id="cb2-34"><a href="introdução-ao-r.html#cb2-34" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica3</span>
<span id="cb2-35"><a href="introdução-ao-r.html#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb2-36"><a href="introdução-ao-r.html#cb2-36" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica4 <span class="ot">&lt;-</span> F <span class="co"># Também é possível usar abreviaturas &quot;T&quot; e &quot;F&quot;</span></span>
<span id="cb2-37"><a href="introdução-ao-r.html#cb2-37" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica4</span>
<span id="cb2-38"><a href="introdução-ao-r.html#cb2-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb2-39"><a href="introdução-ao-r.html#cb2-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-40"><a href="introdução-ao-r.html#cb2-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um número complexo:</span></span>
<span id="cb2-41"><a href="introdução-ao-r.html#cb2-41" aria-hidden="true" tabindex="-1"></a>numero_complexo <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="sc">+</span> 2i     </span>
<span id="cb2-42"><a href="introdução-ao-r.html#cb2-42" aria-hidden="true" tabindex="-1"></a>numero_complexo</span>
<span id="cb2-43"><a href="introdução-ao-r.html#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3+2i</span></span>
<span id="cb2-44"><a href="introdução-ao-r.html#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(numero_complexo)</span>
<span id="cb2-45"><a href="introdução-ao-r.html#cb2-45" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;complex&quot;</span></span>
<span id="cb2-46"><a href="introdução-ao-r.html#cb2-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-47"><a href="introdução-ao-r.html#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertendo para raw</span></span>
<span id="cb2-48"><a href="introdução-ao-r.html#cb2-48" aria-hidden="true" tabindex="-1"></a><span class="do">## convertendo character para raw</span></span>
<span id="cb2-49"><a href="introdução-ao-r.html#cb2-49" aria-hidden="true" tabindex="-1"></a>meuraw <span class="ot">&lt;-</span> <span class="fu">charToRaw</span>(<span class="st">&#39;teste&#39;</span>)</span>
<span id="cb2-50"><a href="introdução-ao-r.html#cb2-50" aria-hidden="true" tabindex="-1"></a>meuraw</span>
<span id="cb2-51"><a href="introdução-ao-r.html#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 74 65 73 74 65</span></span>
<span id="cb2-52"><a href="introdução-ao-r.html#cb2-52" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(meuraw)</span>
<span id="cb2-53"><a href="introdução-ao-r.html#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;raw&quot;</span></span></code></pre></div>
<!-- # Criando um Raw a partir de texto: -->
<!-- meu_raw <- charToRaw("Análise textual") -->
<!-- meu_raw -->
<!-- class(meu_raw) -->
<!-- ## Criando Raw a partir de um integral: -->
<!-- raw_integ <- intToBits(2L) -->
<!-- raw_integ -->
<!-- class(raw_integ) -->
<p>Na criação de tipos de dados, pode-se usar de coerção (coercion) através das funções <code>as.</code></p>
<table>
<thead>
<tr class="header">
<th>Função</th>
<th>Coerção para</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>as.numeric</code></td>
<td>Numeric</td>
</tr>
<tr class="even">
<td><code>as.integer</code></td>
<td>Integer</td>
</tr>
<tr class="odd">
<td><code>as.double</code></td>
<td>Double</td>
</tr>
<tr class="even">
<td><code>as.character</code></td>
<td>Character</td>
</tr>
<tr class="odd">
<td><code>as.logical</code></td>
<td>Boolean</td>
</tr>
<tr class="even">
<td><code>as.raw</code></td>
<td>Raw</td>
</tr>
</tbody>
</table>
<!-- |`as.raw`|Raw| -->
<div class="infobox obra">
<p><em>EM CONSTRUÇÃO</em></p>
</div>
</div>
<div id="estrutura-de-dados-no-r-data-structures" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Estrutura de dados no R (Data Structures)<a href="introdução-ao-r.html#estrutura-de-dados-no-r-data-structures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="infobox obra">
<p><em>EM CONSTRUÇÃO</em></p>
</div>
<p>Vimos os tipos de dados.
Estes podem ser organizados de distintos modos, e a depender desta organização, temos diferentes estruturas de dados.
O R possui diversas estruturas de dados, como:</p>
<ul>
<li><a href="introdução-ao-r.html#vectors">vetores numéricos e atômicos</a></li>
<li><a href="introdução-ao-r.html#lista">lista (<em>list</em>)</a></li>
<li><a href="introdução-ao-r.html#fatores">fatores (<em>factors</em>)</a></li>
<li><a href="introdução-ao-r.html#matrix">matriz (<em>matrix</em>)</a></li>
<li><a href="introdução-ao-r.html#dataframes">data frame</a></li>
</ul>
<div id="vectors" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Vetor (<em>vector</em>)<a href="introdução-ao-r.html#vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Como dito no <a href="https://cran.r-project.org/doc/manuals/R-lang.html#Basic-types">manual</a>, “Pode-se conceber vetores como células contíguas contendo dados” (<em>Vectors can be thought of as contiguous cells containing data”</em>), ou uma série de valores do mesmo tipo de dado.
Vetor é a estrutura de dados mais comum no R, os tipos básicos de vetores atômicos são aqueles seis mencionados anteriormente.
Criamos vetores com a função <code>c()</code> de “concatenate” ou “combine”.
No caso de strings (character), deve-se colocar os valores dentro de aspas:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="introdução-ao-r.html#cb3-1" aria-hidden="true" tabindex="-1"></a>meu_vetor <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;bla&quot;</span>, <span class="st">&quot;ble&quot;</span>, <span class="st">&quot;bli&quot;</span>, <span class="st">&quot;blo&quot;</span>, <span class="st">&quot;blu&quot;</span>) <span class="co"># criando o vetor com strings</span></span>
<span id="cb3-2"><a href="introdução-ao-r.html#cb3-2" aria-hidden="true" tabindex="-1"></a>meu_vetor <span class="co"># imprimindo na tela o vetor que acabamos de criar</span></span>
<span id="cb3-3"><a href="introdução-ao-r.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bla&quot; &quot;ble&quot; &quot;bli&quot; &quot;blo&quot; &quot;blu&quot;</span></span>
<span id="cb3-4"><a href="introdução-ao-r.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(meu_vetor)</span>
<span id="cb3-5"><a href="introdução-ao-r.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb3-6"><a href="introdução-ao-r.html#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="introdução-ao-r.html#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(meu_vetor) <span class="co"># observando quantos itens possui nosso vetor</span></span>
<span id="cb3-8"><a href="introdução-ao-r.html#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span>
<span id="cb3-9"><a href="introdução-ao-r.html#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="introdução-ao-r.html#cb3-10" aria-hidden="true" tabindex="-1"></a>meu_vetor[<span class="dv">3</span>]  <span class="co"># acessando o item do 3 de nosso vetor</span></span>
<span id="cb3-11"><a href="introdução-ao-r.html#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bli&quot;</span></span>
<span id="cb3-12"><a href="introdução-ao-r.html#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="introdução-ao-r.html#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor de valores booleanos</span></span>
<span id="cb3-14"><a href="introdução-ao-r.html#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Não se usa aspas nesse caso</span></span>
<span id="cb3-15"><a href="introdução-ao-r.html#cb3-15" aria-hidden="true" tabindex="-1"></a>vetor_logico <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>) <span class="co"># criando um vetor de valores booleanos</span></span>
<span id="cb3-16"><a href="introdução-ao-r.html#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(vetor_logico)</span>
<span id="cb3-17"><a href="introdução-ao-r.html#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;logical&quot;</span></span>
<span id="cb3-18"><a href="introdução-ao-r.html#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="introdução-ao-r.html#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor com diferentes tipo de dados</span></span>
<span id="cb3-20"><a href="introdução-ao-r.html#cb3-20" aria-hidden="true" tabindex="-1"></a>vetor_pan <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;bla&quot;</span>, <span class="dv">3</span>, <span class="cn">TRUE</span>, 5L)</span>
<span id="cb3-21"><a href="introdução-ao-r.html#cb3-21" aria-hidden="true" tabindex="-1"></a>vetor_pan</span>
<span id="cb3-22"><a href="introdução-ao-r.html#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bla&quot;  &quot;3&quot;    &quot;TRUE&quot; &quot;5&quot;</span></span>
<span id="cb3-23"><a href="introdução-ao-r.html#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="introdução-ao-r.html#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># criando uma sequência numérica de 2 a 8. Desta vez não iremos salvar em uma variável</span></span>
<span id="cb3-25"><a href="introdução-ao-r.html#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>) </span>
<span id="cb3-26"><a href="introdução-ao-r.html#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2 3 4 5 6 7 8</span></span></code></pre></div>
<p>Tanto números simples (ex.: <code>2.5</code>) como strings (ex.: “Olá mundo R!”) tem comprimento (<em>length</em>) 1. Já, por exemplo, <code>c('Olá', 'mundo', 'R')</code> possui comprimento 3.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="introdução-ao-r.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="st">&#39;Olá mundo R&#39;</span>)</span>
<span id="cb4-2"><a href="introdução-ao-r.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb4-3"><a href="introdução-ao-r.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">c</span>(<span class="st">&#39;Olá&#39;</span>, <span class="st">&#39;mundo&#39;</span>, <span class="st">&#39;R&#39;</span>))</span>
<span id="cb4-4"><a href="introdução-ao-r.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3</span></span></code></pre></div>
<p>Vetores podem ser de dois tipos: 1) atômicos, ou 2) listas.
Mas o mais frequênte é encontrarmos “vetor” como sinônimo de “vetor atômico”, e listas serem consideradas como algo à parte.
<!-- although the term “vector” most commonly refers to the atomic types not to lists. --> Para examinarmos os vetores, podemos usar as funções: <code>class()</code>, para saber o tipo, <code>length()</code>, para saber quantos elementos possui e <code>str()</code>, bastante útil ao lidarmo com dataframes, o comando mostra a estrutura básica: quantos elementos, quantas colunas (se houver), uma amostra dos elementos.
Há ainda o comando <code>typeof()</code>, mas recomendamos usar o <code>class()</code> para evitar confusão.</p>
<p>É ainda possível também atribuir nomes aos elementos de um vetor usando a função <code>names()</code></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="introdução-ao-r.html#cb5-1" aria-hidden="true" tabindex="-1"></a>valores <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">34</span>, <span class="dv">13</span>) <span class="co"># Criando um vetor</span></span>
<span id="cb5-2"><a href="introdução-ao-r.html#cb5-2" aria-hidden="true" tabindex="-1"></a>nomes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;banana&quot;</span>, <span class="st">&quot;uva&quot;</span>, <span class="st">&quot;abacate&quot;</span>) <span class="co"># Criando vetor com os nomes</span></span>
<span id="cb5-3"><a href="introdução-ao-r.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(valores) <span class="ot">&lt;-</span> nomes <span class="co"># atribuindo o vetor &quot;nomes&quot; como titulo do vetor &quot;valores&quot;</span></span>
<span id="cb5-4"><a href="introdução-ao-r.html#cb5-4" aria-hidden="true" tabindex="-1"></a>valores <span class="co"># imprimindo o vetor com nomes e valores</span></span>
<span id="cb5-5"><a href="introdução-ao-r.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  banana     uva abacate </span></span>
<span id="cb5-6"><a href="introdução-ao-r.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="do">##      12      34      13</span></span>
<span id="cb5-7"><a href="introdução-ao-r.html#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(valores) <span class="co"># imprimindo apenas os nomes</span></span>
<span id="cb5-8"><a href="introdução-ao-r.html#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;  &quot;uva&quot;     &quot;abacate&quot;</span></span>
<span id="cb5-9"><a href="introdução-ao-r.html#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="introdução-ao-r.html#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(valores)</span>
<span id="cb5-11"><a href="introdução-ao-r.html#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;numeric&quot;</span></span></code></pre></div>
</div>
<div id="fatores" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Fator (<em>Factor</em>)<a href="introdução-ao-r.html#fatores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Considere a seguinte tabela fictícia:</p>
<table>
<thead>
<tr class="header">
<th>Nome</th>
<th>Altura(cm)</th>
<th>Região do país</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Fulano</td>
<td>175</td>
<td>NE</td>
</tr>
<tr class="even">
<td>Ciclano</td>
<td>134</td>
<td>SE</td>
</tr>
<tr class="odd">
<td>Beltrano</td>
<td>166</td>
<td>S</td>
</tr>
<tr class="even">
<td>João</td>
<td>187</td>
<td>S</td>
</tr>
<tr class="odd">
<td>Maria</td>
<td>173</td>
<td>NE</td>
</tr>
<tr class="even">
<td>José</td>
<td>159</td>
<td>CO</td>
</tr>
<tr class="odd">
<td>Joaquim</td>
<td>161</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p>Se em uma coluna certos valores se repetem, podemos considerá-los como “fatores”.
No caso, a coluna “Nome” possui valores únicos, a coluta “Altura” também, mas a coluna “Região” possui uma quantidade limitada de valores que se repetirão: N,S,NO,SE,CO.
Podemos então considerar os valores desta coluna como “fatores”.
Fatores podem ser tanto strings, como no caso acima, como integrais, como no caso da idade de estudantes de uma mesma turma.</p>
<p>Um exemplo prático:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="introdução-ao-r.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor de caracteres com siglas de aeroportos brasileiros</span></span>
<span id="cb6-2"><a href="introdução-ao-r.html#cb6-2" aria-hidden="true" tabindex="-1"></a>aeroportos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;BSB&quot;</span>, <span class="st">&quot;CON&quot;</span>, <span class="st">&quot;BSB&quot;</span>, <span class="st">&quot;VIC&quot;</span>, <span class="st">&quot;GUA&quot;</span>, <span class="st">&quot;FOR&quot;</span>, <span class="st">&quot;MAO&quot;</span>,<span class="st">&quot;GUA&quot;</span>, <span class="st">&quot;CON&quot;</span>, <span class="st">&quot;CON&quot;</span>, <span class="st">&quot;REC&quot;</span>, <span class="st">&quot;UDI&quot;</span>, <span class="st">&quot;VIC&quot;</span>, <span class="st">&quot;GUA&quot;</span>)</span>
<span id="cb6-3"><a href="introdução-ao-r.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(aeroportos)</span>
<span id="cb6-4"><a href="introdução-ao-r.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="do">## aeroportos</span></span>
<span id="cb6-5"><a href="introdução-ao-r.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="do">## BSB CON FOR GUA MAO REC UDI VIC </span></span>
<span id="cb6-6"><a href="introdução-ao-r.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   2   3   1   3   1   1   1   2</span></span>
<span id="cb6-7"><a href="introdução-ao-r.html#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="introdução-ao-r.html#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Se tento criar um barplot com os valores, dá erro:</span></span>
<span id="cb6-9"><a href="introdução-ao-r.html#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(aeroportos))</span>
<span id="cb6-10"><a href="introdução-ao-r.html#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="introdução-ao-r.html#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Temos de transformar os dados em um fator, que vamos chamar de &quot;aeroportos.factor&quot;</span></span>
<span id="cb6-12"><a href="introdução-ao-r.html#cb6-12" aria-hidden="true" tabindex="-1"></a>aeroportos.fator <span class="ot">&lt;-</span> <span class="fu">factor</span>(aeroportos)</span>
<span id="cb6-13"><a href="introdução-ao-r.html#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Perceba que &quot;Levels&quot; mostra os valores sem repetição</span></span>
<span id="cb6-14"><a href="introdução-ao-r.html#cb6-14" aria-hidden="true" tabindex="-1"></a>aeroportos.fator </span>
<span id="cb6-15"><a href="introdução-ao-r.html#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] BSB CON BSB VIC GUA FOR MAO GUA CON CON REC UDI VIC GUA</span></span>
<span id="cb6-16"><a href="introdução-ao-r.html#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Levels: BSB CON FOR GUA MAO REC UDI VIC</span></span>
<span id="cb6-17"><a href="introdução-ao-r.html#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrando a frequência de cada termo com a função &#39;summary()&#39;</span></span>
<span id="cb6-18"><a href="introdução-ao-r.html#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(aeroportos.fator) </span>
<span id="cb6-19"><a href="introdução-ao-r.html#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="do">## BSB CON FOR GUA MAO REC UDI VIC </span></span>
<span id="cb6-20"><a href="introdução-ao-r.html#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="do">##   2   3   1   3   1   1   1   2</span></span>
<span id="cb6-21"><a href="introdução-ao-r.html#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="introdução-ao-r.html#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Agora é possível gerar o gráfico de barras (barplot)</span></span>
<span id="cb6-23"><a href="introdução-ao-r.html#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">summary</span>(aeroportos.fator))</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/cars-1.png" width="672" /></p>
<p>Fatores são comuns em tabelas, mas são raros em análise textual.
Assim, ao trabalhar com análise textual, convém mudar as opções globais de strings, para não serem consideradas fatores:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="introdução-ao-r.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-2"><a href="introdução-ao-r.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ou podemos transformar informações em fatores através do comando </span></span>
<span id="cb7-3"><a href="introdução-ao-r.html#cb7-3" aria-hidden="true" tabindex="-1"></a>aeroportos.fator <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(aeroportos)</span>
<span id="cb7-4"><a href="introdução-ao-r.html#cb7-4" aria-hidden="true" tabindex="-1"></a>aeroportos.fator </span>
<span id="cb7-5"><a href="introdução-ao-r.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] BSB CON BSB VIC GUA FOR MAO GUA CON CON REC UDI VIC GUA</span></span>
<span id="cb7-6"><a href="introdução-ao-r.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Levels: BSB CON FOR GUA MAO REC UDI VIC</span></span></code></pre></div>
<p>Fator é um tipo de dado usado para campos com valores pré-definidos, valores finitos, como em dados categóricos. Assim, por exemplo, raça, ou status matrimonial contém um número finito de valores (solteira(o), amasiada(o), casada(o), divorciada(o), viúva(o)). No caso dos aeroportos, podemos ver os valores únicos com o comando <code>levels()</code></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="introdução-ao-r.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(aeroportos.fator)</span>
<span id="cb8-2"><a href="introdução-ao-r.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;BSB&quot; &quot;CON&quot; &quot;FOR&quot; &quot;GUA&quot; &quot;MAO&quot; &quot;REC&quot; &quot;UDI&quot; &quot;VIC&quot;</span></span></code></pre></div>
</div>
<div id="matrix" class="section level3 hasAnchor" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> Matriz (Matrix)<a href="introdução-ao-r.html#matrix" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vejamos as matrizes.
Podemos pensar em matrizes como tabelas contendo dados do mesmo tipo.
Vamos gerar uma matriz para termos contato com uma.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="introdução-ao-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1:12=Os elementos da nossa matriz, 1 a 12</span></span>
<span id="cb9-2"><a href="introdução-ao-r.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 4=linhas no eixo vertical 3=linhas no eixo horizontal</span></span>
<span id="cb9-3"><a href="introdução-ao-r.html#cb9-3" aria-hidden="true" tabindex="-1"></a>minha.matriz <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb9-4"><a href="introdução-ao-r.html#cb9-4" aria-hidden="true" tabindex="-1"></a>minha.matriz</span>
<span id="cb9-5"><a href="introdução-ao-r.html#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="do">##      [,1] [,2] [,3]</span></span>
<span id="cb9-6"><a href="introdução-ao-r.html#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]    1    5    9</span></span>
<span id="cb9-7"><a href="introdução-ao-r.html#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]    2    6   10</span></span>
<span id="cb9-8"><a href="introdução-ao-r.html#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,]    3    7   11</span></span>
<span id="cb9-9"><a href="introdução-ao-r.html#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,]    4    8   12</span></span>
<span id="cb9-10"><a href="introdução-ao-r.html#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="introdução-ao-r.html#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando itens, linha 2, coluna 3</span></span>
<span id="cb9-12"><a href="introdução-ao-r.html#cb9-12" aria-hidden="true" tabindex="-1"></a>minha.matriz[<span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb9-13"><a href="introdução-ao-r.html#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 10</span></span>
<span id="cb9-14"><a href="introdução-ao-r.html#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="introdução-ao-r.html#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando uma linha inteira</span></span>
<span id="cb9-16"><a href="introdução-ao-r.html#cb9-16" aria-hidden="true" tabindex="-1"></a>minha.matriz[<span class="dv">2</span>, ]</span>
<span id="cb9-17"><a href="introdução-ao-r.html#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  2  6 10</span></span></code></pre></div>
<p>Matrizes também são bastante usadas na análise textual, como nas <a href="#DTM">Document-Term-Matrix</a> e nas Term Document Matrix, que são um passo intermediário de diversas análises textuais, como preparação para Topic Modeling, por exemplo.
Veremos em mais detalhes posteriormente, mas apenas para um primeiro contato, o DTM
Dadas as frases “O rato roeu a roupa do rei”, “O rei riu do rato”, “A roupa do rato é de rei”, consideraremos cada linha como um documento (documento, neste caso, é cada uma das frases).
Ao criar uma matriz tipo DTM os documentos são as linhas e as colunas são as palavras e os números são a frequência de cada termo em cada frase:</p>
<!-- |    | Documentoss| -->
<!-- |-----|-----| -->
<!-- |*Termos*|1 |2 |3| -->
<!-- |  rato  |1 |1 |1| -->
<!-- |  rei   |1 |1 |1| -->
<!-- |  riu   |0 |1 |0| -->
<!-- |  roeu  |1 |0 |0| -->
<!-- |  roupa |1 |0 |1| -->
<!-- |  |  |  |  | -->
<!-- |----|----|---|---| -->
<!-- |**termos**|1 |2 |3| -->
<!-- |  rato  |1 |1 |1| -->
<!-- |  rei   |1 |1 |1| -->
<!-- |  riu   |0 |1 |0| -->
<!-- |  roeu  |1 |0 |0| -->
<!-- |  roupa |1 |0 |1| -->
<table>
<caption><span id="tab:unnamed-chunk-12">Table 6.1: </span>Um exemplo de DTM</caption>
<thead>
<tr class="header">
<th align="right">rato</th>
<th align="right">rei</th>
<th align="right">riu</th>
<th align="right">roeu</th>
<th align="right">roupa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Se esta é a primeira vez com estrutura de dados, matriz, o que vimos de matriz pode já ser o suficiente por agora e você poderá pular para a próxima estrutura de dados, a <span id="lista">lista</span>.
Mais para frente, quando a análise e o pacote necessitarem, você será reencaminhado para esta seção, de como fazer um Document-Term_Matrix (DTM) e um Term-Document-Matrix (TDM).</p>
<p>Os Document-Term-Matrix e o Term-Document-Matrix são usados em análise textual e PLN como passo intermediário para outras análises. Matriz é bem útil ao transformar texto em um formato que o computador consegue entender e processar.
Vejamos alguns modos de gerar matrizes com diferentes pacotes.</p>
</div>
<div id="tm-dtm" class="section level3 hasAnchor" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> Gerando um DTM com o pacote TM<a href="introdução-ao-r.html#tm-dtm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="introdução-ao-r.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb10-2"><a href="introdução-ao-r.html#cb10-2" aria-hidden="true" tabindex="-1"></a>frases <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;O rato roeu a roupa do rei&quot;</span>, <span class="st">&quot;O rei riu do rato&quot;</span>, <span class="st">&quot;A roupa do rato é de rei&quot;</span>)</span>
<span id="cb10-3"><a href="introdução-ao-r.html#cb10-3" aria-hidden="true" tabindex="-1"></a>myCorpus <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(frases)</span>
<span id="cb10-4"><a href="introdução-ao-r.html#cb10-4" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">Corpus</span>(<span class="fu">VectorSource</span>(myCorpus<span class="sc">$</span>frases))</span>
<span id="cb10-5"><a href="introdução-ao-r.html#cb10-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">inspect</span>(<span class="fu">DocumentTermMatrix</span>(corpus))</span>
<span id="cb10-6"><a href="introdução-ao-r.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="do">## &lt;&lt;DocumentTermMatrix (documents: 3, terms: 5)&gt;&gt;</span></span>
<span id="cb10-7"><a href="introdução-ao-r.html#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Non-/sparse entries: 10/5</span></span>
<span id="cb10-8"><a href="introdução-ao-r.html#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Sparsity           : 33%</span></span>
<span id="cb10-9"><a href="introdução-ao-r.html#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Maximal term length: 5</span></span>
<span id="cb10-10"><a href="introdução-ao-r.html#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Weighting          : term frequency (tf)</span></span>
<span id="cb10-11"><a href="introdução-ao-r.html#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Sample             :</span></span>
<span id="cb10-12"><a href="introdução-ao-r.html#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="do">##     Terms</span></span>
<span id="cb10-13"><a href="introdução-ao-r.html#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Docs rato rei riu roeu roupa</span></span>
<span id="cb10-14"><a href="introdução-ao-r.html#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="do">##    1    1   1   0    1     1</span></span>
<span id="cb10-15"><a href="introdução-ao-r.html#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="do">##    2    1   1   1    0     0</span></span>
<span id="cb10-16"><a href="introdução-ao-r.html#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="do">##    3    1   1   0    0     1</span></span></code></pre></div>
</div>
<div id="tidytext-dtm" class="section level3 hasAnchor" number="6.4.5">
<h3><span class="header-section-number">6.4.5</span> Gerando DTM com o pacote Tidytext<a href="introdução-ao-r.html#tidytext-dtm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>No pacote Tidytext, para gerar o DTM,
1) precisamos <a href="#tokens">tokenizar</a>
usamos a função <code>cast_dtm(coluna_documentos, coluna_termos, contagem_palavras)</code>.
Para a contagem de palavras requerida, podemos usar a função <code>count()</code> previamente.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introdução-ao-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a>frases <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;O rato roeu a roupa do rei&quot;</span>, <span class="st">&quot;O rei riu do rato&quot;</span>, <span class="st">&quot;A roupa do rato é de rei&quot;</span>)</span>
<span id="cb11-2"><a href="introdução-ao-r.html#cb11-2" aria-hidden="true" tabindex="-1"></a>frases_df <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">id_doc =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb11-3"><a href="introdução-ao-r.html#cb11-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">frases =</span> frases)</span>
<span id="cb11-4"><a href="introdução-ao-r.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenizando o tibble</span></span>
<span id="cb11-5"><a href="introdução-ao-r.html#cb11-5" aria-hidden="true" tabindex="-1"></a>frasesR <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(frases_df, palavras, frases)</span>
<span id="cb11-6"><a href="introdução-ao-r.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando o DTM</span></span>
<span id="cb11-7"><a href="introdução-ao-r.html#cb11-7" aria-hidden="true" tabindex="-1"></a>frasesR <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="introdução-ao-r.html#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># contando termos com &#39;count&#39;, que gera nova coluna &#39;n&#39;</span></span>
<span id="cb11-9"><a href="introdução-ao-r.html#cb11-9" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">count</span>(palavras, id_doc) <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="introdução-ao-r.html#cb11-10" aria-hidden="true" tabindex="-1"></a>        tidytext<span class="sc">::</span><span class="fu">cast_dtm</span>(id_doc, palavras, n) </span>
<span id="cb11-11"><a href="introdução-ao-r.html#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="do">## &lt;&lt;DocumentTermMatrix (documents: 3, terms: 10)&gt;&gt;</span></span>
<span id="cb11-12"><a href="introdução-ao-r.html#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Non-/sparse entries: 19/11</span></span>
<span id="cb11-13"><a href="introdução-ao-r.html#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Sparsity           : 37%</span></span>
<span id="cb11-14"><a href="introdução-ao-r.html#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Maximal term length: 5</span></span>
<span id="cb11-15"><a href="introdução-ao-r.html#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="do">## Weighting          : term frequency (tf)</span></span></code></pre></div>
<p>O que nos retorna:
- A indicação de que se trata de um Document Term Matrix
- A frequência de termos e de documentos
-“Non-/sparse entries” refere-se aos não zeros
- “sparsity” refere-se à proporção de zeros na matriz:
- Caso não exista nenhum zero em nossa matriz, o <em>sparsity</em> será 0%. Por exemplo, quando temos um DTM com apenas um documento.
- Tivemos um valor alto de sparsity, mas por que temos poucas frases e bem parecidas
- É comum termos valores altos de <em>sparsity</em> como 100%, principalmente quando temos muitos documentos e matrizes bem maiores que esta.</p>
<p>Se quisermos visualizar a matriz, precisamos ampliar nosso código com <code>as.matrix()</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="introdução-ao-r.html#cb12-1" aria-hidden="true" tabindex="-1"></a>frasesR <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="introdução-ao-r.html#cb12-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># contando termos com &#39;count&#39;, que gera nova coluna &#39;n&#39;</span></span>
<span id="cb12-3"><a href="introdução-ao-r.html#cb12-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">count</span>(palavras, id_doc) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="introdução-ao-r.html#cb12-4" aria-hidden="true" tabindex="-1"></a>        tidytext<span class="sc">::</span><span class="fu">cast_dtm</span>(id_doc, palavras, n) <span class="sc">%&gt;%</span> </span>
<span id="cb12-5"><a href="introdução-ao-r.html#cb12-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.matrix</span>()</span>
<span id="cb12-6"><a href="introdução-ao-r.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="do">##     Terms</span></span>
<span id="cb12-7"><a href="introdução-ao-r.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Docs a de do é o rato rei riu roeu roupa</span></span>
<span id="cb12-8"><a href="introdução-ao-r.html#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="do">##    1 1  0  1 0 1    1   1   0    1     1</span></span>
<span id="cb12-9"><a href="introdução-ao-r.html#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="do">##    3 1  1  1 1 0    1   1   0    0     1</span></span>
<span id="cb12-10"><a href="introdução-ao-r.html#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="do">##    2 0  0  1 0 1    1   1   1    0     0</span></span></code></pre></div>
</div>
<div id="lista" class="section level3 hasAnchor" number="6.4.6">
<h3><span class="header-section-number">6.4.6</span> Listas (<em>list</em>)<a href="introdução-ao-r.html#lista" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Listas (ou “vetores genéricos”) são conjuntos de vetores mais gerais no R.
Podemos colocar tipos diferentes de objetos em uma lista (por exemplo, uma matriz , vetores, dataframes, etc.)
Para criar uma lista, usamos o comando <code>list()</code></p>
<!-- Lists (“generic vectors”) are another kind of data storage. Lists have elements, each of which can contain any type of R object, i.e. the elements of a list do not have to be of the same type. List elements are accessed through three different indexing operations. These are explained in detail in Indexing. Lists are vectors, and the basic vector types are referred to as atomic vectors where it is necessary to exclude lists. https://cran.r-project.org/doc/manuals/R-lang.html#Basic-types -->
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introdução-ao-r.html#cb13-1" aria-hidden="true" tabindex="-1"></a>minha_lista <span class="ot">=</span> <span class="fu">list</span>(<span class="fu">c</span>(T,T,F, F, T, T, F), <span class="fu">c</span>(<span class="st">&quot;Joaquim&quot;</span>, <span class="st">&quot;José&quot;</span>, <span class="st">&quot;Silva&quot;</span>), <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">3</span>,<span class="dv">67</span>,<span class="dv">22</span>) )</span>
<span id="cb13-2"><a href="introdução-ao-r.html#cb13-2" aria-hidden="true" tabindex="-1"></a>minha_lista</span>
<span id="cb13-3"><a href="introdução-ao-r.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb13-4"><a href="introdução-ao-r.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  TRUE  TRUE FALSE FALSE  TRUE  TRUE FALSE</span></span>
<span id="cb13-5"><a href="introdução-ao-r.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb13-6"><a href="introdução-ao-r.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [[2]]</span></span>
<span id="cb13-7"><a href="introdução-ao-r.html#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Joaquim&quot; &quot;José&quot;    &quot;Silva&quot;  </span></span>
<span id="cb13-8"><a href="introdução-ao-r.html#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb13-9"><a href="introdução-ao-r.html#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [[3]]</span></span>
<span id="cb13-10"><a href="introdução-ao-r.html#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  3  6  3 67 22</span></span>
<span id="cb13-11"><a href="introdução-ao-r.html#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="introdução-ao-r.html#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando o vetor 3 de nossa lista. No caso de listas, usamos o duplo colchete</span></span>
<span id="cb13-13"><a href="introdução-ao-r.html#cb13-13" aria-hidden="true" tabindex="-1"></a>minha_lista[[<span class="dv">3</span>]]</span>
<span id="cb13-14"><a href="introdução-ao-r.html#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  3  6  3 67 22</span></span>
<span id="cb13-15"><a href="introdução-ao-r.html#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="introdução-ao-r.html#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando o vetor 2 de nossa lista, item 3</span></span>
<span id="cb13-17"><a href="introdução-ao-r.html#cb13-17" aria-hidden="true" tabindex="-1"></a>minha_lista[[<span class="dv">2</span>]][<span class="dv">3</span>]</span>
<span id="cb13-18"><a href="introdução-ao-r.html#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Silva&quot;</span></span></code></pre></div>
<p>É possível também “quebrar” um texto em vetores, através do comando <code>strsplt()</code></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="introdução-ao-r.html#cb14-1" aria-hidden="true" tabindex="-1"></a>texto <span class="ot">=</span> <span class="st">&quot;Bla bla bla. Ble ble ble ble. Bli bli. Blo. Blu blu blu&quot;</span></span>
<span id="cb14-2"><a href="introdução-ao-r.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(texto)</span>
<span id="cb14-3"><a href="introdução-ao-r.html#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb14-4"><a href="introdução-ao-r.html#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="introdução-ao-r.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>)</span>
<span id="cb14-6"><a href="introdução-ao-r.html#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb14-7"><a href="introdução-ao-r.html#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Bla bla bla&quot;      &quot; Ble ble ble ble&quot; &quot; Bli bli&quot;         &quot; Blo&quot;            </span></span>
<span id="cb14-8"><a href="introdução-ao-r.html#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot; Blu blu blu&quot;</span></span></code></pre></div>
<p>No exemplo acima, o primeiro argumento em strplit() é a variável, o segundo argumento é o critério a ser usado para quebrar o texto.
Alguns caracteres são considerados especiais e precisam ser indicados que queremos seu significado literal.
É o caso de ponto final.
Para conseguirmos usá-lo como ponto final, ao invés de usarmos <code>"."</code>, usamos <code>\\.</code> . Note que ficaram espaços no início dos elementos dos vetores.
Podemos melhorar nosso código acrescentando um espaço em branco após o ponto final:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introdução-ao-r.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">. &quot;</span>)</span>
<span id="cb15-2"><a href="introdução-ao-r.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb15-3"><a href="introdução-ao-r.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Bla bla bla&quot;     &quot;Ble ble ble ble&quot; &quot;Bli bli&quot;         &quot;Blo&quot;            </span></span>
<span id="cb15-4"><a href="introdução-ao-r.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;Blu blu blu&quot;</span></span></code></pre></div>
<p>Se examinarmos o tipo de arquivo que temos, veremos que se trata de uma lista:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="introdução-ao-r.html#cb16-1" aria-hidden="true" tabindex="-1"></a>texto2 <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">. &quot;</span>)</span>
<span id="cb16-2"><a href="introdução-ao-r.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(texto2)</span>
<span id="cb16-3"><a href="introdução-ao-r.html#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;list&quot;</span></span></code></pre></div>
<p>Se quisermos que este seja um vetor simples, e não lista:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="introdução-ao-r.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(texto2)</span>
<span id="cb17-2"><a href="introdução-ao-r.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;list&quot;</span></span>
<span id="cb17-3"><a href="introdução-ao-r.html#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="introdução-ao-r.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># usar o comando unlist()</span></span>
<span id="cb17-5"><a href="introdução-ao-r.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">unlist</span>(texto2)</span>
<span id="cb17-6"><a href="introdução-ao-r.html#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Bla bla bla&quot;     &quot;Ble ble ble ble&quot; &quot;Bli bli&quot;         &quot;Blo&quot;            </span></span>
<span id="cb17-7"><a href="introdução-ao-r.html#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;Blu blu blu&quot;</span></span>
<span id="cb17-8"><a href="introdução-ao-r.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">unlist</span>(texto2))</span>
<span id="cb17-9"><a href="introdução-ao-r.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb17-10"><a href="introdução-ao-r.html#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="introdução-ao-r.html#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Ou ainda, acessando o item 1 da lista</span></span>
<span id="cb17-12"><a href="introdução-ao-r.html#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">. &quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb17-13"><a href="introdução-ao-r.html#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Bla bla bla&quot;     &quot;Ble ble ble ble&quot; &quot;Bli bli&quot;         &quot;Blo&quot;            </span></span>
<span id="cb17-14"><a href="introdução-ao-r.html#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;Blu blu blu&quot;</span></span></code></pre></div>
<p>É possível fazer uma lista nomeada:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="introdução-ao-r.html#cb18-1" aria-hidden="true" tabindex="-1"></a>minha.lista <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">nome1 =</span> <span class="fu">c</span>(<span class="st">&quot;Joaquim&quot;</span>, <span class="st">&quot;José&quot;</span>, <span class="st">&quot;Silva&quot;</span>),</span>
<span id="cb18-2"><a href="introdução-ao-r.html#cb18-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">letras =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>],</span>
<span id="cb18-3"><a href="introdução-ao-r.html#cb18-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">minha_matriz =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb18-4"><a href="introdução-ao-r.html#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="introdução-ao-r.html#cb18-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-6"><a href="introdução-ao-r.html#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo a lista criada</span></span>
<span id="cb18-7"><a href="introdução-ao-r.html#cb18-7" aria-hidden="true" tabindex="-1"></a>minha.lista </span>
<span id="cb18-8"><a href="introdução-ao-r.html#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="do">## $nome1</span></span>
<span id="cb18-9"><a href="introdução-ao-r.html#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Joaquim&quot; &quot;José&quot;    &quot;Silva&quot;  </span></span>
<span id="cb18-10"><a href="introdução-ao-r.html#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb18-11"><a href="introdução-ao-r.html#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="do">## $letras</span></span>
<span id="cb18-12"><a href="introdução-ao-r.html#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot;</span></span>
<span id="cb18-13"><a href="introdução-ao-r.html#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb18-14"><a href="introdução-ao-r.html#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="do">## $minha_matriz</span></span>
<span id="cb18-15"><a href="introdução-ao-r.html#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="do">##      [,1] [,2] [,3] [,4]</span></span>
<span id="cb18-16"><a href="introdução-ao-r.html#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]    1    3    5    7</span></span>
<span id="cb18-17"><a href="introdução-ao-r.html#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]    2    4    6    8</span></span>
<span id="cb18-18"><a href="introdução-ao-r.html#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando os itens da lista:</span></span>
<span id="cb18-19"><a href="introdução-ao-r.html#cb18-19" aria-hidden="true" tabindex="-1"></a>minha.lista[[<span class="dv">2</span>]][<span class="dv">3</span>]</span>
<span id="cb18-20"><a href="introdução-ao-r.html#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;c&quot;</span></span>
<span id="cb18-21"><a href="introdução-ao-r.html#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="co"># ou ainda, no caso de lista nomeada</span></span>
<span id="cb18-22"><a href="introdução-ao-r.html#cb18-22" aria-hidden="true" tabindex="-1"></a>minha.lista<span class="sc">$</span>letras[<span class="dv">3</span>]</span>
<span id="cb18-23"><a href="introdução-ao-r.html#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;c&quot;</span></span></code></pre></div>
</div>
<div id="dataframes" class="section level3 hasAnchor" number="6.4.7">
<h3><span class="header-section-number">6.4.7</span> Data Frames<a href="introdução-ao-r.html#dataframes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uma vantagem de se trabalhar com data frame é que as colunas tem nome e não apenas índice, e isto facilita nosso trabalho na hora de procurar as informações que queremos, pois buscar a coluna pelo seu número pode nos causar confusão.
As principais maneiras de manipulação de dataframes no R podem ser feitas de três modos:
1) do modo tradicional, com pacote base, que veremos à seguir
2) Ela foi facilitada com os <a href="introdução-ao-r.html#tibbles">tibbles</a> e os pacotes do tidyverse (veremos mais abaixo), principalmente o dplyr.
3) Pode ser feita de forma mais rápida com o pacote <code>data.table</code> (mais rápida que o Python inclusive), especial para quantidade de dados maiores.
Cada um destes pacotes possuem comandos e lógicas um pouco diferentes.
Primeiro, vejamos o modo mais tradicional de tratar dataframes, sem a necessidade de carregar pacotes adicionais.</p>
<!-- escolaridade <- as.integer(c(08,13,15))  -->
<!-- https://educa.ibge.gov.br/jovens/conheca-o-brasil/populacao/18319-cor-ou-raca.html -->
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="introdução-ao-r.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando 3 vetores com valores aleatórios</span></span>
<span id="cb19-2"><a href="introdução-ao-r.html#cb19-2" aria-hidden="true" tabindex="-1"></a>idade <span class="ot">&lt;-</span>  <span class="fu">as.integer</span>(<span class="fu">c</span>(<span class="dv">12</span>,<span class="dv">23</span>,<span class="dv">35</span>)) </span>
<span id="cb19-3"><a href="introdução-ao-r.html#cb19-3" aria-hidden="true" tabindex="-1"></a>genero <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">&quot;fem&quot;</span>, <span class="st">&quot;mas&quot;</span>, <span class="st">&quot;fem&quot;</span>)) </span>
<span id="cb19-4"><a href="introdução-ao-r.html#cb19-4" aria-hidden="true" tabindex="-1"></a>raça <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">&quot;pret&quot;</span>, <span class="st">&quot;branc&quot;</span>, <span class="st">&quot;pard&quot;</span>)) </span>
<span id="cb19-5"><a href="introdução-ao-r.html#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="introdução-ao-r.html#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Jogando estes vetores no nosso dataframe, que vamos nomear de &quot;df&quot;</span></span>
<span id="cb19-7"><a href="introdução-ao-r.html#cb19-7" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(idade, genero, raça) </span>
<span id="cb19-8"><a href="introdução-ao-r.html#cb19-8" aria-hidden="true" tabindex="-1"></a>df <span class="co"># vendo nosso dataframe no console</span></span>
<span id="cb19-9"><a href="introdução-ao-r.html#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb19-10"><a href="introdução-ao-r.html#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb19-11"><a href="introdução-ao-r.html#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb19-12"><a href="introdução-ao-r.html#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb19-13"><a href="introdução-ao-r.html#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="introdução-ao-r.html#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ver o dataframe em uma nova janela pop-up</span></span>
<span id="cb19-15"><a href="introdução-ao-r.html#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(df) </span>
<span id="cb19-16"><a href="introdução-ao-r.html#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="introdução-ao-r.html#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df) <span class="co"># Qual a classe de nosso objeto, caso tenhamos esquecido?</span></span>
<span id="cb19-18"><a href="introdução-ao-r.html#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;data.frame&quot;</span></span>
<span id="cb19-19"><a href="introdução-ao-r.html#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="introdução-ao-r.html#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="co"># retornando apenas o nome das colunas</span></span>
<span id="cb19-21"><a href="introdução-ao-r.html#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;idade&quot;  &quot;genero&quot; &quot;raça&quot;</span></span>
<span id="cb19-22"><a href="introdução-ao-r.html#cb19-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-23"><a href="introdução-ao-r.html#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver o número de linhas e colunas através do comando</span></span>
<span id="cb19-24"><a href="introdução-ao-r.html#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="co"># dim() de &quot;dimensions&quot;</span></span>
<span id="cb19-25"><a href="introdução-ao-r.html#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df)</span>
<span id="cb19-26"><a href="introdução-ao-r.html#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3 3</span></span>
<span id="cb19-27"><a href="introdução-ao-r.html#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="co"># mostra a estrutura do dataframe, como </span></span>
<span id="cb19-28"><a href="introdução-ao-r.html#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="co"># quantidade de linhas (obs.) e colunas (variables)</span></span>
<span id="cb19-29"><a href="introdução-ao-r.html#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="co"># nomes das colunas, tipo de dado nesta coluna, primeiros valores</span></span>
<span id="cb19-30"><a href="introdução-ao-r.html#cb19-30" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df) </span>
<span id="cb19-31"><a href="introdução-ao-r.html#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="do">## &#39;data.frame&#39;:    3 obs. of  3 variables:</span></span>
<span id="cb19-32"><a href="introdução-ao-r.html#cb19-32" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ idade : int  12 23 35</span></span>
<span id="cb19-33"><a href="introdução-ao-r.html#cb19-33" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ genero: chr  &quot;fem&quot; &quot;mas&quot; &quot;fem&quot;</span></span>
<span id="cb19-34"><a href="introdução-ao-r.html#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ raça  : chr  &quot;pret&quot; &quot;branc&quot; &quot;pard&quot;</span></span>
<span id="cb19-35"><a href="introdução-ao-r.html#cb19-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-36"><a href="introdução-ao-r.html#cb19-36" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>genero <span class="co"># Filtrando o dataframe &quot;df&quot; pela coluna &quot;genero&quot;</span></span>
<span id="cb19-37"><a href="introdução-ao-r.html#cb19-37" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;fem&quot; &quot;mas&quot; &quot;fem&quot;</span></span>
<span id="cb19-38"><a href="introdução-ao-r.html#cb19-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-39"><a href="introdução-ao-r.html#cb19-39" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>] <span class="co"># Filtrando o dataframe pela coluna 2: df[numero] </span></span>
<span id="cb19-40"><a href="introdução-ao-r.html#cb19-40" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero</span></span>
<span id="cb19-41"><a href="introdução-ao-r.html#cb19-41" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    fem</span></span>
<span id="cb19-42"><a href="introdução-ao-r.html#cb19-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    mas</span></span>
<span id="cb19-43"><a href="introdução-ao-r.html#cb19-43" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    fem</span></span>
<span id="cb19-44"><a href="introdução-ao-r.html#cb19-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-45"><a href="introdução-ao-r.html#cb19-45" aria-hidden="true" tabindex="-1"></a>df[,<span class="dv">2</span>] <span class="co"># Filtrando o dataframe pela coluna 2:</span></span>
<span id="cb19-46"><a href="introdução-ao-r.html#cb19-46" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;fem&quot; &quot;mas&quot; &quot;fem&quot;</span></span>
<span id="cb19-47"><a href="introdução-ao-r.html#cb19-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-48"><a href="introdução-ao-r.html#cb19-48" aria-hidden="true" tabindex="-1"></a>df[,<span class="st">&quot;genero&quot;</span>] <span class="co"># Filtrando o dataframe pelo nome da coluna 2:</span></span>
<span id="cb19-49"><a href="introdução-ao-r.html#cb19-49" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;fem&quot; &quot;mas&quot; &quot;fem&quot;</span></span>
<span id="cb19-50"><a href="introdução-ao-r.html#cb19-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-51"><a href="introdução-ao-r.html#cb19-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando o dataframe pelo número da linha: df[número_da_Linha,] . </span></span>
<span id="cb19-52"><a href="introdução-ao-r.html#cb19-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Repare na necessidade da vírgula.</span></span>
<span id="cb19-53"><a href="introdução-ao-r.html#cb19-53" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">1</span>,] <span class="co"># imprimindo a linha 1</span></span>
<span id="cb19-54"><a href="introdução-ao-r.html#cb19-54" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raça</span></span>
<span id="cb19-55"><a href="introdução-ao-r.html#cb19-55" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem pret</span></span>
<span id="cb19-56"><a href="introdução-ao-r.html#cb19-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-57"><a href="introdução-ao-r.html#cb19-57" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">3</span>,] <span class="co"># imprimindo a linha 3</span></span>
<span id="cb19-58"><a href="introdução-ao-r.html#cb19-58" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raça</span></span>
<span id="cb19-59"><a href="introdução-ao-r.html#cb19-59" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem pard</span></span>
<span id="cb19-60"><a href="introdução-ao-r.html#cb19-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-61"><a href="introdução-ao-r.html#cb19-61" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,] <span class="co"># retornando as linhas de 1 a 2</span></span>
<span id="cb19-62"><a href="introdução-ao-r.html#cb19-62" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb19-63"><a href="introdução-ao-r.html#cb19-63" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb19-64"><a href="introdução-ao-r.html#cb19-64" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb19-65"><a href="introdução-ao-r.html#cb19-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-66"><a href="introdução-ao-r.html#cb19-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Para o caso de excluir as primeiras linhas</span></span>
<span id="cb19-67"><a href="introdução-ao-r.html#cb19-67" aria-hidden="true" tabindex="-1"></a><span class="co"># exclui as linhas de 1 a 2</span></span>
<span id="cb19-68"><a href="introdução-ao-r.html#cb19-68" aria-hidden="true" tabindex="-1"></a>df[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>),]</span>
<span id="cb19-69"><a href="introdução-ao-r.html#cb19-69" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raça</span></span>
<span id="cb19-70"><a href="introdução-ao-r.html#cb19-70" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem pard</span></span>
<span id="cb19-71"><a href="introdução-ao-r.html#cb19-71" aria-hidden="true" tabindex="-1"></a>df[,<span class="sc">-</span><span class="dv">3</span>] <span class="co"># retirando a coluna pelo seu índice</span></span>
<span id="cb19-72"><a href="introdução-ao-r.html#cb19-72" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero</span></span>
<span id="cb19-73"><a href="introdução-ao-r.html#cb19-73" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem</span></span>
<span id="cb19-74"><a href="introdução-ao-r.html#cb19-74" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas</span></span>
<span id="cb19-75"><a href="introdução-ao-r.html#cb19-75" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem</span></span>
<span id="cb19-76"><a href="introdução-ao-r.html#cb19-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-77"><a href="introdução-ao-r.html#cb19-77" aria-hidden="true" tabindex="-1"></a><span class="co"># media da coluna &quot;idade&quot;</span></span>
<span id="cb19-78"><a href="introdução-ao-r.html#cb19-78" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>idade)</span>
<span id="cb19-79"><a href="introdução-ao-r.html#cb19-79" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 23.33333</span></span>
<span id="cb19-80"><a href="introdução-ao-r.html#cb19-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-81"><a href="introdução-ao-r.html#cb19-81" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df) <span class="co"># Obtendo uma visão estatística ampla da tabela</span></span>
<span id="cb19-82"><a href="introdução-ao-r.html#cb19-82" aria-hidden="true" tabindex="-1"></a><span class="do">##      idade          genero              raça          </span></span>
<span id="cb19-83"><a href="introdução-ao-r.html#cb19-83" aria-hidden="true" tabindex="-1"></a><span class="do">##  Min.   :12.00   Length:3           Length:3          </span></span>
<span id="cb19-84"><a href="introdução-ao-r.html#cb19-84" aria-hidden="true" tabindex="-1"></a><span class="do">##  1st Qu.:17.50   Class :character   Class :character  </span></span>
<span id="cb19-85"><a href="introdução-ao-r.html#cb19-85" aria-hidden="true" tabindex="-1"></a><span class="do">##  Median :23.00   Mode  :character   Mode  :character  </span></span>
<span id="cb19-86"><a href="introdução-ao-r.html#cb19-86" aria-hidden="true" tabindex="-1"></a><span class="do">##  Mean   :23.33                                        </span></span>
<span id="cb19-87"><a href="introdução-ao-r.html#cb19-87" aria-hidden="true" tabindex="-1"></a><span class="do">##  3rd Qu.:29.00                                        </span></span>
<span id="cb19-88"><a href="introdução-ao-r.html#cb19-88" aria-hidden="true" tabindex="-1"></a><span class="do">##  Max.   :35.00</span></span>
<span id="cb19-89"><a href="introdução-ao-r.html#cb19-89" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>genero) <span class="co"># sumário da coluna &quot;gênero&quot; do dataset &quot;df&quot;</span></span>
<span id="cb19-90"><a href="introdução-ao-r.html#cb19-90" aria-hidden="true" tabindex="-1"></a><span class="do">##    Length     Class      Mode </span></span>
<span id="cb19-91"><a href="introdução-ao-r.html#cb19-91" aria-hidden="true" tabindex="-1"></a><span class="do">##         3 character character</span></span>
<span id="cb19-92"><a href="introdução-ao-r.html#cb19-92" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>idade) <span class="co"># sumário da coluna &quot;idade&quot; do dataset &quot;df&quot;</span></span>
<span id="cb19-93"><a href="introdução-ao-r.html#cb19-93" aria-hidden="true" tabindex="-1"></a><span class="do">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb19-94"><a href="introdução-ao-r.html#cb19-94" aria-hidden="true" tabindex="-1"></a><span class="do">##   12.00   17.50   23.00   23.33   29.00   35.00</span></span>
<span id="cb19-95"><a href="introdução-ao-r.html#cb19-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-96"><a href="introdução-ao-r.html#cb19-96" aria-hidden="true" tabindex="-1"></a><span class="co"># testando se valores da coluna &quot;genero&quot; são &quot;fem&quot;</span></span>
<span id="cb19-97"><a href="introdução-ao-r.html#cb19-97" aria-hidden="true" tabindex="-1"></a> df<span class="sc">$</span>genero<span class="sc">==</span><span class="st">&quot;fem&quot;</span></span>
<span id="cb19-98"><a href="introdução-ao-r.html#cb19-98" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  TRUE FALSE  TRUE</span></span>
<span id="cb19-99"><a href="introdução-ao-r.html#cb19-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-100"><a href="introdução-ao-r.html#cb19-100" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando apenas as linhas onde a coluna &quot;genero&quot; for &quot;fem&quot;. </span></span>
<span id="cb19-101"><a href="introdução-ao-r.html#cb19-101" aria-hidden="true" tabindex="-1"></a><span class="co"># Explicando de outro modo: quando &quot;genero&quot; igual a &quot;fem&quot; for verdadeiro, imprima</span></span>
<span id="cb19-102"><a href="introdução-ao-r.html#cb19-102" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>genero<span class="sc">==</span><span class="st">&quot;fem&quot;</span>,]</span>
<span id="cb19-103"><a href="introdução-ao-r.html#cb19-103" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raça</span></span>
<span id="cb19-104"><a href="introdução-ao-r.html#cb19-104" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem pret</span></span>
<span id="cb19-105"><a href="introdução-ao-r.html#cb19-105" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem pard</span></span>
<span id="cb19-106"><a href="introdução-ao-r.html#cb19-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-107"><a href="introdução-ao-r.html#cb19-107" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando apenas as linhas onde a escolaridade for maior que 12. </span></span>
<span id="cb19-108"><a href="introdução-ao-r.html#cb19-108" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>idade <span class="sc">&gt;</span> <span class="dv">12</span>,]</span>
<span id="cb19-109"><a href="introdução-ao-r.html#cb19-109" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb19-110"><a href="introdução-ao-r.html#cb19-110" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb19-111"><a href="introdução-ao-r.html#cb19-111" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span></code></pre></div>
<p>Além de criar um dataframe a partir de vetores, outro modo de criá-los é com a função <code>read.table()</code>, muito usada para carregar tabelas em texto puro (como as <a href="estrutura-de-dados-e-tipos-de-formatos.html#csv">tabelas em csv</a>).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="introdução-ao-r.html#cb20-1" aria-hidden="true" tabindex="-1"></a>meuDataFrame <span class="ot">&lt;-</span> <span class="fu">read.table</span>(</span>
<span id="cb20-2"><a href="introdução-ao-r.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Se header (cabeçalho) = True, então a primeira linha será considerada cabeçalho</span></span>
<span id="cb20-3"><a href="introdução-ao-r.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">header=</span><span class="cn">TRUE</span>, </span>
<span id="cb20-4"><a href="introdução-ao-r.html#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">text=</span><span class="st">&#39;</span></span>
<span id="cb20-5"><a href="introdução-ao-r.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="st"> Letra Valor</span></span>
<span id="cb20-6"><a href="introdução-ao-r.html#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="st">    A 9</span></span>
<span id="cb20-7"><a href="introdução-ao-r.html#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="st">    B 14</span></span>
<span id="cb20-8"><a href="introdução-ao-r.html#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="st">    C 11</span></span>
<span id="cb20-9"><a href="introdução-ao-r.html#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="st">    D 12&#39;</span>)</span>
<span id="cb20-10"><a href="introdução-ao-r.html#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="introdução-ao-r.html#cb20-11" aria-hidden="true" tabindex="-1"></a>meuDataFrame</span>
<span id="cb20-12"><a href="introdução-ao-r.html#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="do">##   Letra Valor</span></span>
<span id="cb20-13"><a href="introdução-ao-r.html#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 1     A     9</span></span>
<span id="cb20-14"><a href="introdução-ao-r.html#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 2     B    14</span></span>
<span id="cb20-15"><a href="introdução-ao-r.html#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 3     C    11</span></span>
<span id="cb20-16"><a href="introdução-ao-r.html#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 4     D    12</span></span>
<span id="cb20-17"><a href="introdução-ao-r.html#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="introdução-ao-r.html#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Vendo a estrutura do dataframe criado</span></span>
<span id="cb20-19"><a href="introdução-ao-r.html#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(meuDataFrame)</span>
<span id="cb20-20"><a href="introdução-ao-r.html#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="do">## &#39;data.frame&#39;:    4 obs. of  2 variables:</span></span>
<span id="cb20-21"><a href="introdução-ao-r.html#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ Letra: chr  &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot;</span></span>
<span id="cb20-22"><a href="introdução-ao-r.html#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ Valor: int  9 14 11 12</span></span></code></pre></div>
<p>No caso acima, o delimitador - que separa os campos/coluna - é o caractere de espaço. Caso queira utilizar outro caractere - digamos o <code>:</code> - usa-se o argumento <code>sep = ":"</code> em <code>readtable</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introdução-ao-r.html#cb21-1" aria-hidden="true" tabindex="-1"></a>meuDataFrame <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;:&quot;</span>, <span class="at">text=</span><span class="st">&#39;</span></span>
<span id="cb21-2"><a href="introdução-ao-r.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="st">Indice:Letra:Valor</span></span>
<span id="cb21-3"><a href="introdução-ao-r.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="st">1:A ala:9</span></span>
<span id="cb21-4"><a href="introdução-ao-r.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="st">2:B bla:14</span></span>
<span id="cb21-5"><a href="introdução-ao-r.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="st">3:C blable:11</span></span>
<span id="cb21-6"><a href="introdução-ao-r.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="st">4:D Ble:12&#39;</span>)</span>
<span id="cb21-7"><a href="introdução-ao-r.html#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="introdução-ao-r.html#cb21-8" aria-hidden="true" tabindex="-1"></a>meuDataFrame </span>
<span id="cb21-9"><a href="introdução-ao-r.html#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   Indice    Letra Valor</span></span>
<span id="cb21-10"><a href="introdução-ao-r.html#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 1      1    A ala     9</span></span>
<span id="cb21-11"><a href="introdução-ao-r.html#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 2      2    B bla    14</span></span>
<span id="cb21-12"><a href="introdução-ao-r.html#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 3      3 C blable    11</span></span>
<span id="cb21-13"><a href="introdução-ao-r.html#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 4      4    D Ble    12</span></span></code></pre></div>
</div>
<div id="fuzzySearch" class="section level3 hasAnchor" number="6.4.8">
<h3><span class="header-section-number">6.4.8</span> Busca difusa (<em>fuzzy search</em>)<a href="introdução-ao-r.html#fuzzySearch" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vimos como filtrar linhas utilizando operadores como <code>==</code>, que busca valor exato. Caso queiramos buscar utilizando valores aproximados - por exemplo, buscar números que comecem com 2, ou variações de uma mesma palavra - usamos a <em>fuzzy search</em> . Procedemos da seguinte forma:</p>
<ul>
<li>Utilizando <a href="https://rdrr.io/github/Fuzzy-Logix/AdapteR/man/grepl.html">grepl</a> buscamos por um padrão: <code>grepl("padrão", x , ignore.case = TRUE)</code>:
- <code>x</code> refere-se à base de dados onde vamos realizar a busca
- Podemos buscar tanto em maiúsculas como minúsculas com <code>ignore.case = TRUE</code>
- o comando retorna um vetor de booleanos: TRUE se o elemento contém o padrão e FALSE onde o elemento não atende ao critério
- A partir disso - um vetor de valores TRUE e FALSE - vamos filtrar o dataframe com os valores TRUE: <code>dataframe[vetor_valores_booleanos,]</code></li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introdução-ao-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># grepl busca por padrões e retorna booleanos true e false</span></span>
<span id="cb22-2"><a href="introdução-ao-r.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;ble&quot;</span>, meuDataFrame, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-3"><a href="introdução-ao-r.html#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE  TRUE FALSE</span></span>
<span id="cb22-4"><a href="introdução-ao-r.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A sequência acima buscou se nas COLUNAS há o valor &quot;ble&quot;.</span></span>
<span id="cb22-5"><a href="introdução-ao-r.html#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># temos 3 colunas e 4 linhas no nosso DF</span></span>
<span id="cb22-6"><a href="introdução-ao-r.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos buscar somente em uma coluna específica com:</span></span>
<span id="cb22-7"><a href="introdução-ao-r.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;ble&quot;</span>, meuDataFrame<span class="sc">$</span>Letra, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-8"><a href="introdução-ao-r.html#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE FALSE  TRUE  TRUE</span></span>
<span id="cb22-9"><a href="introdução-ao-r.html#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Para vermos apenas os itens com o valor &quot;ble&quot; (que portanto, são TRUE)</span></span>
<span id="cb22-10"><a href="introdução-ao-r.html#cb22-10" aria-hidden="true" tabindex="-1"></a>meuDataFrame<span class="sc">$</span>Letra[<span class="fu">grepl</span>(<span class="st">&quot;ble&quot;</span>, meuDataFrame<span class="sc">$</span>Letra, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)]</span>
<span id="cb22-11"><a href="introdução-ao-r.html#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;C blable&quot; &quot;D Ble&quot;</span></span>
<span id="cb22-12"><a href="introdução-ao-r.html#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrando as linhas do df com o valor buscado </span></span>
<span id="cb22-13"><a href="introdução-ao-r.html#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co"># (atenção para a vírgula ao final): df[grepl,] </span></span>
<span id="cb22-14"><a href="introdução-ao-r.html#cb22-14" aria-hidden="true" tabindex="-1"></a>meuDataFrame[<span class="fu">grepl</span>(<span class="st">&quot;ble&quot;</span>, meuDataFrame<span class="sc">$</span>Letra, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>),]</span>
<span id="cb22-15"><a href="introdução-ao-r.html#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   Indice    Letra Valor</span></span>
<span id="cb22-16"><a href="introdução-ao-r.html#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 3      3 C blable    11</span></span>
<span id="cb22-17"><a href="introdução-ao-r.html#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 4      4    D Ble    12</span></span></code></pre></div>
<p>A busca difusa pode ficar mais poderosa com o uso de <a href="normalização-de-texto-e-expressões-regulares.html#regex">expressões regulares</a>, que veremos mais à frente.</p>
<div id="manipulandoeditando-o-data-frame" class="section level4 hasAnchor" number="6.4.8.1">
<h4><span class="header-section-number">6.4.8.1</span> Manipulando/Editando o data frame<a href="introdução-ao-r.html#manipulandoeditando-o-data-frame" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introdução-ao-r.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adicionando (append) nova linha ao data.frame </span></span>
<span id="cb23-2"><a href="introdução-ao-r.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Modo1: através do &#39;nrow&#39;</span></span>
<span id="cb23-3"><a href="introdução-ao-r.html#cb23-3" aria-hidden="true" tabindex="-1"></a>df[<span class="fu">nrow</span>(df)<span class="sc">+</span><span class="dv">1</span>,]<span class="ot">=</span><span class="fu">c</span>(<span class="dv">23</span>, <span class="st">&quot;mas&quot;</span>, <span class="st">&quot;branc&quot;</span>)</span>
<span id="cb23-4"><a href="introdução-ao-r.html#cb23-4" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb23-5"><a href="introdução-ao-r.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb23-6"><a href="introdução-ao-r.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb23-7"><a href="introdução-ao-r.html#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb23-8"><a href="introdução-ao-r.html#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb23-9"><a href="introdução-ao-r.html#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    23    mas branc</span></span>
<span id="cb23-10"><a href="introdução-ao-r.html#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Modo 2: rbind()</span></span>
<span id="cb23-11"><a href="introdução-ao-r.html#cb23-11" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df, <span class="fu">c</span>(<span class="dv">20</span>,<span class="st">&quot;fem&quot;</span>, <span class="st">&quot;pret&quot;</span>))</span>
<span id="cb23-12"><a href="introdução-ao-r.html#cb23-12" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb23-13"><a href="introdução-ao-r.html#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb23-14"><a href="introdução-ao-r.html#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb23-15"><a href="introdução-ao-r.html#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb23-16"><a href="introdução-ao-r.html#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb23-17"><a href="introdução-ao-r.html#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    23    mas branc</span></span>
<span id="cb23-18"><a href="introdução-ao-r.html#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem  pret</span></span>
<span id="cb23-19"><a href="introdução-ao-r.html#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="introdução-ao-r.html#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="co"># mudando um valor, em uma célula</span></span>
<span id="cb23-21"><a href="introdução-ao-r.html#cb23-21" aria-hidden="true" tabindex="-1"></a><span class="co"># data.frame[número_da_linha, número_da_coluna] = new_value</span></span>
<span id="cb23-22"><a href="introdução-ao-r.html#cb23-22" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">4</span>,<span class="dv">1</span>] <span class="ot">=</span> <span class="dv">14</span></span>
<span id="cb23-23"><a href="introdução-ao-r.html#cb23-23" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb23-24"><a href="introdução-ao-r.html#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb23-25"><a href="introdução-ao-r.html#cb23-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb23-26"><a href="introdução-ao-r.html#cb23-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb23-27"><a href="introdução-ao-r.html#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb23-28"><a href="introdução-ao-r.html#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    14    mas branc</span></span>
<span id="cb23-29"><a href="introdução-ao-r.html#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem  pret</span></span>
<span id="cb23-30"><a href="introdução-ao-r.html#cb23-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-31"><a href="introdução-ao-r.html#cb23-31" aria-hidden="true" tabindex="-1"></a><span class="co"># mudando um valor usando o nome da coluna</span></span>
<span id="cb23-32"><a href="introdução-ao-r.html#cb23-32" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">4</span>,<span class="st">&quot;raça&quot;</span>] <span class="ot">=</span> <span class="st">&quot;pret&quot;</span></span>
<span id="cb23-33"><a href="introdução-ao-r.html#cb23-33" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb23-34"><a href="introdução-ao-r.html#cb23-34" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb23-35"><a href="introdução-ao-r.html#cb23-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb23-36"><a href="introdução-ao-r.html#cb23-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb23-37"><a href="introdução-ao-r.html#cb23-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb23-38"><a href="introdução-ao-r.html#cb23-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    14    mas  pret</span></span>
<span id="cb23-39"><a href="introdução-ao-r.html#cb23-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem  pret</span></span>
<span id="cb23-40"><a href="introdução-ao-r.html#cb23-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-41"><a href="introdução-ao-r.html#cb23-41" aria-hidden="true" tabindex="-1"></a><span class="co"># mudando valores com condicionais</span></span>
<span id="cb23-42"><a href="introdução-ao-r.html#cb23-42" aria-hidden="true" tabindex="-1"></a><span class="co"># onde coluna raça for &quot;branc&quot;, mudar na coluna &quot;raça&quot; para &quot;branco&quot;</span></span>
<span id="cb23-43"><a href="introdução-ao-r.html#cb23-43" aria-hidden="true" tabindex="-1"></a><span class="co"># se o segundo parâmetro não for inserido, todas células ganharão valor &quot;branco&quot;</span></span>
<span id="cb23-44"><a href="introdução-ao-r.html#cb23-44" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>raça<span class="sc">==</span><span class="st">&quot;branc&quot;</span>, <span class="st">&quot;raça&quot;</span>] <span class="ot">=</span> <span class="st">&quot;branco&quot;</span></span>
<span id="cb23-45"><a href="introdução-ao-r.html#cb23-45" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb23-46"><a href="introdução-ao-r.html#cb23-46" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero   raça</span></span>
<span id="cb23-47"><a href="introdução-ao-r.html#cb23-47" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem   pret</span></span>
<span id="cb23-48"><a href="introdução-ao-r.html#cb23-48" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branco</span></span>
<span id="cb23-49"><a href="introdução-ao-r.html#cb23-49" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem   pard</span></span>
<span id="cb23-50"><a href="introdução-ao-r.html#cb23-50" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    14    mas   pret</span></span>
<span id="cb23-51"><a href="introdução-ao-r.html#cb23-51" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem   pret</span></span>
<span id="cb23-52"><a href="introdução-ao-r.html#cb23-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-53"><a href="introdução-ao-r.html#cb23-53" aria-hidden="true" tabindex="-1"></a><span class="co"># deletando linhas</span></span>
<span id="cb23-54"><a href="introdução-ao-r.html#cb23-54" aria-hidden="true" tabindex="-1"></a><span class="co"># com base no numero da linha</span></span>
<span id="cb23-55"><a href="introdução-ao-r.html#cb23-55" aria-hidden="true" tabindex="-1"></a>df[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]  <span class="co"># deleta a linha 1</span></span>
<span id="cb23-56"><a href="introdução-ao-r.html#cb23-56" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero   raça</span></span>
<span id="cb23-57"><a href="introdução-ao-r.html#cb23-57" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branco</span></span>
<span id="cb23-58"><a href="introdução-ao-r.html#cb23-58" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem   pard</span></span>
<span id="cb23-59"><a href="introdução-ao-r.html#cb23-59" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    14    mas   pret</span></span>
<span id="cb23-60"><a href="introdução-ao-r.html#cb23-60" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem   pret</span></span>
<span id="cb23-61"><a href="introdução-ao-r.html#cb23-61" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]  <span class="co"># para tornar a mudança permanente</span></span>
<span id="cb23-62"><a href="introdução-ao-r.html#cb23-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-63"><a href="introdução-ao-r.html#cb23-63" aria-hidden="true" tabindex="-1"></a><span class="co"># com base no valor</span></span>
<span id="cb23-64"><a href="introdução-ao-r.html#cb23-64" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> df[<span class="sc">!</span>df<span class="sc">$</span>a<span class="sc">==</span><span class="st">&quot;bla&quot;</span>,]</span></code></pre></div>
</div>
</div>
<div id="considerações-finais-sobre-estrutura-de-dados" class="section level3 hasAnchor" number="6.4.9">
<h3><span class="header-section-number">6.4.9</span> Considerações finais sobre estrutura de dados<a href="introdução-ao-r.html#considerações-finais-sobre-estrutura-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Estes não são os únicos tipos de estrutura de dados no R.
Alguns pacotes podem criar o seu próprio tipo e não convém tentar cobrir todos.
Apesar de considerar tipos diferentes, podemos considerar os diferentes tipos como subcategorias de outras.
Data frames são um tipo restrito de listas.
Listas, por sua vez, são um tipo de vetor.
Veremos a seguir a suíte de pacotes do <code>tidyverse</code> que possui formato próprio de dados.</p>
</div>
</div>
<div id="instalandopacotes" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Instalando pacotes no R<a href="introdução-ao-r.html#instalandopacotes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>No R não carregamos tudo de uma vez, mas carregamos os pacotes ou bibliotecas que vamos usar através do comando <code>library(Nome_do_pacote)</code>, e assim salvamos mais memória para o processamento no computador.</p>
<p>Podemos ainda chamar apenas uma função específica de um pacote específico através do comando <code>pacote::função()</code> sem carregar todo o pacote. Neste caso a função é utilizada de modo <em>ad hoc</em>. Em alguns tutoriais sobre o R podemos ver o uso conjunto tanto do <code>library(pacote)</code> como do <code>pacote::função()</code> e o motivo é didático, para tornar claro a qual pacote pertence a função.</p>
<p>Um modo de instalar pacotes é via linha de comando</p>
<div id="modo-1-instalando-via-linha-de-comando" class="section level3 hasAnchor" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> Modo 1: instalando via linha de comando<a href="introdução-ao-r.html#modo-1-instalando-via-linha-de-comando" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introdução-ao-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;Nome_do_pacote&quot;</span>)</span></code></pre></div>
<!-- no windows, os binários ficam em "C:Users\...\AppData\Local\Temp\ -->
<p>Para checar os pacotes instalados:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="introdução-ao-r.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(<span class="fu">installed.packages</span>())</span></code></pre></div>
</div>
<div id="modo-2-instalando-pacotes-no-modo-gráfico" class="section level3 hasAnchor" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> Modo 2: Instalando pacotes no modo gráfico<a href="introdução-ao-r.html#modo-2-instalando-pacotes-no-modo-gráfico" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>No RStudio, outro modo é ir na aba packages / install</p>
<div class="figure">
<img src="imagens/installpackages1.png" alt="" />
<p class="caption">RStudio: instalando pacotes</p>
</div>
<p>Após isso, digite o nome do pacote na caixa, deixando marcado o “install dependencies” e depois em “install”. É muito comum os pacotes precisarem de outros pacotes, e com esta opção marcada, o R instala tudo.</p>
<p><img src="imagens/installpackages2.png" /></p>
</div>
</div>
<div id="tidyverse" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> A suíte de pacotes <code>tidyverse</code><a href="introdução-ao-r.html#tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>O tidyverse é uma suíte de pacotes bastante úteis e de uso mais fácil que os pacotes tradicionais do R.</p>
<div class="infobox note">
<p><strong>Dicas</strong></p>
<p>O artigo do Hadley Wickham, o criador da ideia, explicando a “filosofia” dos dados “tidy”.
&gt; Hadley Wickham. <a href="https://vita.had.co.nz/papers/tidy-data.pdf">Tidy Data</a>. Journal of Statistical Software</p>
</div>
<p>Para instalar a suíte de pacotes tidyverse</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introdução-ao-r.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(tidyverse)</span></code></pre></div>
<p>O <code>tidyverse</code> conta com diversos pacotes e estão sempre aumentando.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="introdução-ao-r.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb27-2"><a href="introdução-ao-r.html#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="introdução-ao-r.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo os pacotes disponíveis no tidyverse:</span></span>
<span id="cb27-4"><a href="introdução-ao-r.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tidyverse_packages</span>()</span>
<span id="cb27-5"><a href="introdução-ao-r.html#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;broom&quot;         &quot;cli&quot;           &quot;crayon&quot;        &quot;dbplyr&quot;       </span></span>
<span id="cb27-6"><a href="introdução-ao-r.html#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;dplyr&quot;         &quot;dtplyr&quot;        &quot;forcats&quot;       &quot;googledrive&quot;  </span></span>
<span id="cb27-7"><a href="introdução-ao-r.html#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;googlesheets4&quot; &quot;ggplot2&quot;       &quot;haven&quot;         &quot;hms&quot;          </span></span>
<span id="cb27-8"><a href="introdução-ao-r.html#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;httr&quot;          &quot;jsonlite&quot;      &quot;lubridate&quot;     &quot;magrittr&quot;     </span></span>
<span id="cb27-9"><a href="introdução-ao-r.html#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;modelr&quot;        &quot;pillar&quot;        &quot;purrr&quot;         &quot;readr&quot;        </span></span>
<span id="cb27-10"><a href="introdução-ao-r.html#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;readxl&quot;        &quot;reprex&quot;        &quot;rlang&quot;         &quot;rstudioapi&quot;   </span></span>
<span id="cb27-11"><a href="introdução-ao-r.html#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;rvest&quot;         &quot;stringr&quot;       &quot;tibble&quot;        &quot;tidyr&quot;        </span></span>
<span id="cb27-12"><a href="introdução-ao-r.html#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] &quot;xml2&quot;          &quot;tidyverse&quot;</span></span></code></pre></div>
<div class="figure">
<img src="https://miro.medium.com/max/576/1*ckRqx4kCTUd--c9vZ1lc9Q.png" alt="" />
<p class="caption">O ecossistema tidyverse</p>
</div>
<p>Tidyverse ecosystem picture (author: Silvia Canelón, PhD. Original link)</p>
<p><img src="https://i0.wp.com/github.com/Joziani/Tidyverse/raw/master/imagens/pacotes.png" alt="Os que fazem os pacotes da suíte tidyverse" />
<!-- https://operdata.com.br/blog/tidyverse-os-pacotes-mais-usados-no-r/ --></p>
<p>Para nós, destes pacotes, os mais interessantes são:</p>
<table>
<colgroup>
<col width="69%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th>Pacote tidyverse</th>
<th>descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://readr.tidyverse.org/">readr</a></td>
<td>Lê dados retangulares (de tabelas) como csv, tsv e fwf</td>
</tr>
<tr class="even">
<td><a href="https://rvest.tidyverse.org/">rvest</a></td>
<td>usado para minerar dados na web de modo fácil</td>
</tr>
<tr class="odd">
<td><a href="https://tibble.tidyverse.org/">tibble</a></td>
<td>Para trabalharmos com tibble, um tipo de data frame</td>
</tr>
<tr class="even">
<td><a href="https://ggplot2.tidyverse.org/">ggplot2</a></td>
<td>Famoso pacote de geração de gráficos</td>
</tr>
<tr class="odd">
<td><a href="https://dplyr.tidyverse.org/">dplyr</a></td>
<td>Para manipulação facilitada de dados</td>
</tr>
<tr class="even">
<td><a href="https://stringr.tidyverse.org/">stringr</a></td>
<td>Usado na manipução de strings</td>
</tr>
<tr class="odd">
<td><a href="https://lubridate.tidyverse.org/">libridate</a></td>
<td>Para lidar com data e hora de modo fácil</td>
</tr>
<tr class="even">
<td><a href="https://purrr.tidyverse.org/">purrr</a></td>
<td>Usado em programação funcional, torna a construção de loops mais limpa e fácil</td>
</tr>
<tr class="odd">
<td><a href="https://magrittr.tidyverse.org/">magrittr</a></td>
<td>Para usar pipes (<code>%&gt;%</code>). Parte dele é carregado ao carregar outros pacotes da suíte</td>
</tr>
<tr class="even">
<td><a href="https://forcats.tidyverse.org/">forcats</a></td>
<td>Usado para trabalharmos com fatores, ao lidar com dados categóricos</td>
</tr>
<tr class="odd">
<td><a href="https://haven.tidyverse.org/">haven</a></td>
<td>Para ler e salvar arquivos dos softwares SPSS, SAS e Stata</td>
</tr>
<tr class="even">
<td><a href="https://readxl.tidyverse.org/">readxl</a></td>
<td>Para ler arquivos do Excell</td>
</tr>
</tbody>
</table>
<!-- |[tidyr](https://tidyr.tidyverse.org/)|Usado para cirar dados tipo tidy| -->
<!-- |purrr|| -->
<div id="pipes" class="section level3 hasAnchor" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> Pipes<a href="introdução-ao-r.html#pipes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- https://www.datacamp.com/community/tutorials/pipe-r-tutorial -->
<p>Quando aplicamos uma série de funções em série, o modo tradicional é de fazê-lo é colocando funções dentro de outras funções, as “nested functions”, por exemplo:</p>
<p><code>função3(função2(função1)))</code></p>
<div class="figure">
<img src="imagens/meme_function-function-function.jpg" style="width:50.0%" alt="" />
<p class="caption">Representação metafórica de funções dentro de outras funções</p>
</div>
<p>Repare que a ordem das funções é invertida, o que pode tornar bem trabalhosa a tarefa de descobrir a ordem das funções.
Mas podemos fazer o mesmo de um modo mais fácil e bem mais inteligível, usando pipes do pacote <a href="https://www.rdocumentation.org/packages/magrittr/versions/2.0.1"><code>magritrr</code></a> do tidyverse. Para carregá-lo, basta carregar qualquer um dos pacotes do tidyverse, como stringr ou dplyr.</p>
<p>Com ele, ao invés das funções dentro de funções do exemplo anterior, é possível ordenar os comandos intercalados com pipes de um modo mais intuitivo</p>
<p><code>função1() %&gt;% função2() %&gt;% função3()</code></p>
<p>Caso não haja parâmetros dentro dos parênteses, pode-se retirar os parênteses.</p>
<p><code>função1 %&gt;% função2 %&gt;% função3</code></p>
<p>Caso, a função exija mais de um parâmetro, deve-se indicar o local onde o nome do dataframe/vetor, etc com um ponto final.</p>
<p><code>função1() %&gt;% função2(., parametroQualquer = ValorDoParametroQualquer)</code></p>
<p>ou se a função for diferente (ao olhar os argumentos da função, o <code>x</code> diz onde o ponto de ir)</p>
<p><code>função1() %&gt;% função3(parametroQualquer, OutroParametroQualquer, .)</code></p>
<p>Há ainda outros pipes, mas neste caso, o pacote <code>magrittr</code> deve ser carregado explicitamente.
como o <code>%$%</code>. <code>data.frame %$% coluna</code> que equivale a <code>data.frame$coluna</code>.</p>
<!-- The compound assignment operator `%<>%` -->
<!-- magrittr package's  -->
<!-- `%$%` -->
<!-- `text_data_frame %$% polarity(text_column_name)` -->
<!-- polarity_object <- text_data_frame %$%  -->
<!--   polarity(text_column_name, grouping_column_name) -->
<!-- , “equivalent” is not technically exact: evaluation is non-standard -->
<!-- |Operador|Descrição|Exemplo| -->
<!-- |---|---|---| -->
<!-- |`%>%`|pipe|x %>% f is equivalent to `f(x)`. `x %>% f(y)` is equivalent to `f(x, y)`| -->
<!-- |`%<>%`|assignment pipe|| -->
<!-- |`%$%`|Exposition pipe|| -->
<!-- |`%T>%`|tee pipe|| -->
<p>Em maio de 2021 foi introduzido no <a href="https://www.r-bloggers.com/2021/05/the-new-r-pipe/">R versão 4.1.0 um novo pipe</a>, nativo, vindo por padrão no R, o <code>|&gt;</code>, que tem suas peculiaridades. Talvez o mais prudente é aguardar um pouco mais para usá-lo. Até lá, indica-se usar o pipe do tidyverse.</p>
</div>
<div id="tibbles" class="section level3 hasAnchor" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> Tibbles<a href="introdução-ao-r.html#tibbles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O “Tibble” é um modo de chamar objetos da classe “tbl_df”, um tipo de <a href="introdução-ao-r.html#dataframes">dataframe</a>, mas que possui algumas vantagens.
O tibble, ao ser chamado, mostra apenas as 10 primeiras linhas, ao invés do dataframe inteiro, o que é bem útil quando temos tabelas que não sejam minúsculas. O Tibble, ao contrário do dataframe, também mostra os tipos de dados das variáveis, e tenta se adequar ao tamanho da tela.
Além disso, um tibble não força caracteres para fatores, que é o modo como lidamos com strings ao fazermos a análise textual.
<!-- <https://www.tidytextmining.com/tidytext.html?q=tibble#the-unnest_tokens-function> A tibble, which is a colloquial term for an object of class tbl_df. -->
O video <a href="https://www.youtube.com/watch?v=mGTuJLXXmAQ">“Qual a diferença entre dataframe e tibble?”</a> do canal de Samuel Macedo explica as diferenças entre estes dois tipos.
<!-- A tibble, or tbl_df, is a modern reimagining of the data.frame, keeping what time has proven to be effective, and throwing out what is not. -->
<!-- Tibbles are data.frames that are lazy and surly: they do less (i.e. they don't change variable names or types, and don't do partial matching) and complain more (e.g. when a variable does not exist). -->
<!-- This forces you to confront problems earlier, typically leading to cleaner, more expressive code. -->
<!-- Tibbles also have an enhanced print() method which makes them easier to use with large datasets containing complex objects. -->
<!-- [Build a data frame](https://tibble.tidyverse.org/reference/tibble.html) -->
<!-- -   Character vectors are not coerced to factor. -->
<!-- -   List-columns are expressly anticipated and do not require special tricks. -->
<!-- -   Column names are not modified. -->
<!-- -   Inner names in columns are left unchanged. -->
<!-- never changes the type of the inputs (e.g. it never converts strings to factors!), it never changes the names of variables --></p>
<!-- <https://tibble.tidyverse.org/articles/tibble.html> There are three key differences between tibbles and data frames: printing, subsetting, and recycling rules. -->
<!-- ![](http://www.sthda.com/sthda/RDoc/images/tibble-data-format-tbl_df.png) -->
<p>Vamos criar um tibble com os dados que usamos no exemplo anterior do <a href="introdução-ao-r.html#dataframes">dataframe</a>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introdução-ao-r.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criando vetores com valores</span></span>
<span id="cb28-2"><a href="introdução-ao-r.html#cb28-2" aria-hidden="true" tabindex="-1"></a>idade <span class="ot">&lt;-</span>  <span class="fu">as.integer</span>(<span class="fu">c</span>(<span class="dv">12</span>,<span class="dv">23</span>,<span class="dv">35</span>, <span class="dv">22</span>, <span class="dv">73</span>)) </span>
<span id="cb28-3"><a href="introdução-ao-r.html#cb28-3" aria-hidden="true" tabindex="-1"></a>genero <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">&quot;fem&quot;</span>, <span class="st">&quot;mas&quot;</span>, <span class="st">&quot;fem&quot;</span>, <span class="st">&quot;fem&quot;</span>, <span class="st">&quot;mas&quot;</span>)) </span>
<span id="cb28-4"><a href="introdução-ao-r.html#cb28-4" aria-hidden="true" tabindex="-1"></a>raca <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">&quot;preto&quot;</span>, <span class="st">&quot;branco&quot;</span>, <span class="st">&quot;pardo&quot;</span>, <span class="st">&quot;pardo&quot;</span>, <span class="st">&quot;branco&quot;</span>)) </span>
<span id="cb28-5"><a href="introdução-ao-r.html#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="introdução-ao-r.html#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># cria-se tibble com a função &#39;tibble()&#39; a partir dos vetores anteriores</span></span>
<span id="cb28-7"><a href="introdução-ao-r.html#cb28-7" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(idade,</span>
<span id="cb28-8"><a href="introdução-ao-r.html#cb28-8" aria-hidden="true" tabindex="-1"></a>                  <span class="co">#  Não esqueça de colocar vírgula ao final destas linhas</span></span>
<span id="cb28-9"><a href="introdução-ao-r.html#cb28-9" aria-hidden="true" tabindex="-1"></a>                       genero,</span>
<span id="cb28-10"><a href="introdução-ao-r.html#cb28-10" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># a ultima liha não leva vírgula</span></span>
<span id="cb28-11"><a href="introdução-ao-r.html#cb28-11" aria-hidden="true" tabindex="-1"></a>                       raca)</span>
<span id="cb28-12"><a href="introdução-ao-r.html#cb28-12" aria-hidden="true" tabindex="-1"></a>MeuTibble</span>
<span id="cb28-13"><a href="introdução-ao-r.html#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 3</span></span>
<span id="cb28-14"><a href="introdução-ao-r.html#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca  </span></span>
<span id="cb28-15"><a href="introdução-ao-r.html#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb28-16"><a href="introdução-ao-r.html#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem    preto </span></span>
<span id="cb28-17"><a href="introdução-ao-r.html#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23 mas    branco</span></span>
<span id="cb28-18"><a href="introdução-ao-r.html#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35 fem    pardo </span></span>
<span id="cb28-19"><a href="introdução-ao-r.html#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22 fem    pardo </span></span>
<span id="cb28-20"><a href="introdução-ao-r.html#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73 mas    branco</span></span>
<span id="cb28-21"><a href="introdução-ao-r.html#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="co"># mostrando apenas uma colunar}</span></span>
<span id="cb28-22"><a href="introdução-ao-r.html#cb28-22" aria-hidden="true" tabindex="-1"></a>MeuTibble<span class="sc">$</span>genero</span>
<span id="cb28-23"><a href="introdução-ao-r.html#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;fem&quot; &quot;mas&quot; &quot;fem&quot; &quot;fem&quot; &quot;mas&quot;</span></span></code></pre></div>
<p>Também é possível alterar o nome da coluna/variável ao criar o tibble, usando o formato <code>nome_da_coluna_no_tibble = nome_da_variável,</code></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introdução-ao-r.html#cb29-1" aria-hidden="true" tabindex="-1"></a>MeuTibble2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">idade_amostra =</span> idade,</span>
<span id="cb29-2"><a href="introdução-ao-r.html#cb29-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">genero_amostra =</span> genero,</span>
<span id="cb29-3"><a href="introdução-ao-r.html#cb29-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">raca_amostra =</span> raca)</span>
<span id="cb29-4"><a href="introdução-ao-r.html#cb29-4" aria-hidden="true" tabindex="-1"></a>MeuTibble2</span>
<span id="cb29-5"><a href="introdução-ao-r.html#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 3</span></span>
<span id="cb29-6"><a href="introdução-ao-r.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade_amostra genero_amostra raca_amostra</span></span>
<span id="cb29-7"><a href="introdução-ao-r.html#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="do">##           &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;       </span></span>
<span id="cb29-8"><a href="introdução-ao-r.html#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1            12 fem            preto       </span></span>
<span id="cb29-9"><a href="introdução-ao-r.html#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2            23 mas            branco      </span></span>
<span id="cb29-10"><a href="introdução-ao-r.html#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 3            35 fem            pardo       </span></span>
<span id="cb29-11"><a href="introdução-ao-r.html#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 4            22 fem            pardo       </span></span>
<span id="cb29-12"><a href="introdução-ao-r.html#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 5            73 mas            branco</span></span></code></pre></div>
</div>
<div id="dplyr" class="section level3 hasAnchor" number="6.6.3">
<h3><span class="header-section-number">6.6.3</span> Dplyr: Verbos (ou comandos)<a href="introdução-ao-r.html#dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O pacote <a href="https://dplyr.tidyverse.org/">Dplyr</a> possui vários “verbos” ou comandos, para manipulação de dados:</p>
<ul>
<li>Manipulando linhas:
<ul>
<li><a href="introdução-ao-r.html#filter"><code>filter()</code></a> filtra linhas com base nos valores das colunas.</li>
<li><a href="https://dplyr.tidyverse.org/reference/slice.html"><code>slice()</code></a> escolhe linhas com base na localização.</li>
<li><a href="introdução-ao-r.html#arrange"><code>arrange()</code></a> reordena as linhas com base na ordem de uma ou mais colunas. Pode ser combinada com <code>desc()</code> para inverter a ordem. Por exemplo, em um dataframe, podemos reordená-la com bbase na ordem alfabética dos nomes, ou das datas ou de alguma outra coluna.</li>
</ul></li>
<li>Colunas:
<ul>
<li><a href="introdução-ao-r.html#select"><code>select()</code></a> seleciona/filtra variáveis/colunas. Para inverter a seleção, usar <code>select(!Variavel)</code>
<!-- changes whether or not a column is included. --></li>
<li><a href="introdução-ao-r.html#rename"><code>rename()</code></a> muda o nome das colunas.</li>
<li><a href="introdução-ao-r.html#mutate"><code>mutate()</code></a> muda os valores de colunas e pode também criar novas colunas (útil para criar nova coluna com base em uma já existente).</li>
<li><a href="#relocate"><code>relocate()</code></a> muda a ordem das colunas.</li>
</ul></li>
<li>Grupo de linhas:
<ul>
<li><a href="introdução-ao-r.html#summarise"><code>summarise()</code></a> colapsa um grupo de linhas em uma linha única, sendo combinada com outros comandos</li>
<li><a href="introdução-ao-r.html#group_by"><code>group_by()</code></a> junta linhas de mesmo valor (bom para usar com fatores). Deve ser usado em conjunto com outros comandos. (Esta é uma função genérica, isto é, provê implementação de outros pacotes)</li>
</ul></li>
</ul>
<p>Fonte: Baseado parcialmente em <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html">Introduction to dplyr</a>.</p>
<p>Vejamos exemplos destes comandos.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="introdução-ao-r.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># carregando o pacote caso não tenha sido carregado</span></span>
<span id="cb30-2"><a href="introdução-ao-r.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb30-3"><a href="introdução-ao-r.html#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Attaching package: &#39;dplyr&#39;</span></span>
<span id="cb30-4"><a href="introdução-ao-r.html#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="do">## The following objects are masked from &#39;package:stats&#39;:</span></span>
<span id="cb30-5"><a href="introdução-ao-r.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb30-6"><a href="introdução-ao-r.html#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="do">##     filter, lag</span></span>
<span id="cb30-7"><a href="introdução-ao-r.html#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="do">## The following objects are masked from &#39;package:base&#39;:</span></span>
<span id="cb30-8"><a href="introdução-ao-r.html#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb30-9"><a href="introdução-ao-r.html#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="do">##     intersect, setdiff, setequal, union</span></span></code></pre></div>
<div id="dplyrfilter" class="section level5 hasAnchor" number="6.6.3.0.1">
<h5><span class="header-section-number">6.6.3.0.1</span> dplyr::<a href="https://dplyr.tidyverse.org/reference/filter.html" id="filter"><code>filter()</code></a><a href="introdução-ao-r.html#dplyrfilter" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Usamos o verbo filter para filtrar linhas com certos valores específicos</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="introdução-ao-r.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando um valor específico de uma coluna</span></span>
<span id="cb31-2"><a href="introdução-ao-r.html#cb31-2" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb31-3"><a href="introdução-ao-r.html#cb31-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(genero <span class="sc">==</span> <span class="st">&quot;fem&quot;</span>)</span>
<span id="cb31-4"><a href="introdução-ao-r.html#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb31-5"><a href="introdução-ao-r.html#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca </span></span>
<span id="cb31-6"><a href="introdução-ao-r.html#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;</span></span>
<span id="cb31-7"><a href="introdução-ao-r.html#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem    preto</span></span>
<span id="cb31-8"><a href="introdução-ao-r.html#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 fem    pardo</span></span>
<span id="cb31-9"><a href="introdução-ao-r.html#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    22 fem    pardo</span></span>
<span id="cb31-10"><a href="introdução-ao-r.html#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="introdução-ao-r.html#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando por valores de duas colunas</span></span>
<span id="cb31-12"><a href="introdução-ao-r.html#cb31-12" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb31-13"><a href="introdução-ao-r.html#cb31-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(genero <span class="sc">==</span> <span class="st">&quot;fem&quot;</span> <span class="sc">&amp;</span> raca <span class="sc">==</span> <span class="st">&quot;pardo&quot;</span>)</span>
<span id="cb31-14"><a href="introdução-ao-r.html#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 2 × 3</span></span>
<span id="cb31-15"><a href="introdução-ao-r.html#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca </span></span>
<span id="cb31-16"><a href="introdução-ao-r.html#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;</span></span>
<span id="cb31-17"><a href="introdução-ao-r.html#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    35 fem    pardo</span></span>
<span id="cb31-18"><a href="introdução-ao-r.html#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    22 fem    pardo</span></span>
<span id="cb31-19"><a href="introdução-ao-r.html#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="introdução-ao-r.html#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando com termo aproximado</span></span>
<span id="cb31-21"><a href="introdução-ao-r.html#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="co"># para tal, combinamos filter com grepl</span></span>
<span id="cb31-22"><a href="introdução-ao-r.html#cb31-22" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb31-23"><a href="introdução-ao-r.html#cb31-23" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">&quot;p.*&quot;</span>, raca))</span>
<span id="cb31-24"><a href="introdução-ao-r.html#cb31-24" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb31-25"><a href="introdução-ao-r.html#cb31-25" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca </span></span>
<span id="cb31-26"><a href="introdução-ao-r.html#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;</span></span>
<span id="cb31-27"><a href="introdução-ao-r.html#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem    preto</span></span>
<span id="cb31-28"><a href="introdução-ao-r.html#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 fem    pardo</span></span>
<span id="cb31-29"><a href="introdução-ao-r.html#cb31-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    22 fem    pardo</span></span></code></pre></div>
<!-- A função filter também possui algumas variantes, como:   -->
<!-- `filter_all()`, `filter_at()` e  `filter_if()`. -->
<!-- https://suzan.rbind.io/2018/02/dplyr-tutorial-3/ -->
<!-- |função|descrição| -->
<!-- |-----|-----| -->
<!-- |filter_all()| filtra um valor em todas as colunas| -->
<!-- |filter_if()| filtra se valor booleano for TRUE. Requer como input alguma função que retorne TRUE ou FALSE| -->
<!-- |filter_all()| filtra um valor em todas as colunas| -->
</div>
<div id="dplyrarrange" class="section level5 hasAnchor" number="6.6.3.0.2">
<h5><span class="header-section-number">6.6.3.0.2</span> dplyr::<a href="https://dplyr.tidyverse.org/reference/arrange.html" id="arrange"><code>arrange()</code></a><a href="introdução-ao-r.html#dplyrarrange" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="introdução-ao-r.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordenando por valores da coluna &quot;idade&quot;</span></span>
<span id="cb32-2"><a href="introdução-ao-r.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(MeuTibble, idade)</span>
<span id="cb32-3"><a href="introdução-ao-r.html#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 3</span></span>
<span id="cb32-4"><a href="introdução-ao-r.html#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca  </span></span>
<span id="cb32-5"><a href="introdução-ao-r.html#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb32-6"><a href="introdução-ao-r.html#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem    preto </span></span>
<span id="cb32-7"><a href="introdução-ao-r.html#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    22 fem    pardo </span></span>
<span id="cb32-8"><a href="introdução-ao-r.html#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    23 mas    branco</span></span>
<span id="cb32-9"><a href="introdução-ao-r.html#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    35 fem    pardo </span></span>
<span id="cb32-10"><a href="introdução-ao-r.html#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73 mas    branco</span></span>
<span id="cb32-11"><a href="introdução-ao-r.html#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Invertendo a ordenção</span></span>
<span id="cb32-12"><a href="introdução-ao-r.html#cb32-12" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(idade))</span>
<span id="cb32-13"><a href="introdução-ao-r.html#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 3</span></span>
<span id="cb32-14"><a href="introdução-ao-r.html#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca  </span></span>
<span id="cb32-15"><a href="introdução-ao-r.html#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb32-16"><a href="introdução-ao-r.html#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    73 mas    branco</span></span>
<span id="cb32-17"><a href="introdução-ao-r.html#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 fem    pardo </span></span>
<span id="cb32-18"><a href="introdução-ao-r.html#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    23 mas    branco</span></span>
<span id="cb32-19"><a href="introdução-ao-r.html#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22 fem    pardo </span></span>
<span id="cb32-20"><a href="introdução-ao-r.html#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    12 fem    preto</span></span></code></pre></div>
</div>
<div id="dplyrselect" class="section level5 hasAnchor" number="6.6.3.0.3">
<h5><span class="header-section-number">6.6.3.0.3</span> dplyr::<a href="https://dplyr.tidyverse.org/reference/select.html" id="select"><code>select()</code></a><a href="introdução-ao-r.html#dplyrselect" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Restringindo as colunas/variáveis.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="introdução-ao-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="introdução-ao-r.html#cb33-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(genero)</span>
<span id="cb33-3"><a href="introdução-ao-r.html#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 1</span></span>
<span id="cb33-4"><a href="introdução-ao-r.html#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero</span></span>
<span id="cb33-5"><a href="introdução-ao-r.html#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt; </span></span>
<span id="cb33-6"><a href="introdução-ao-r.html#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 fem   </span></span>
<span id="cb33-7"><a href="introdução-ao-r.html#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 mas   </span></span>
<span id="cb33-8"><a href="introdução-ao-r.html#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 fem   </span></span>
<span id="cb33-9"><a href="introdução-ao-r.html#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 fem   </span></span>
<span id="cb33-10"><a href="introdução-ao-r.html#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 mas</span></span>
<span id="cb33-11"><a href="introdução-ao-r.html#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co"># todas colunas, exceto a genero</span></span>
<span id="cb33-12"><a href="introdução-ao-r.html#cb33-12" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb33-13"><a href="introdução-ao-r.html#cb33-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(<span class="sc">!</span>genero)</span>
<span id="cb33-14"><a href="introdução-ao-r.html#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 2</span></span>
<span id="cb33-15"><a href="introdução-ao-r.html#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade raca  </span></span>
<span id="cb33-16"><a href="introdução-ao-r.html#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt; </span></span>
<span id="cb33-17"><a href="introdução-ao-r.html#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 preto </span></span>
<span id="cb33-18"><a href="introdução-ao-r.html#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23 branco</span></span>
<span id="cb33-19"><a href="introdução-ao-r.html#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35 pardo </span></span>
<span id="cb33-20"><a href="introdução-ao-r.html#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22 pardo </span></span>
<span id="cb33-21"><a href="introdução-ao-r.html#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73 branco</span></span>
<span id="cb33-22"><a href="introdução-ao-r.html#cb33-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecionando a coluna pelo índice, e não pelo nome</span></span>
<span id="cb33-23"><a href="introdução-ao-r.html#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(MeuTibble,<span class="dv">1</span>)</span>
<span id="cb33-24"><a href="introdução-ao-r.html#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 1</span></span>
<span id="cb33-25"><a href="introdução-ao-r.html#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade</span></span>
<span id="cb33-26"><a href="introdução-ao-r.html#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt;</span></span>
<span id="cb33-27"><a href="introdução-ao-r.html#cb33-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12</span></span>
<span id="cb33-28"><a href="introdução-ao-r.html#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23</span></span>
<span id="cb33-29"><a href="introdução-ao-r.html#cb33-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35</span></span>
<span id="cb33-30"><a href="introdução-ao-r.html#cb33-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22</span></span>
<span id="cb33-31"><a href="introdução-ao-r.html#cb33-31" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73</span></span></code></pre></div>
</div>
<div id="dplyrrename" class="section level5 hasAnchor" number="6.6.3.0.4">
<h5><span class="header-section-number">6.6.3.0.4</span> dplyr::<a href="https://dplyr.tidyverse.org/reference/rename.html" id="rename"><code>rename()</code></a><a href="introdução-ao-r.html#dplyrrename" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>É posível renomear variáveis/colunas com o comando rename, que em o seguinte formato:</p>
<p><code>rename(novo_nome = nome_antigos)</code></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="introdução-ao-r.html#cb34-1" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="introdução-ao-r.html#cb34-2" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">genero_bin =</span> genero)</span>
<span id="cb34-3"><a href="introdução-ao-r.html#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 3</span></span>
<span id="cb34-4"><a href="introdução-ao-r.html#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero_bin raca  </span></span>
<span id="cb34-5"><a href="introdução-ao-r.html#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; </span></span>
<span id="cb34-6"><a href="introdução-ao-r.html#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem        preto </span></span>
<span id="cb34-7"><a href="introdução-ao-r.html#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23 mas        branco</span></span>
<span id="cb34-8"><a href="introdução-ao-r.html#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35 fem        pardo </span></span>
<span id="cb34-9"><a href="introdução-ao-r.html#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22 fem        pardo </span></span>
<span id="cb34-10"><a href="introdução-ao-r.html#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73 mas        branco</span></span></code></pre></div>
</div>
<div id="dplyrmutate" class="section level5 hasAnchor" number="6.6.3.0.5">
<h5><span class="header-section-number">6.6.3.0.5</span> dplyr::<a href="https://dplyr.tidyverse.org/reference/mutate.html" id="mutate"><code>mutate()</code></a><a href="introdução-ao-r.html#dplyrmutate" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><code>mutate(NomeVariavel = função())</code> modifica e cria novas colunas/variáveis. Pode ser usado em conjunto com outros cálculos</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="introdução-ao-r.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criando variável expectativa de vida</span></span>
<span id="cb35-2"><a href="introdução-ao-r.html#cb35-2" aria-hidden="true" tabindex="-1"></a>expectativa_vida <span class="ot">=</span> <span class="dv">70</span></span>
<span id="cb35-3"><a href="introdução-ao-r.html#cb35-3" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="introdução-ao-r.html#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genero, idade) <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="introdução-ao-r.html#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># vamos ver quantos anos faltam para cada idade atingir a</span></span>
<span id="cb35-6"><a href="introdução-ao-r.html#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># expectativa de vida da região</span></span>
<span id="cb35-7"><a href="introdução-ao-r.html#cb35-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">AnosParaExpecVida =</span> expectativa_vida <span class="sc">-</span> idade)</span>
<span id="cb35-8"><a href="introdução-ao-r.html#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 × 3</span></span>
<span id="cb35-9"><a href="introdução-ao-r.html#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero idade AnosParaExpecVida</span></span>
<span id="cb35-10"><a href="introdução-ao-r.html#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;  &lt;int&gt;             &lt;dbl&gt;</span></span>
<span id="cb35-11"><a href="introdução-ao-r.html#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 fem       12                58</span></span>
<span id="cb35-12"><a href="introdução-ao-r.html#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 mas       23                47</span></span>
<span id="cb35-13"><a href="introdução-ao-r.html#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 fem       35                35</span></span>
<span id="cb35-14"><a href="introdução-ao-r.html#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 fem       22                48</span></span>
<span id="cb35-15"><a href="introdução-ao-r.html#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 mas       73                -3</span></span></code></pre></div>
</div>
<div id="dplyrsummarise" class="section level5 hasAnchor" number="6.6.3.0.6">
<h5><span class="header-section-number">6.6.3.0.6</span> dplyr::<a href="https://dplyr.tidyverse.org/reference/summarise.html" id="summarise"><code>summarise()</code></a><a href="introdução-ao-r.html#dplyrsummarise" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>A função <code>summarise()</code> ou <code>summarize()</code> (com “s” ou “z”, ambas funcionam), cria um novo data frame. Pode ser usado com funções como <code>mean()</code>, <code>median()</code>, ou para contar dados categóricos, dentre outras funções.
Sua sintaxe é <code>summarize(nome_nova_variavel = funcao)</code></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="introdução-ao-r.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># verificando a média de idade</span></span>
<span id="cb36-2"><a href="introdução-ao-r.html#cb36-2" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="introdução-ao-r.html#cb36-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="fu">mean</span>(idade))</span>
<span id="cb36-4"><a href="introdução-ao-r.html#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 1 × 1</span></span>
<span id="cb36-5"><a href="introdução-ao-r.html#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   `mean(idade)`</span></span>
<span id="cb36-6"><a href="introdução-ao-r.html#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="do">##           &lt;dbl&gt;</span></span>
<span id="cb36-7"><a href="introdução-ao-r.html#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1            33</span></span></code></pre></div>
</div>
<div id="dplyrgroup_by" class="section level5 hasAnchor" number="6.6.3.0.7">
<h5><span class="header-section-number">6.6.3.0.7</span> dplyr::<a href="https://dplyr.tidyverse.org/reference/group_by.html" id="group_by"><code>group_by()</code></a><a href="introdução-ao-r.html#dplyrgroup_by" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>O comando summarise se torna mais útil em conjunto com o comando <code>group_by()</code>.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="introdução-ao-r.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Media de idade por genero</span></span>
<span id="cb37-2"><a href="introdução-ao-r.html#cb37-2" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="introdução-ao-r.html#cb37-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(genero) <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="introdução-ao-r.html#cb37-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">media =</span> <span class="fu">mean</span>(idade))</span>
<span id="cb37-5"><a href="introdução-ao-r.html#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 2 × 2</span></span>
<span id="cb37-6"><a href="introdução-ao-r.html#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero media</span></span>
<span id="cb37-7"><a href="introdução-ao-r.html#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;  &lt;dbl&gt;</span></span>
<span id="cb37-8"><a href="introdução-ao-r.html#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 fem       23</span></span>
<span id="cb37-9"><a href="introdução-ao-r.html#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 mas       48</span></span></code></pre></div>
<p>Podemos usar o summarize também para contar dados categóricos, junto à função <code>n()</code> e ao <code>group_by()</code>.
Por exemplo, vamos contar os itens na coluna “genero”</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="introdução-ao-r.html#cb38-1" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="introdução-ao-r.html#cb38-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(genero) <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="introdução-ao-r.html#cb38-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(novo_nome_da_variável <span class="ot">=</span> <span class="fu">n</span>())</span>
<span id="cb38-4"><a href="introdução-ao-r.html#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 2 × 2</span></span>
<span id="cb38-5"><a href="introdução-ao-r.html#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero novo_nome_da_variável</span></span>
<span id="cb38-6"><a href="introdução-ao-r.html#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;                  &lt;int&gt;</span></span>
<span id="cb38-7"><a href="introdução-ao-r.html#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 fem                        3</span></span>
<span id="cb38-8"><a href="introdução-ao-r.html#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 mas                        2</span></span></code></pre></div>
<p>Um modo ainda mais simples de contar dados categóricos, é usando a função <code>count()</code>.
A contagem aparece em uma nova coluna de nome “n”</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="introdução-ao-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="introdução-ao-r.html#cb39-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(genero) </span>
<span id="cb39-3"><a href="introdução-ao-r.html#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 2 × 2</span></span>
<span id="cb39-4"><a href="introdução-ao-r.html#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero     n</span></span>
<span id="cb39-5"><a href="introdução-ao-r.html#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;  &lt;int&gt;</span></span>
<span id="cb39-6"><a href="introdução-ao-r.html#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 fem        3</span></span>
<span id="cb39-7"><a href="introdução-ao-r.html#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 mas        2</span></span></code></pre></div>
<p>Caso prefira usar o índice da coluna ao invés de seu nome, use <code>group_by_at(numero_da_coluna)</code>.</p>
<p>Pode-se ainda acrescentar novas linhas ou juntar tibbles através dos comandos:</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>comando</th>
<th>descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>bind_rows()</code></td>
<td>junta dois tibbles, permitindo linhas duplicadas</td>
</tr>
<tr class="even">
<td><code>union(df1,df2)</code></td>
<td>Junta tibbles df1 e df2, mas acrescenta sem repetição.</td>
</tr>
</tbody>
</table>
<!-- Pode-se adicionar novas linhas com `join()` -->
<!-- union() -->
<p>Pode-se retirar linhas com <code>anti_join()</code>. Este comando pode ser útil para retirar <a href="análise-textual-text-mining.html#stopwords">stopwords</a> <code>anti_join(stop_words)</code></p>
<!-- # mudando valores de celulas a partir de padrão -->
<!-- library(dplyr) -->
<!-- library(stringr) -->
<!-- df %>%  -->
<!--   mutate(var1 = str_replace(var1, " ", "")) -->
<div class="infobox note">
<p><strong>Dicas: Tibble</strong></p>
<p>Uma boa introdução aos tibbles (em inglês) temos no capítulo <a href="https://r4ds.had.co.nz/tibbles.html">10.Tibbles</a> do livro “R for Data Science” de Wichham e Grolemund.</p>
</div>
</div>
</div>
</div>
<div id="RDataHora" class="section level2 hasAnchor" number="6.7">
<h2><span class="header-section-number">6.7</span> Manipulando data e hora<a href="introdução-ao-r.html#RDataHora" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data e hora é algo simples, mas que pode dar dor de cabeça se não usar os pacotes já prontos.
O R usa o seguinte formato <code>"ano-mês-dia hora:minuto:segundo"</code> ou, por exemplo, <code>2021-03-09 13:05:03</code>.
O mês vem antes de dia e ano vem antes de todos já que assim é possível organizar as datas facilmente usando a ordem alfabética/numérica.</p>
<p>P.s: Cuidado!
Para evitar confusão, não use <code>data</code> como nome para um objeto, já que <code>data</code> tem significado especial no R.</p>
<p>Existe um padrão para datas usado em várias linguagens.
Por exemplo, <code>%d</code> equivale a dia, <code>%m</code> equivale a mês em formato numérico, <code>%b</code> em formato por extenso.
Para consultar a lista com este formato, consulte a ajuda <code>?strptime</code>. Mas vale lembrar, esta conversão ficou mais fácil com o <a href="introdução-ao-r.html#lubridate">pacote lubridate</a>, que veremos mais abaixo.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="introdução-ao-r.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dizendo ao R que nossa string &quot;12/05/1993 13:00:05&quot; é uma data</span></span>
<span id="cb40-2"><a href="introdução-ao-r.html#cb40-2" aria-hidden="true" tabindex="-1"></a>minha_data <span class="ot">=</span> <span class="st">&quot;12/05/1993 13:00:05&quot;</span></span>
<span id="cb40-3"><a href="introdução-ao-r.html#cb40-3" aria-hidden="true" tabindex="-1"></a>minha_data2 <span class="ot">=</span> <span class="fu">strptime</span>(minha_data, <span class="at">format =</span> <span class="st">&quot;%d/%m/%Y %H:%M:%S&quot;</span>)</span>
<span id="cb40-4"><a href="introdução-ao-r.html#cb40-4" aria-hidden="true" tabindex="-1"></a>minha_data2</span>
<span id="cb40-5"><a href="introdução-ao-r.html#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;1993-05-12 13:00:05 -03&quot;</span></span></code></pre></div>
<div id="gerando-uma-sequencia-de-datas-no-r" class="section level3 hasAnchor" number="6.7.1">
<h3><span class="header-section-number">6.7.1</span> Gerando uma sequencia de datas no R<a href="introdução-ao-r.html#gerando-uma-sequencia-de-datas-no-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Em algum momento você pode precisar de uma sequência de datas, por exemplo, ao fazer a raspagem de dados de algum site que usa o formato de data (como é o caso de agendas de autoridades governamentais). Isto é bem fácil com o R. Vamos gerar datas entre “29 de novembro de 2020 (”2020-11-29”) e 02 de janeiro de 2021 (“2021-01-02”).</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="introdução-ao-r.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="fu">as.Date</span>(<span class="st">&quot;2020-11-29&quot;</span>), <span class="at">to=</span><span class="fu">as.Date</span>(<span class="st">&quot;2021-01-02&quot;</span>), <span class="at">by=</span><span class="st">&quot;day&quot;</span>)</span>
<span id="cb41-2"><a href="introdução-ao-r.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;2020-11-29&quot; &quot;2020-11-30&quot; &quot;2020-12-01&quot; &quot;2020-12-02&quot; &quot;2020-12-03&quot;</span></span>
<span id="cb41-3"><a href="introdução-ao-r.html#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [6] &quot;2020-12-04&quot; &quot;2020-12-05&quot; &quot;2020-12-06&quot; &quot;2020-12-07&quot; &quot;2020-12-08&quot;</span></span>
<span id="cb41-4"><a href="introdução-ao-r.html#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;2020-12-09&quot; &quot;2020-12-10&quot; &quot;2020-12-11&quot; &quot;2020-12-12&quot; &quot;2020-12-13&quot;</span></span>
<span id="cb41-5"><a href="introdução-ao-r.html#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [16] &quot;2020-12-14&quot; &quot;2020-12-15&quot; &quot;2020-12-16&quot; &quot;2020-12-17&quot; &quot;2020-12-18&quot;</span></span>
<span id="cb41-6"><a href="introdução-ao-r.html#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;2020-12-19&quot; &quot;2020-12-20&quot; &quot;2020-12-21&quot; &quot;2020-12-22&quot; &quot;2020-12-23&quot;</span></span>
<span id="cb41-7"><a href="introdução-ao-r.html#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [26] &quot;2020-12-24&quot; &quot;2020-12-25&quot; &quot;2020-12-26&quot; &quot;2020-12-27&quot; &quot;2020-12-28&quot;</span></span>
<span id="cb41-8"><a href="introdução-ao-r.html#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [31] &quot;2020-12-29&quot; &quot;2020-12-30&quot; &quot;2020-12-31&quot; &quot;2021-01-01&quot; &quot;2021-01-02&quot;</span></span></code></pre></div>
<p>O parâmetro <code>by</code> aceita ainda <code>week</code> e <code>month</code>.
O R também calcula anos bissextos.
Fazendo um teste, gerando datas entre 28 de fevereiro e 1 de março de diferentes anos:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="introdução-ao-r.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criando uma função para testes</span></span>
<span id="cb42-2"><a href="introdução-ao-r.html#cb42-2" aria-hidden="true" tabindex="-1"></a>FevMarc <span class="ot">&lt;-</span> <span class="cf">function</span>(ano) { <span class="co"># nome_da_funcao &lt;- function(input){</span></span>
<span id="cb42-3"><a href="introdução-ao-r.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  minhaDataInicial<span class="ot">=</span><span class="fu">paste0</span>(ano, <span class="st">&quot;-02-28&quot;</span>) </span>
<span id="cb42-4"><a href="introdução-ao-r.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  MinhaDataFinal<span class="ot">=</span><span class="fu">paste0</span>(ano, <span class="st">&quot;-03-01&quot;</span>)</span>
<span id="cb42-5"><a href="introdução-ao-r.html#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">seq</span>(<span class="at">from=</span><span class="fu">as.Date</span>(minhaDataInicial), <span class="at">to=</span><span class="fu">as.Date</span>(MinhaDataFinal), <span class="at">by=</span><span class="st">&quot;day&quot;</span>)</span>
<span id="cb42-6"><a href="introdução-ao-r.html#cb42-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-7"><a href="introdução-ao-r.html#cb42-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-8"><a href="introdução-ao-r.html#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ( ano <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">2015</span><span class="sc">:</span><span class="dv">2021</span>) ) {</span>
<span id="cb42-9"><a href="introdução-ao-r.html#cb42-9" aria-hidden="true" tabindex="-1"></a>    x<span class="ot">=</span> <span class="fu">FevMarc</span>(ano)</span>
<span id="cb42-10"><a href="introdução-ao-r.html#cb42-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(x)</span>
<span id="cb42-11"><a href="introdução-ao-r.html#cb42-11" aria-hidden="true" tabindex="-1"></a>       }</span>
<span id="cb42-12"><a href="introdução-ao-r.html#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2015-02-28&quot; &quot;2015-03-01&quot;</span></span>
<span id="cb42-13"><a href="introdução-ao-r.html#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2016-02-28&quot; &quot;2016-02-29&quot; &quot;2016-03-01&quot;</span></span>
<span id="cb42-14"><a href="introdução-ao-r.html#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2017-02-28&quot; &quot;2017-03-01&quot;</span></span>
<span id="cb42-15"><a href="introdução-ao-r.html#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2018-02-28&quot; &quot;2018-03-01&quot;</span></span>
<span id="cb42-16"><a href="introdução-ao-r.html#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2019-02-28&quot; &quot;2019-03-01&quot;</span></span>
<span id="cb42-17"><a href="introdução-ao-r.html#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2020-02-28&quot; &quot;2020-02-29&quot; &quot;2020-03-01&quot;</span></span>
<span id="cb42-18"><a href="introdução-ao-r.html#cb42-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2021-02-28&quot; &quot;2021-03-01&quot;</span></span></code></pre></div>
</div>
<div id="lubridate" class="section level3 hasAnchor" number="6.7.2">
<h3><span class="header-section-number">6.7.2</span> Lubridate: facilitando manipulação de datas<a href="introdução-ao-r.html#lubridate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Com o <code>Lubridate</code> é mais fácil manipular data e hora, ou mesmo alterar fuso horário. No caso abaixo, não precisamos especificar o caractere separador, apenasa ordem. No caso abaixo, dia/mês/ano</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="introdução-ao-r.html#cb43-1" aria-hidden="true" tabindex="-1"></a>minha_data <span class="ot">&lt;-</span> <span class="st">&quot;12/05/2020&quot;</span></span>
<span id="cb43-2"><a href="introdução-ao-r.html#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="introdução-ao-r.html#cb43-3" aria-hidden="true" tabindex="-1"></a>lubridate<span class="sc">::</span><span class="fu">dmy</span>(minha_data)</span>
<span id="cb43-4"><a href="introdução-ao-r.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2020-05-12&quot;</span></span></code></pre></div>
</div>
<div id="converter-data-em-nome-por-extenso-do-mês" class="section level3 hasAnchor" number="6.7.3">
<h3><span class="header-section-number">6.7.3</span> Converter data em nome por extenso do mês<a href="introdução-ao-r.html#converter-data-em-nome-por-extenso-do-mês" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Dado um vetor de meses, podemos gerar o mês não como número, mas com seu nome.
<!-- Sys.setlocale("LC_TIME", "pt_BR.utf8") --></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="introdução-ao-r.html#cb44-1" aria-hidden="true" tabindex="-1"></a>vetor_meses <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">12</span>,<span class="dv">6</span>)</span>
<span id="cb44-2"><a href="introdução-ao-r.html#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="introdução-ao-r.html#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co"># carregando o pacote lubridate</span></span>
<span id="cb44-4"><a href="introdução-ao-r.html#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb44-5"><a href="introdução-ao-r.html#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Attaching package: &#39;lubridate&#39;</span></span>
<span id="cb44-6"><a href="introdução-ao-r.html#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="do">## The following objects are masked from &#39;package:base&#39;:</span></span>
<span id="cb44-7"><a href="introdução-ao-r.html#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb44-8"><a href="introdução-ao-r.html#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="do">##     date, intersect, setdiff, union</span></span>
<span id="cb44-9"><a href="introdução-ao-r.html#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="introdução-ao-r.html#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="co"># o locale pode ser que funcione com o valor &#39;pt_BR&#39;</span></span>
<span id="cb44-11"><a href="introdução-ao-r.html#cb44-11" aria-hidden="true" tabindex="-1"></a>Meses <span class="ot">&lt;-</span> <span class="fu">month</span>(<span class="fu">as.numeric</span>(vetor_meses), </span>
<span id="cb44-12"><a href="introdução-ao-r.html#cb44-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="co"># produz os meses </span></span>
<span id="cb44-13"><a href="introdução-ao-r.html#cb44-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">locale =</span> <span class="st">&quot;pt_BR.utf8&quot;</span>) <span class="co"># lingua</span></span>
<span id="cb44-14"><a href="introdução-ao-r.html#cb44-14" aria-hidden="true" tabindex="-1"></a>Meses</span>
<span id="cb44-15"><a href="introdução-ao-r.html#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] jan abr jul mar fev dez jun</span></span>
<span id="cb44-16"><a href="introdução-ao-r.html#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 12 Levels: jan &lt; fev &lt; mar &lt; abr &lt; mai &lt; jun &lt; jul &lt; ago &lt; set &lt; ... &lt; dez</span></span>
<span id="cb44-17"><a href="introdução-ao-r.html#cb44-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-18"><a href="introdução-ao-r.html#cb44-18" aria-hidden="true" tabindex="-1"></a><span class="co"># De modo resumido</span></span>
<span id="cb44-19"><a href="introdução-ao-r.html#cb44-19" aria-hidden="true" tabindex="-1"></a>lubridate<span class="sc">::</span><span class="fu">month</span>(<span class="fu">as.numeric</span>(vetor_meses), <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">locale =</span> <span class="st">&quot;pt_BR.utf8&quot;</span>)</span>
<span id="cb44-20"><a href="introdução-ao-r.html#cb44-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] jan abr jul mar fev dez jun</span></span>
<span id="cb44-21"><a href="introdução-ao-r.html#cb44-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 12 Levels: jan &lt; fev &lt; mar &lt; abr &lt; mai &lt; jun &lt; jul &lt; ago &lt; set &lt; ... &lt; dez</span></span></code></pre></div>
<p>Fazendo o caminho inverso, supondo que tenhamos um vetor com nome dos meses e queiramos colocá-los em formato data</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="introdução-ao-r.html#cb45-1" aria-hidden="true" tabindex="-1"></a>dataPorExtenso <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;12 agosto 2020&#39;</span>,</span>
<span id="cb45-2"><a href="introdução-ao-r.html#cb45-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">&#39;17 dezembro 2021&#39;</span>)</span>
<span id="cb45-3"><a href="introdução-ao-r.html#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(dataPorExtenso, <span class="at">format =</span> <span class="st">&quot;%d %B %Y&quot;</span>)</span>
<span id="cb45-4"><a href="introdução-ao-r.html#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2020-08-12&quot; &quot;2021-12-17&quot;</span></span></code></pre></div>
<!-- lubridate::month(Meses, label = TRUE, locale = "pt_BR") -->
<!-- lubridate::parse_date_time(Meses, orders = "d-b-y", locale = "pt-BR") -->
</div>
</div>
<div id="links-e-dicas" class="section level2 hasAnchor" number="6.8">
<h2><span class="header-section-number">6.8</span> Links e Dicas<a href="introdução-ao-r.html#links-e-dicas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="infobox note">
<p><strong>Dicas</strong>
- <a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.html">An Introduction to R</a>, manual mantido pelo R Core Team</p>
<ul>
<li><p><a href="http://material.curso-r.com/lubridate/">Tutorial do Lubridate em português do Curso-R</a></p></li>
<li><p><a href="https://rstudio-pubs-static.s2.amazonaws.com/286177_ecf4fb7fd5b0405982fc5b3d2b590305.html">Manipulação de Dados. Podemos trabalhar com outros formatos de datas</a></p></li>
<li><p><a href="https://www.rdocumentation.org/packages/lubridate/versions/1.7.10">Documentation Lubridate</a></p></li>
<li><p>Video Youtube <a href="https://www.youtube.com/watch?v=BYXFMdUx5C4">Como trabalhar com Data e Hora na linguagem R</a> <!-- ver wokflow --> <!-- https://escoladedados.org/tutoriais/tidy-data-dados-arrumados-e-5-problemas-comuns/ --></p></li>
</ul>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="noções-básicas-de-programação-em-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="normalização-de-texto-e-expressões-regulares.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "vk"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
