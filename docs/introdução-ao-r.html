<!DOCTYPE html>
<html lang="pt-br" xml:lang="pt-br">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 4 Introdução ao R | Introdução à Análise Textual aplicada à Sociologia</title>
  <meta name="description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 4 Introdução ao R | Introdução à Análise Textual aplicada à Sociologia" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 4 Introdução ao R | Introdução à Análise Textual aplicada à Sociologia" />
  
  <meta name="twitter:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

<meta name="author" content="Alisson Soares" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="estrutura-de-dados-e-tipos-de-formatos.html"/>
<link rel="next" href="normalização-de-texto-e-expressões-regulares.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Análise Textual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="objetivos-deste-manual.html"><a href="objetivos-deste-manual.html"><i class="fa fa-check"></i>Objetivos deste manual</a>
<ul>
<li class="chapter" data-level="" data-path="objetivos-deste-manual.html"><a href="objetivos-deste-manual.html#plano-do-livro"><i class="fa fa-check"></i>Plano do livro</a></li>
<li class="chapter" data-level="" data-path="objetivos-deste-manual.html"><a href="objetivos-deste-manual.html#HD"><i class="fa fa-check"></i>O termo “humanidade digitais”</a></li>
<li class="chapter" data-level="" data-path="objetivos-deste-manual.html"><a href="objetivos-deste-manual.html#fluxo-de-trabalho"><i class="fa fa-check"></i>Fluxo de trabalho</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html"><i class="fa fa-check"></i><b>1</b> História da Análise Textual</a>
<ul>
<li class="chapter" data-level="1.1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#linha-do-tempo-da-história-da-análise-textual"><i class="fa fa-check"></i><b>1.1</b> Linha do tempo da história da Análise Textual</a></li>
<li class="chapter" data-level="1.2" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#história-da-análise-textual-técnicas-antes-do-uso-de-computadores"><i class="fa fa-check"></i><b>1.2</b> História da análise textual: Técnicas antes do uso de computadores</a></li>
<li class="chapter" data-level="1.3" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#história-da-análise-textual-análise-textual-com-auxílio-de-computadores"><i class="fa fa-check"></i><b>1.3</b> História da análise textual: Análise Textual com auxílio de computadores</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#o-problema-das-digitais-linguísticas-linguistic-fingerprint"><i class="fa fa-check"></i><b>1.3.1</b> O problema das “digitais linguísticas” (<em>linguistic fingerprint</em>)</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#história-da-análise-textual-a-inteligência-artificial-machine-learning"><i class="fa fa-check"></i><b>1.4</b> História da análise textual: A inteligência artificial, machine learning</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html"><i class="fa fa-check"></i><b>2</b> Exemplos de Pesquisas em Humanidades Digitais</a>
<ul>
<li class="chapter" data-level="2.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#bibliometria-cientometria-cienciometria"><i class="fa fa-check"></i><b>2.1</b> Bibliometria / cientometria / cienciometria</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-filósofos-da-ciência-na-sociologia"><i class="fa fa-check"></i><b>2.1.1</b> Exemplo: Filósofos da ciência na Sociologia</a></li>
<li class="chapter" data-level="2.1.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-a-teoria-dos-sistemas-sociais-de-niklas-luhmann"><i class="fa fa-check"></i><b>2.1.2</b> Exemplo: A teoria dos sistemas sociais de Niklas Luhmann</a></li>
<li class="chapter" data-level="2.1.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendência-de-termos-chave-da-sociologia"><i class="fa fa-check"></i><b>2.1.3</b> Exemplo: Tendência de termos chave da Sociologia</a></li>
<li class="chapter" data-level="2.1.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendências-da-filosofia"><i class="fa fa-check"></i><b>2.1.4</b> Exemplo: Tendências da filosofia</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-google-trends-como-proxy-para-epidemias"><i class="fa fa-check"></i><b>2.2</b> Exemplo: Google Trends como Proxy para epidemias</a></li>
<li class="chapter" data-level="2.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-como-as-fake-news-sobre-a-pandemia-de-covid-19-se-assemelhamdivergem-entre-os-países"><i class="fa fa-check"></i><b>2.3</b> Exemplo: Como as fake news sobre a pandemia de Covid-19 se assemelham/divergem entre os países?</a></li>
<li class="chapter" data-level="2.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-mudança-de-significado-de-palavras"><i class="fa fa-check"></i><b>2.4</b> Exemplo: Mudança de significado de palavras</a></li>
<li class="chapter" data-level="2.5" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-análise-de-complexidade-musical"><i class="fa fa-check"></i><b>2.5</b> Exemplo: Análise de complexidade musical</a></li>
<li class="chapter" data-level="2.6" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#riqueza-vocabulário"><i class="fa fa-check"></i><b>2.6</b> Riqueza vocabulário</a></li>
<li class="chapter" data-level="2.7" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-polarização"><i class="fa fa-check"></i><b>2.7</b> Exemplo: Polarização</a></li>
<li class="chapter" data-level="2.8" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-complementando-dados-qualitativos"><i class="fa fa-check"></i><b>2.8</b> Exemplo de integração quali-quanti: Complementando dados qualitativos</a></li>
<li class="chapter" data-level="2.9" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-depurando-dados-quantitativos"><i class="fa fa-check"></i><b>2.9</b> Exemplo de integração quali-quanti: Depurando dados quantitativos</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html"><i class="fa fa-check"></i><b>3</b> Estrutura de dados e tipos de formatos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-estruturados"><i class="fa fa-check"></i><b>3.1</b> Dados estruturados</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#os-formatos-csv-comma-separeted-values-e-tsv."><i class="fa fa-check"></i><b>3.1.1</b> Os formatos csv (<em>comma separeted values</em>) e tsv.</a></li>
<li class="chapter" data-level="3.1.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoJson"><i class="fa fa-check"></i><b>3.1.2</b> O formato Json</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-não-estruturados"><i class="fa fa-check"></i><b>3.2</b> Dados não estruturados</a></li>
<li class="chapter" data-level="3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-semi-estruturados"><i class="fa fa-check"></i><b>3.3</b> Dados semi-estruturados</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#exemplos-de-dados-semi-estruturados"><i class="fa fa-check"></i><b>3.3.1</b> Exemplos de dados semi-estruturados</a></li>
<li class="chapter" data-level="3.3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoMarkdown"><i class="fa fa-check"></i><b>3.3.2</b> O formato Markdown</a></li>
<li class="chapter" data-level="3.3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoYaml"><i class="fa fa-check"></i><b>3.3.3</b> O formato YAML</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#subtitulo"><i class="fa fa-check"></i><b>3.4</b> Subtitulo</a></li>
<li class="chapter" data-level="3.5" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#subtítulo-2"><i class="fa fa-check"></i><b>3.5</b> Subtítulo 2</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoLatex"><i class="fa fa-check"></i><b>3.5.1</b> O Formato LaTex</a></li>
<li class="chapter" data-level="3.5.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoBibtex"><i class="fa fa-check"></i><b>3.5.2</b> O formato BibTex</a></li>
<li class="chapter" data-level="3.5.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatosXmlHtml"><i class="fa fa-check"></i><b>3.5.3</b> Os formatos xml e html</a></li>
<li class="chapter" data-level="3.5.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatos-mais-raros"><i class="fa fa-check"></i><b>3.5.4</b> Formatos mais raros</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#observações-finais"><i class="fa fa-check"></i><b>3.6</b> Observações finais</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html"><i class="fa fa-check"></i><b>4</b> Introdução ao R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#obtendo-ajuda-no-r"><i class="fa fa-check"></i><b>4.1</b> Obtendo Ajuda no R</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#obtendo-ajuda-com-o-r-commander-rcmdr"><i class="fa fa-check"></i><b>4.1.1</b> Obtendo ajuda com o R Commander (Rcmdr)</a></li>
<li class="chapter" data-level="4.1.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#comentando-o-código"><i class="fa fa-check"></i><b>4.1.2</b> Comentando o código</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#variável"><i class="fa fa-check"></i><b>4.2</b> Variável</a></li>
<li class="chapter" data-level="4.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataTypes"><i class="fa fa-check"></i><b>4.3</b> Tipos de Dados no R (data types)</a></li>
<li class="chapter" data-level="4.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#estrutura-de-dados-no-r-data-structures"><i class="fa fa-check"></i><b>4.4</b> Estrutura de dados no R (Data Structures)</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#vetor-vector"><i class="fa fa-check"></i><b>4.4.1</b> Vetor (vector)</a></li>
<li class="chapter" data-level="4.4.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#fator-factor"><i class="fa fa-check"></i><b>4.4.2</b> Fator (<em>Factor</em>)</a></li>
<li class="chapter" data-level="4.4.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#matrix"><i class="fa fa-check"></i><b>4.4.3</b> Matriz (Matrix)</a></li>
<li class="chapter" data-level="4.4.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#listas-list"><i class="fa fa-check"></i><b>4.4.4</b> Listas (<em>list</em>)</a></li>
<li class="chapter" data-level="4.4.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dataframes"><i class="fa fa-check"></i><b>4.4.5</b> Data Frames</a></li>
<li class="chapter" data-level="4.4.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#considerações-finais-sobre-estrutura-de-dados"><i class="fa fa-check"></i><b>4.4.6</b> Considerações finais sobre estrutura de dados</a></li>
<li class="chapter" data-level="4.4.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#criando-funções-no-r"><i class="fa fa-check"></i><b>4.4.7</b> Criando funções no R</a></li>
<li class="chapter" data-level="4.4.8" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataHora"><i class="fa fa-check"></i><b>4.4.8</b> Manipulando data e hora</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#a-suíte-de-pacotes-tidyverse"><i class="fa fa-check"></i><b>4.5</b> A suíte de pacotes <code>tidyverse</code></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#pipes"><i class="fa fa-check"></i><b>4.5.1</b> Pipes</a></li>
<li class="chapter" data-level="4.5.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tibbles"><i class="fa fa-check"></i><b>4.5.2</b> Tibbles</a></li>
<li class="chapter" data-level="4.5.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lubridate-facilitando-manipulação-de-datas"><i class="fa fa-check"></i><b>4.5.3</b> Lubridate: facilitando manipulação de datas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html"><i class="fa fa-check"></i><b>5</b> Normalização de texto e Expressões Regulares</a>
<ul>
<li class="chapter" data-level="5.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#expressões-regulares-regex"><i class="fa fa-check"></i><b>5.1</b> Expressões regulares (RegEx)</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#parâmetros-das-regex"><i class="fa fa-check"></i><b>5.1.1</b> Parâmetros das Regex</a></li>
<li class="chapter" data-level="5.1.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões"><i class="fa fa-check"></i><b>5.1.2</b> Dicas/Sugestões</a></li>
<li class="chapter" data-level="5.1.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#indicação-de-leitura-sobre-regex"><i class="fa fa-check"></i><b>5.1.3</b> Indicação de leitura sobre Regex</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#regex-no-r"><i class="fa fa-check"></i><b>5.2</b> RegEx no R</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#grep"><i class="fa fa-check"></i><b>5.2.1</b> Grep</a></li>
<li class="chapter" data-level="5.2.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#gsub"><i class="fa fa-check"></i><b>5.2.2</b> gsub()</a></li>
<li class="chapter" data-level="5.2.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exercício-qual-o-qualis-de-certas-revistas-quais-revistas-possuem-certo-qualis"><i class="fa fa-check"></i><b>5.2.3</b> Exercício: Qual o Qualis de certas revistas? Quais revistas possuem certo Qualis?</a></li>
<li class="chapter" data-level="5.2.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#transformando-strings-em-vetores-com-strsplit"><i class="fa fa-check"></i><b>5.2.4</b> Transformando strings em vetores com <code>strsplit()</code></a></li>
<li class="chapter" data-level="5.2.5" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exemplo-regex"><i class="fa fa-check"></i><b>5.2.5</b> Exemplo regex</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões-regex-no-r"><i class="fa fa-check"></i><b>5.3</b> Dicas/Sugestões: Regex no R</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html"><i class="fa fa-check"></i><b>6</b> Análise Textual (<em>text mining</em>)</a>
<ul>
<li class="chapter" data-level="6.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagens-saco-de-palavras-bag-of-words-e-análise-semântica-semantic-parsing"><i class="fa fa-check"></i><b>6.1</b> Abordagens: saco de palavras (bag of words) e análise semântica (semantic parsing)</a></li>
<li class="chapter" data-level="6.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#do-texto-ao-corpus"><i class="fa fa-check"></i><b>6.2</b> Do texto ao Corpus</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagem-bag-of-words"><i class="fa fa-check"></i><b>6.2.1</b> Abordagem <em>Bag of words</em></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#remoção-de-palavra-vazia-stopwords"><i class="fa fa-check"></i><b>6.3</b> Remoção de palavra vazia (stopwords)</a></li>
<li class="chapter" data-level="6.4" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stemização-stemming-e-lematização"><i class="fa fa-check"></i><b>6.4</b> stemização (Stemming) e lematização</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#palavras-em-contexto-keyword-in-context"><i class="fa fa-check"></i><b>6.4.1</b> Palavras em contexto (keyword-in-context)</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#ngrams"><i class="fa fa-check"></i><b>6.5</b> Ngrams</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#ngramr"><i class="fa fa-check"></i><b>6.5.1</b> GoogleNgrams</a></li>
<li class="chapter" data-level="6.5.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#tf-idf"><i class="fa fa-check"></i><b>6.5.2</b> TF-IDF</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html"><i class="fa fa-check"></i><b>7</b> Análise de Redes Sociais</a>
<ul>
<li class="chapter" data-level="7.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#o-pacote-igraph"><i class="fa fa-check"></i><b>7.1</b> O pacote Igraph</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#clusterização"><i class="fa fa-check"></i><b>7.1.1</b> Clusterização</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#os-pacotes-ggraph-e-tidygraph-.-construindo-grafos-com-o-tidyverse."><i class="fa fa-check"></i><b>7.2</b> Os pacotes <code>ggraph</code> e <code>tidygraph</code> . Construindo grafos com o <code>tidyverse</code>.</a></li>
<li class="chapter" data-level="7.3" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-palavras"><i class="fa fa-check"></i><b>7.3</b> Redes de palavras</a></li>
<li class="chapter" data-level="7.4" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-citação"><i class="fa fa-check"></i><b>7.4</b> Redes de citação</a></li>
<li class="chapter" data-level="7.5" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#gráfico-de-centralidade"><i class="fa fa-check"></i><b>7.5</b> Gráfico de centralidade</a></li>
<li class="chapter" data-level="7.6" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#comunidades"><i class="fa fa-check"></i><b>7.6</b> Comunidades</a></li>
<li class="chapter" data-level="7.7" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#SugestaoLinksredes"><i class="fa fa-check"></i><b>7.7</b> Sugestões de links</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="links-úteis.html"><a href="links-úteis.html"><i class="fa fa-check"></i><b>8</b> Links úteis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="links-úteis.html"><a href="links-úteis.html#humanidades-digitais"><i class="fa fa-check"></i><b>8.1</b> Humanidades digitais</a></li>
<li class="chapter" data-level="8.2" data-path="links-úteis.html"><a href="links-úteis.html#análise-de-redes-sociais-1"><i class="fa fa-check"></i><b>8.2</b> Análise de redes sociais</a></li>
<li class="chapter" data-level="8.3" data-path="links-úteis.html"><a href="links-úteis.html#textos-sobre-análise-textual"><i class="fa fa-check"></i><b>8.3</b> Textos sobre análise textual</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="links-úteis.html"><a href="links-úteis.html#sociologia-digital-sociologia-computacional"><i class="fa fa-check"></i><b>8.3.1</b> Sociologia Digital / Sociologia Computacional</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="links-úteis.html"><a href="links-úteis.html#processamento-linguagem-natural-pln-ou-nlp"><i class="fa fa-check"></i><b>8.4</b> Processamento Linguagem Natural (PLN ou NLP)</a></li>
<li class="chapter" data-level="8.5" data-path="links-úteis.html"><a href="links-úteis.html#revistas-journals-acadêmicos"><i class="fa fa-check"></i><b>8.5</b> Revistas / Journals acadêmicos</a></li>
<li class="chapter" data-level="8.6" data-path="links-úteis.html"><a href="links-úteis.html#dados-abertos"><i class="fa fa-check"></i><b>8.6</b> Dados Abertos</a></li>
<li class="chapter" data-level="8.7" data-path="links-úteis.html"><a href="links-úteis.html#vídeos"><i class="fa fa-check"></i><b>8.7</b> Vídeos</a></li>
<li class="chapter" data-level="8.8" data-path="links-úteis.html"><a href="links-úteis.html#sites-blogs"><i class="fa fa-check"></i><b>8.8</b> Sites / Blogs</a></li>
<li class="chapter" data-level="8.9" data-path="links-úteis.html"><a href="links-úteis.html#organizações"><i class="fa fa-check"></i><b>8.9</b> Organizações</a></li>
<li class="chapter" data-level="8.10" data-path="links-úteis.html"><a href="links-úteis.html#links-de-podcasts-sobre-digital-humanities"><i class="fa fa-check"></i><b>8.10</b> Links de Podcasts sobre Digital Humanities</a></li>
<li class="chapter" data-level="8.11" data-path="links-úteis.html"><a href="links-úteis.html#links-programação"><i class="fa fa-check"></i><b>8.11</b> Links Programação</a>
<ul>
<li class="chapter" data-level="8.11.1" data-path="links-úteis.html"><a href="links-úteis.html#r-introdução"><i class="fa fa-check"></i><b>8.11.1</b> R introdução</a></li>
<li class="chapter" data-level="8.11.2" data-path="links-úteis.html"><a href="links-úteis.html#r---tópicos-específicos"><i class="fa fa-check"></i><b>8.11.2</b> R - tópicos específicos</a></li>
<li class="chapter" data-level="8.11.3" data-path="links-úteis.html"><a href="links-úteis.html#links-python"><i class="fa fa-check"></i><b>8.11.3</b> Links Python</a></li>
<li class="chapter" data-level="8.11.4" data-path="links-úteis.html"><a href="links-úteis.html#python---tópicos-específicos"><i class="fa fa-check"></i><b>8.11.4</b> Python - tópicos específicos</a></li>
</ul></li>
<li class="chapter" data-level="8.12" data-path="links-úteis.html"><a href="links-úteis.html#links-de-cursos-online"><i class="fa fa-check"></i><b>8.12</b> Links de Cursos Online</a></li>
<li class="chapter" data-level="8.13" data-path="links-úteis.html"><a href="links-úteis.html#grupos-de-discussãoforum"><i class="fa fa-check"></i><b>8.13</b> Grupos de discussão/Forum</a>
<ul>
<li class="chapter" data-level="8.13.1" data-path="links-úteis.html"><a href="links-úteis.html#telegram"><i class="fa fa-check"></i><b>8.13.1</b> Telegram</a></li>
</ul></li>
<li class="chapter" data-level="8.14" data-path="links-úteis.html"><a href="links-úteis.html#links-de-folhas-de-dicas-cheat-sheets"><i class="fa fa-check"></i><b>8.14</b> Links de folhas de dicas (<em>Cheat-sheets</em>)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Análise Textual aplicada à Sociologia</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introdução-ao-r" class="section level1" number="4">
<h1><span class="header-section-number">Capítulo 4</span> Introdução ao R</h1>
<div class="infobox objetivo">
<p>Objetivos do capítulo:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li>Apresentar como obter ajuda no R</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li>Apresentar os tipos de dados e as estruturas de dados no R</li>
</ol></li>
<li><ol start="3" style="list-style-type: decimal">
<li>Apresentar a suíte de pacotes do tidyverse</li>
</ol></li>
</ul>
</div>
<p>Supondo que já tenha o R e o RStudio instalados (há diversos tutoriais de instalação no Youtube), vamos aos primeiros passos.</p>
<p>É possível também rodar o R de modo online, de modo gratuito, sem instalar nada em seu computador, com o <a href="https://onecompiler.com/r">One Compiler</a> e o <a href="https://rdrr.io/snippets/">Snippets</a>, tendo mais de 19 mil pacotes instalados.
O lado negativo é que não é um modo prático e tão rápido como rodar em seu computador, mas pode servir para pequenos testes.</p>
<div class="figure">
<img src="imagens/RSnippets.png" style="width:50.0%" alt="" />
<p class="caption">Snippets: um site para rodar R online</p>
</div>
<p>Outro modo de rodar o R online é criar uma conta no <a href="https://rstudio.cloud/">RStudio Cloud</a>, que possui também modalidade de conta gratuita, com algumas limitações: 15 horas de uso mensais, 1 Gb de Ram (pouco, mas funciona). Vantagem do Rstudio Cloud: a instalação de pacotes ocorre sem maiores problemas. Desvantagem: be mais lento que o RStudio Desktop.</p>
<div class="figure">
<img src="imagens/RstudioCloud7-workspace2.png" style="width:80.0%" alt="" />
<p class="caption">RStudio Cloud: rodando o RStudio nas através de navegdor de internet</p>
</div>
<div class="infobox history">
<p><strong>HISTÓRIA</strong></p>
<p>A linguagem R foi criada no ano de 1993 por Ross Ihaka e Robert Gentleman do Departamento de Estatística da Universidade de Auckland, da Nova Zelândia, se baseando na linguagem S (por sua vez, criada em 1976). O anúncio oficial de lançamento do R ocorreu em 23 de abril de 1997.
- <a href="https://www.jstor.org/stable/1390807">IHAKA, Ross; GENTLEMAN, Robert. “R: A Language for Data Analysis and Graphics”. Journal of Computational and Graphical Statistics. 5 (3): 299. set.1996 doi:10.2307/1390807. ISSN 1061-8600. JSTOR 1390807.</a></p>
</div>
<p>R é uma linguagem aberta e gratuita, mutiplataforma (roda em Linux, Windows e Mac), publicada sob a licença General Public License (GNU).
O R é criado por estatísticos e é bem popular no mundo acadêmico. O R vem com diversos pacotes e funções nativamente.
Só para ter uma idéia desta quantidade:</p>
<table>
<thead>
<tr class="header">
<th>Pacote</th>
<th>Número de funções</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>base</td>
<td>1244</td>
</tr>
<tr class="even">
<td>datasets</td>
<td>104</td>
</tr>
<tr class="odd">
<td>graphics</td>
<td>87</td>
</tr>
<tr class="even">
<td>grDevices</td>
<td>112</td>
</tr>
<tr class="odd">
<td>methods</td>
<td>203</td>
</tr>
<tr class="even">
<td>utils</td>
<td>215</td>
</tr>
<tr class="odd">
<td>stats</td>
<td>449</td>
</tr>
</tbody>
</table>
<p>Dificilmente vamos dominar estes pacotes e mais as funções dos pacotes específicos que iremos instalar</p>
<div id="obtendo-ajuda-no-r" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Obtendo Ajuda no R</h2>
<p>A primeira coisa a se aprender é como conseguir ajuda, como conseguir a informação que precisamos.
A busca por ajuda é uma constante, mesmo entre os mais experiente.</p>
<table>
<colgroup>
<col width="11%" />
<col width="62%" />
<col width="26%" />
</colgroup>
<thead>
<tr class="header">
<th>Comando</th>
<th>Descrição</th>
<th>Exemplo de uso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>help.start()</code></td>
<td>para abrir o sistema de ajuda em HTML no seu navegador</td>
<td><code>help.start()</code></td>
</tr>
<tr class="even">
<td><code>help("função")</code> ou <code>?funcao()</code></td>
<td>Acesso à documentação de funções, data sets e outros. No Rstudio, a ajuda é aberta na aba “Help”. Caso rode direto no console, sem o RStudio, uma vez dentro da página de ajuda, digite <code>/</code> para realizar busca e <code>q</code> para sair</td>
<td><code>?getwd</code> ou <code>help(getwd)</code></td>
</tr>
<tr class="odd">
<td><code>help(função, package="NOME_PACOTE")</code></td>
<td>para obter ajudar de um pacote que não foi cerregado</td>
<td><code>help(rlm, package="MASS")</code> Ajuda para a função rlm() do pacote MASS</td>
</tr>
<tr class="even">
<td><code>help(package = 'NOME_PACOTE')</code></td>
<td>Mostra um índice de páginas de ajuda para o pacote</td>
<td><code>help(package = 'dplyr'</code></td>
</tr>
<tr class="odd">
<td><code>example()</code></td>
<td>Mostra exemplos de uso da função</td>
<td><code>example(grep)</code></td>
</tr>
<tr class="even">
<td><code>help.search()</code> ou <code>??busca</code></td>
<td>Para busca mais vaga. Caso não se lembre do nome exato da função, ou caso busque uma função que faça determinada tarefa</td>
<td><code>??regression</code> mostra diversas funções de diversos pacotes que contém a palavra “regression”</td>
</tr>
<tr class="odd">
<td><code>RSiteSearch()</code></td>
<td>Busca no seu navegador (browser) padrão em sites especializados em R</td>
<td><code>RSiteSearch("text analysis")</code></td>
</tr>
<tr class="even">
<td><code>args()</code></td>
<td>Mostra os argumentos que uma função pode receber.</td>
<td><code>args(grep)</code></td>
</tr>
<tr class="odd">
<td><code>apropos()</code></td>
<td>Busca pelo nome de uma função. Útil quando não lembramos exatamente o nome de uma função</td>
<td><code>apropos("grep")</code></td>
</tr>
<tr class="even">
<td><code>demo()</code></td>
<td>Lista todas as demonstrações de todos os seus pacotes</td>
<td><code>demo()</code></td>
</tr>
<tr class="odd">
<td><code>demo(package="package-name")</code></td>
<td>lista as demonstrações de um pacote particular</td>
<td><code>demo(package="stats")</code></td>
</tr>
<tr class="even">
<td><code>pacote::</code></td>
<td>No console do RStudio, apresenta uma lista com todas as funções do pacote, numa janela</td>
<td><code>graphics::</code></td>
</tr>
</tbody>
</table>
<p>Fonte: Versão expandidada de <a href="https://www.r-project.org/help.html">Getting Help with R</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="introdução-ao-r.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Buscando por funções que contenham &quot;grep&quot;</span></span>
<span id="cb1-2"><a href="introdução-ao-r.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apropos</span>(<span class="st">&quot;grep&quot;</span>)</span>
<span id="cb1-3"><a href="introdução-ao-r.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;agrep&quot;   &quot;agrepl&quot;  &quot;grep&quot;    &quot;grepl&quot;   &quot;grepRaw&quot;</span></span>
<span id="cb1-4"><a href="introdução-ao-r.html#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="introdução-ao-r.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrando os argumentos que uma função pode receber</span></span>
<span id="cb1-6"><a href="introdução-ao-r.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(gsub)</span>
<span id="cb1-7"><a href="introdução-ao-r.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="do">## function (pattern, replacement, x, ignore.case = FALSE, perl = FALSE, </span></span>
<span id="cb1-8"><a href="introdução-ao-r.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="do">##     fixed = FALSE, useBytes = FALSE) </span></span>
<span id="cb1-9"><a href="introdução-ao-r.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="do">## NULL</span></span></code></pre></div>
<p>Outra dica é buscar a documentação do pacote no <a href="https://cran.r-project.org/search.html">site do cran</a> ou buscar por problemas específicos no o site <a href="https://stackoverflow.com/">Stack Overflow</a>.</p>
<div id="obtendo-ajuda-com-o-r-commander-rcmdr" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Obtendo ajuda com o R Commander (Rcmdr)</h3>
<p>Para quem está aprendendo a usar estatística no R, uma boa dica é usar o pacote R Commander.
Ao rodá-lo, uma janela aparece onde escolhemos o tipo de operação, e ele mostra o código para tal.
O Rcmdr ensina como importar dados (SPSS, Excell, Stata, ruls, etc.), como realizar diversas operações estatísticas, como plotar gráficos.</p>
<p>Ao rodar o Rcmdr pela primeira vez, pacotes adicionais serão instalados, como na imagem abaixo.</p>
<div class="figure">
<img src="imagens/RCommander_install.png" alt="" />
<p class="caption">Instalação do R Commander. Instalando pacotes adicionais</p>
</div>
<p>Após a instalação de pacotes adicionais, O R Commander abre uma janela com os comandos.</p>
<div class="figure">
<img src="imagens/Rcommander.png" alt="" />
<p class="caption">R Commander em ação</p>
</div>
<p>Caso feche a janela do RCommander, rodar <code>library(Rcmdr)</code> novamente não abrirá a janela, uma vez que o pacote já está carregado.
A solução é rodar então <code>Commander()</code> para ter a janela novamente.
Caso queira fechar este pacote, basta digitar no Console <code>detach("package:Rcmdr", unload=TRUE)</code> ou apenas feche o R.</p>
<div class="infobox note">
<p><strong>Dicas</strong>: R Commander</p>
<ul>
<li>LAURETTO, Marcelo. <a href="http://www.each.usp.br/lauretto/cursoR2017/02-RcommanderParte1.pdf">Introdução ao R Commander</a>. (Pequeno tutorial do RCommander, em PDF e em português.)</li>
<li><a href="https://socialsciences.mcmaster.ca/jfox/Misc/Rcmdr/">The R Commander: A Basic-Statistics GUI for R</a></li>
<li>FOX, John. <a href="https://socialsciences.mcmaster.ca/jfox/Misc/Rcmdr/Getting-Started-with-the-Rcmdr.pdf">Getting Started With the R Commander</a>. (Artigo do criador do RCommander)</li>
<li>Video tutorial do R Commander em ação e em português: <a href="https://www.youtube.com/watch?v=7GDshWv8O6E">Aprendendo Estatística com o R Commander</a> do Departamento de Estatística UFLA</li>
</ul>
</div>
</div>
<div id="comentando-o-código" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Comentando o código</h3>
<p>Nas linguagens de programação é possível acrescentar comentários para orientar os humanos e que não serão lidos pelo computador.
Cada linguagem tem o seu próprio padrão.
No R, assim como em muitas linguagens de programação, os comentários no código são feito com a tralha <code>#</code> ou hashtag, jogo da velha, etc.
Tudo que vier depois deste símbolo é então ignorado.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="introdução-ao-r.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Olá mundo!&quot;</span>)</span>
<span id="cb2-2"><a href="introdução-ao-r.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Olá mundo!&quot;</span></span>
<span id="cb2-3"><a href="introdução-ao-r.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Olá mundo R!&quot;</span>) <span class="co"># comentário que o computador ignora</span></span>
<span id="cb2-4"><a href="introdução-ao-r.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Olá mundo R!&quot;</span></span></code></pre></div>
<p>Se retirarmos o símbolo <code>#</code> temos então mensagem de erro.</p>
<!-- ```{r, eval=FALSE, error=TRUE, collapse=TRUE}  -->
<!--  print("Olá mundo! Olá R")  comentários que dará erro -->
<!-- ``` -->
<pre><code>print(&quot;Olá mundo! Olá R&quot;)  comentários que dará erro
Error: unexpected symbol in &quot;print(&quot;Olá mundo! Olá R&quot;)  comentários&quot;
Execution halted</code></pre>
</div>
</div>
<div id="variável" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Variável</h2>
<p>Em programação, no processo de automatização de tarefas, o uso de variáveis é essencial. Ele permite que reutilizemos as coisas, através de nomes mais simplificados. Normamente, usa-se o símbolo de igual <code>=</code>para atribuir algo a uma variável, no seguinte modo:</p>
<p><code>Noma_da_variavel = valores</code></p>
<p>O R também usa este símbolo, mas também usa outro que lhe é prório, o <code>&lt;-</code> que lembra uma seta.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="introdução-ao-r.html#cb4-1" aria-hidden="true" tabindex="-1"></a>nome1 <span class="ot">&lt;-</span> <span class="st">&quot;Fulano&quot;</span></span>
<span id="cb4-2"><a href="introdução-ao-r.html#cb4-2" aria-hidden="true" tabindex="-1"></a>nome2 <span class="ot">&lt;-</span> <span class="st">&quot;Cliclano&quot;</span></span>
<span id="cb4-3"><a href="introdução-ao-r.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="st">&quot;O primeiro nome é &quot;</span>, nome1, <span class="st">&quot;. Já o segundo nome é &quot;</span>, nome2)</span>
<span id="cb4-4"><a href="introdução-ao-r.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="do">## O primeiro nome é Fulano. Já o segundo nome é Cliclano</span></span></code></pre></div>
<p>Há algumas regras para criar variáveis. Não conter espaço no nome é uma delas. Ao invés disso, pode-se usar o underscore (Ex.: bla_ble) ou ponto (bla.ble).
Há alguns caracteres especiais que não podem ser usados diretamente numa string, pois possuem um significado especial. As aspas são um caso. Assim, por exemplo:
<code>variavel &lt;- 'moinho d'agua'</code> retorna erro. Para poder utilizar as aspas, temos de dizer ao programa para “escapar”. Isto é feito de modo geral com o caractere <code>\</code>. Assim, para funcionar, nosso exemplo fica: <code>variavel &lt;- 'moinho d\'agua'</code>.
No caso de aspas simples <code>'</code> ou duplas <code>"</code>, é possível escapar estes caracteres colocando um dentro do outro. Por exemplo: <code>variavel &lt;- "moinho d'agua"</code> ou <code>variavel &lt;- 'O conto "Trio em Lá Menor" de Machado de Assis'</code>.</p>
</div>
<div id="RDataTypes" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Tipos de Dados no R (data types)</h2>
<blockquote>
<p>“Tudo que existe no R é um objeto” (John Chambers, <em>apud</em> <a href="https://adv-r.hadley.nz/base-types.html">WICKHAM</a>)</p>
</blockquote>
<p>Tipos de dados se referem à forma mais simples de objetos, ou tipos de dados atômicos do R (R atomic data types) <!-- Everything in R programming language is an object. Hence, when we talk about data types in R we refer to the simplest data objects we can handle, that are also known as R atomic data types. https://r-coder.com/data-types-r/#Raw_data_type_in_R -->
<!-- Há cerca de [25 tipos de dados no R, ou "base types"](https://adv-r.hadley.nz/base-types.html). -->
Os seis tipos de dados básicos são:</p>
<table>
<colgroup>
<col width="22%" />
<col width="39%" />
<col width="38%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Tipo de dado no R</th>
<th>Exemplo de uso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/character.html">character</a> ou “string” (texto)</td>
<td>“a”, “bla”, “Fulano de tal”</td>
</tr>
<tr class="even">
<td>2</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/numeric.html">numeric</a> (real ou decimal)</td>
<td><code>2</code>, <code>43</code></td>
</tr>
<tr class="odd">
<td>3</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/integer.html">integer</a> (integral)</td>
<td><code>3L</code> (O “L” é o modo que o R entende que é um integral)</td>
</tr>
<tr class="even">
<td>4</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/logical.html">logical</a> (lógico)</td>
<td><code>TRUE</code> ou <code>FALSE</code></td>
</tr>
<tr class="odd">
<td>5</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/complex.html">complex</a> (complexo)</td>
<td><code>1-4i</code> (números complexos com partes reais e imaginárias)</td>
</tr>
<tr class="even">
<td>6</td>
<td><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/raw.html">raw</a> (bytes, para arquivos com dados binários)</td>
<td>O raw é de uso raro. <code>&gt; charToRaw('olá')</code> resulta em: <code>6f 6c c3 a1</code></td>
</tr>
</tbody>
</table>
<!-- [raw](https://stat.ethz.ch/R-manual/R-devel/library/base/html/raw.html) -->
<!-- |6| [raw](https://stat.ethz.ch/R-manual/R-devel/library/base/html/raw.html) | `charToRaw("bla")`, `intToBits(5L)` Trabalha com bytes e é de uso raro|  -->
<p>Uma vez criados os dados, para examinar as características dos objetos há algumas funções no R</p>
<table>
<colgroup>
<col width="34%" />
<col width="41%" />
<col width="23%" />
</colgroup>
<thead>
<tr class="header">
<th>Função no R para examinar tipos de dados</th>
<th>Descrição</th>
<th>Exemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>class()</code></td>
<td>Que tipo de objeto é?</td>
<td><code>class(3)</code>, <code>class("bla")</code></td>
</tr>
<tr class="even">
<td><code>length()</code></td>
<td>Qual o tamanho do vetore? Quantos itens possui? | `</td>
<td>length(c(“bla”,“ble”))`</td>
</tr>
<tr class="odd">
<td><code>attributes()</code></td>
<td>Possui metadados?</td>
<td></td>
</tr>
</tbody>
</table>
<!-- |`class()`|Que tipo de objeto é (high-level)?|| -->
<!-- |`typeof()`|Qual to tipo de dado (data type) do objeto (low-level)?|| -->
<!-- What about two dimensional objects?| -->
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="introdução-ao-r.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um texto (character). Tem de ser delimitado entre aspas</span></span>
<span id="cb5-2"><a href="introdução-ao-r.html#cb5-2" aria-hidden="true" tabindex="-1"></a>minha_variavel_texto <span class="ot">&lt;-</span> <span class="st">&quot;bla&quot;</span></span>
<span id="cb5-3"><a href="introdução-ao-r.html#cb5-3" aria-hidden="true" tabindex="-1"></a>minha_variavel_texto </span>
<span id="cb5-4"><a href="introdução-ao-r.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bla&quot;</span></span>
<span id="cb5-5"><a href="introdução-ao-r.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(minha_variavel_texto)</span>
<span id="cb5-6"><a href="introdução-ao-r.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb5-7"><a href="introdução-ao-r.html#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="introdução-ao-r.html#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma variável numérica. Não pode ser delimitado por aspas.</span></span>
<span id="cb5-9"><a href="introdução-ao-r.html#cb5-9" aria-hidden="true" tabindex="-1"></a>minha_variavel_numerica <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb5-10"><a href="introdução-ao-r.html#cb5-10" aria-hidden="true" tabindex="-1"></a>minha_variavel_numerica</span>
<span id="cb5-11"><a href="introdução-ao-r.html#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb5-12"><a href="introdução-ao-r.html#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(minha_variavel_numerica)</span>
<span id="cb5-13"><a href="introdução-ao-r.html#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;numeric&quot;</span></span>
<span id="cb5-14"><a href="introdução-ao-r.html#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="introdução-ao-r.html#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um integral:</span></span>
<span id="cb5-16"><a href="introdução-ao-r.html#cb5-16" aria-hidden="true" tabindex="-1"></a>minha_variavel_integral <span class="ot">&lt;-</span> 5L</span>
<span id="cb5-17"><a href="introdução-ao-r.html#cb5-17" aria-hidden="true" tabindex="-1"></a>minha_variavel_integral</span>
<span id="cb5-18"><a href="introdução-ao-r.html#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span>
<span id="cb5-19"><a href="introdução-ao-r.html#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(minha_variavel_integral)</span>
<span id="cb5-20"><a href="introdução-ao-r.html#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;integer&quot;</span></span>
<span id="cb5-21"><a href="introdução-ao-r.html#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="introdução-ao-r.html#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um variável lógica. Também sem aspas.</span></span>
<span id="cb5-23"><a href="introdução-ao-r.html#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 é maior que 3?</span></span>
<span id="cb5-24"><a href="introdução-ao-r.html#cb5-24" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">&gt;</span> <span class="dv">3</span></span>
<span id="cb5-25"><a href="introdução-ao-r.html#cb5-25" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica</span>
<span id="cb5-26"><a href="introdução-ao-r.html#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb5-27"><a href="introdução-ao-r.html#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(minha_variavel_logica)</span>
<span id="cb5-28"><a href="introdução-ao-r.html#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;logical&quot;</span></span>
<span id="cb5-29"><a href="introdução-ao-r.html#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 é menor que 3?</span></span>
<span id="cb5-30"><a href="introdução-ao-r.html#cb5-30" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica2 <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">&lt;</span> <span class="dv">3</span></span>
<span id="cb5-31"><a href="introdução-ao-r.html#cb5-31" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica2</span>
<span id="cb5-32"><a href="introdução-ao-r.html#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb5-33"><a href="introdução-ao-r.html#cb5-33" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica3 <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># É possível atribuir</span></span>
<span id="cb5-34"><a href="introdução-ao-r.html#cb5-34" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica3</span>
<span id="cb5-35"><a href="introdução-ao-r.html#cb5-35" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb5-36"><a href="introdução-ao-r.html#cb5-36" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica4 <span class="ot">&lt;-</span> F <span class="co"># Também é possível usar abreviaturas &quot;T&quot; e &quot;F&quot;</span></span>
<span id="cb5-37"><a href="introdução-ao-r.html#cb5-37" aria-hidden="true" tabindex="-1"></a>minha_variavel_logica4</span>
<span id="cb5-38"><a href="introdução-ao-r.html#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb5-39"><a href="introdução-ao-r.html#cb5-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-40"><a href="introdução-ao-r.html#cb5-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um número complexo:</span></span>
<span id="cb5-41"><a href="introdução-ao-r.html#cb5-41" aria-hidden="true" tabindex="-1"></a>numero_complexo <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="sc">+</span> 2i     </span>
<span id="cb5-42"><a href="introdução-ao-r.html#cb5-42" aria-hidden="true" tabindex="-1"></a>numero_complexo</span>
<span id="cb5-43"><a href="introdução-ao-r.html#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3+2i</span></span>
<span id="cb5-44"><a href="introdução-ao-r.html#cb5-44" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(numero_complexo)</span>
<span id="cb5-45"><a href="introdução-ao-r.html#cb5-45" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;complex&quot;</span></span>
<span id="cb5-46"><a href="introdução-ao-r.html#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="introdução-ao-r.html#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertendo para raw</span></span>
<span id="cb5-48"><a href="introdução-ao-r.html#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="do">## convertendo character para raw</span></span>
<span id="cb5-49"><a href="introdução-ao-r.html#cb5-49" aria-hidden="true" tabindex="-1"></a>meuraw <span class="ot">&lt;-</span> <span class="fu">charToRaw</span>(<span class="st">&#39;teste&#39;</span>)</span>
<span id="cb5-50"><a href="introdução-ao-r.html#cb5-50" aria-hidden="true" tabindex="-1"></a>meuraw</span>
<span id="cb5-51"><a href="introdução-ao-r.html#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 74 65 73 74 65</span></span>
<span id="cb5-52"><a href="introdução-ao-r.html#cb5-52" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(meuraw)</span>
<span id="cb5-53"><a href="introdução-ao-r.html#cb5-53" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;raw&quot;</span></span></code></pre></div>
<!-- # Criando um Raw a partir de texto: -->
<!-- meu_raw <- charToRaw("Análise textual") -->
<!-- meu_raw -->
<!-- class(meu_raw) -->
<!-- ## Criando Raw a partir de um integral: -->
<!-- raw_integ <- intToBits(2L) -->
<!-- raw_integ -->
<!-- class(raw_integ) -->
<p>Na criação de tipos de dados, pode-se usar de coerção (coercion) através das funções <code>as.</code></p>
<table>
<thead>
<tr class="header">
<th>Função</th>
<th>Coerção para</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>as.numeric</code></td>
<td>Numeric</td>
</tr>
<tr class="even">
<td><code>as.integer</code></td>
<td>Integer</td>
</tr>
<tr class="odd">
<td><code>as.double</code></td>
<td>Double</td>
</tr>
<tr class="even">
<td><code>as.character</code></td>
<td>Character</td>
</tr>
<tr class="odd">
<td><code>as.logical</code></td>
<td>Boolean</td>
</tr>
<tr class="even">
<td><code>as.raw</code></td>
<td>Raw</td>
</tr>
</tbody>
</table>
<!-- |`as.raw`|Raw| -->
<div class="infobox obra">
<p><em>EM CONSTRUÇÃO</em></p>
</div>
</div>
<div id="estrutura-de-dados-no-r-data-structures" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Estrutura de dados no R (Data Structures)</h2>
<div class="infobox obra">
<p><em>EM CONSTRUÇÃO</em></p>
</div>
<p>Vimos os tipos de dados.
Estes podem ser organizados de distintos modos, e a depender desta organização, temos diferentes estruturas de dados.
O R possui diversas estruturas de dados, como:</p>
<ul>
<li>vetores numéricos e atômicos</li>
<li>lista (<em>list</em>)</li>
<li>fatores (<em>factors</em>)</li>
<li>matriz (<em>matrix</em>)</li>
<li>data frame</li>
</ul>
<div id="vetor-vector" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Vetor (vector)</h3>
<p>Como dito no <a href="https://cran.r-project.org/doc/manuals/R-lang.html#Basic-types">manual</a>, “Pode-se conceber vetores como células contíguas contendo dados” (<em>Vectors can be thought of as contiguous cells containing data”</em>).
Vetor é a estrutura de dados mais comum no R, os tipos básicos de vetores atômicos são aqueles seis mencionados anteriormente.
Criamos vetores com a função <code>c()</code> de “concatenate” ou “combine”.
No caso de strings (character), deve-se colocar os valores dentro de aspas:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="introdução-ao-r.html#cb6-1" aria-hidden="true" tabindex="-1"></a>meu_vetor <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;bla&quot;</span>, <span class="st">&quot;ble&quot;</span>, <span class="st">&quot;bli&quot;</span>, <span class="st">&quot;blo&quot;</span>, <span class="st">&quot;blu&quot;</span>) <span class="co"># criando o vetor com strings</span></span>
<span id="cb6-2"><a href="introdução-ao-r.html#cb6-2" aria-hidden="true" tabindex="-1"></a>meu_vetor <span class="co"># imprimindo na tela o vetor que acabamos de criar</span></span>
<span id="cb6-3"><a href="introdução-ao-r.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bla&quot; &quot;ble&quot; &quot;bli&quot; &quot;blo&quot; &quot;blu&quot;</span></span>
<span id="cb6-4"><a href="introdução-ao-r.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(meu_vetor)</span>
<span id="cb6-5"><a href="introdução-ao-r.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb6-6"><a href="introdução-ao-r.html#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="introdução-ao-r.html#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(meu_vetor) <span class="co"># observando quantos itens possui nosso vetor</span></span>
<span id="cb6-8"><a href="introdução-ao-r.html#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span>
<span id="cb6-9"><a href="introdução-ao-r.html#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="introdução-ao-r.html#cb6-10" aria-hidden="true" tabindex="-1"></a>meu_vetor[<span class="dv">3</span>]  <span class="co"># acessando o item do 3 de nosso vetor</span></span>
<span id="cb6-11"><a href="introdução-ao-r.html#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bli&quot;</span></span>
<span id="cb6-12"><a href="introdução-ao-r.html#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="introdução-ao-r.html#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor de valores booleanos</span></span>
<span id="cb6-14"><a href="introdução-ao-r.html#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Não se usa aspas nesse caso</span></span>
<span id="cb6-15"><a href="introdução-ao-r.html#cb6-15" aria-hidden="true" tabindex="-1"></a>vetor_logico <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>) <span class="co"># criando um vetor de valores booleanos</span></span>
<span id="cb6-16"><a href="introdução-ao-r.html#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(vetor_logico)</span>
<span id="cb6-17"><a href="introdução-ao-r.html#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;logical&quot;</span></span>
<span id="cb6-18"><a href="introdução-ao-r.html#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="introdução-ao-r.html#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor com diferentes tipo de dados</span></span>
<span id="cb6-20"><a href="introdução-ao-r.html#cb6-20" aria-hidden="true" tabindex="-1"></a>vetor_pan <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;bla&quot;</span>, <span class="dv">3</span>, <span class="cn">TRUE</span>, 5L)</span>
<span id="cb6-21"><a href="introdução-ao-r.html#cb6-21" aria-hidden="true" tabindex="-1"></a>vetor_pan</span>
<span id="cb6-22"><a href="introdução-ao-r.html#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bla&quot;  &quot;3&quot;    &quot;TRUE&quot; &quot;5&quot;</span></span>
<span id="cb6-23"><a href="introdução-ao-r.html#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="introdução-ao-r.html#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co"># criando uma sequência numérica de 2 a 8. Desta vez não iremos salvar em uma variável</span></span>
<span id="cb6-25"><a href="introdução-ao-r.html#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>) </span>
<span id="cb6-26"><a href="introdução-ao-r.html#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2 3 4 5 6 7 8</span></span></code></pre></div>
<p>Single numbers, such as 4.2, and strings, such as “four point two” are still vectors, of length 1; there are no more basic types. Vectors with length zero are possible (and useful).
Tanto números simples (ex.: <code>2.5</code>) como strings (ex.: “Olá mundo R!”) tem comprimento (<em>length</em>) 1. já c(‘Olá’, ‘mundo’, ‘R’) possui comprimento 3.
Vetores podem ser de dois tipos: 1) atômicos, ou 2) listas.
Mas o mais frequênte é encontrarmos “vetor” como sinônimo de “vetor atômico”, e listas serem consideradas como algo à parte.
<!-- although the term “vector” most commonly refers to the atomic types not to lists. --> Para examinarmos os vetores, podemos usar as funções: <code>class()</code>, para saber o tipo, <code>length()</code>, para saber quantos elementos possui e <code>str()</code>, bastante útil ao lidarmo com dataframes, o comando mostra a estrutura básica: quantos elementos, quantas colunas (se houver), uma amostra dos elementos.
Há ainda o comando <code>typeof()</code>, mas recomendamos usar o <code>class()</code> para evitar confusão.</p>
<p>É ainda possível também atribuir nomes aos elementos de um vetor usando a função <code>names()</code></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="introdução-ao-r.html#cb7-1" aria-hidden="true" tabindex="-1"></a>valores <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">34</span>, <span class="dv">13</span>) <span class="co"># Criando um vetor</span></span>
<span id="cb7-2"><a href="introdução-ao-r.html#cb7-2" aria-hidden="true" tabindex="-1"></a>nomes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;banana&quot;</span>, <span class="st">&quot;uva&quot;</span>, <span class="st">&quot;abacate&quot;</span>) <span class="co"># Criando vetor com os nomes</span></span>
<span id="cb7-3"><a href="introdução-ao-r.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(valores) <span class="ot">&lt;-</span> nomes <span class="co"># atribuindo o vetor &quot;nomes&quot; como titulo do vetor &quot;valores&quot;</span></span>
<span id="cb7-4"><a href="introdução-ao-r.html#cb7-4" aria-hidden="true" tabindex="-1"></a>valores <span class="co"># imprimindo o vetor com nomes e valores</span></span>
<span id="cb7-5"><a href="introdução-ao-r.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  banana     uva abacate </span></span>
<span id="cb7-6"><a href="introdução-ao-r.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="do">##      12      34      13</span></span>
<span id="cb7-7"><a href="introdução-ao-r.html#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(valores) <span class="co"># imprimindo apenas os nomes</span></span>
<span id="cb7-8"><a href="introdução-ao-r.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;  &quot;uva&quot;     &quot;abacate&quot;</span></span>
<span id="cb7-9"><a href="introdução-ao-r.html#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="introdução-ao-r.html#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(valores)</span>
<span id="cb7-11"><a href="introdução-ao-r.html#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;numeric&quot;</span></span></code></pre></div>
</div>
<div id="fator-factor" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Fator (<em>Factor</em>)</h3>
<p>Considere a seguinte tabela fictícia:</p>
<table>
<thead>
<tr class="header">
<th>Nome</th>
<th>Altura(cm)</th>
<th>Região do país</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Fulano</td>
<td>175</td>
<td>NE</td>
</tr>
<tr class="even">
<td>Ciclano</td>
<td>134</td>
<td>SE</td>
</tr>
<tr class="odd">
<td>Beltrano</td>
<td>166</td>
<td>S</td>
</tr>
<tr class="even">
<td>João</td>
<td>187</td>
<td>S</td>
</tr>
<tr class="odd">
<td>Maria</td>
<td>173</td>
<td>NE</td>
</tr>
<tr class="even">
<td>José</td>
<td>159</td>
<td>CO</td>
</tr>
<tr class="odd">
<td>Joaquim</td>
<td>161</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p>Se em uma coluna certos valores se repetem, podemos considerá-los como “fatores”.
No caso, a coluna “Nome” possui valores únicos, a coluta “Altura” também, mas a coluna “Região” possui uma quantidade limitada de valores que se repetirão: N,S,NO,SE,CO.
Podemos então considerar os valores desta coluna como “fatores”.
Fatores podem ser tanto strings, como no caso acima, como integrais, como no caso da idade de estudantes de uma mesma turma.</p>
<p>Um exemplo prático:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="introdução-ao-r.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor de caracteres com siglas de aeroportos brasileiros</span></span>
<span id="cb8-2"><a href="introdução-ao-r.html#cb8-2" aria-hidden="true" tabindex="-1"></a>aeroportos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;BSB&quot;</span>, <span class="st">&quot;CON&quot;</span>, <span class="st">&quot;BSB&quot;</span>, <span class="st">&quot;VIC&quot;</span>, <span class="st">&quot;GUA&quot;</span>, <span class="st">&quot;FOR&quot;</span>, <span class="st">&quot;MAO&quot;</span>,<span class="st">&quot;GUA&quot;</span>, <span class="st">&quot;CON&quot;</span>, <span class="st">&quot;CON&quot;</span>, <span class="st">&quot;REC&quot;</span>, <span class="st">&quot;UDI&quot;</span>, <span class="st">&quot;VIC&quot;</span>, <span class="st">&quot;GUA&quot;</span>)</span>
<span id="cb8-3"><a href="introdução-ao-r.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(aeroportos)</span>
<span id="cb8-4"><a href="introdução-ao-r.html#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="do">## aeroportos</span></span>
<span id="cb8-5"><a href="introdução-ao-r.html#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="do">## BSB CON FOR GUA MAO REC UDI VIC </span></span>
<span id="cb8-6"><a href="introdução-ao-r.html#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   2   3   1   3   1   1   1   2</span></span>
<span id="cb8-7"><a href="introdução-ao-r.html#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="introdução-ao-r.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Se tento criar um barplot com os valores, dá erro:</span></span>
<span id="cb8-9"><a href="introdução-ao-r.html#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(aeroportos))</span>
<span id="cb8-10"><a href="introdução-ao-r.html#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="introdução-ao-r.html#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Temos de transformar os dados em um fator, que vamos chamar de &quot;aeroportos.factor&quot;</span></span>
<span id="cb8-12"><a href="introdução-ao-r.html#cb8-12" aria-hidden="true" tabindex="-1"></a>aeroportos.fator <span class="ot">&lt;-</span> <span class="fu">factor</span>(aeroportos)</span>
<span id="cb8-13"><a href="introdução-ao-r.html#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Perceba que &quot;Levels&quot; mostra os valores sem repetição</span></span>
<span id="cb8-14"><a href="introdução-ao-r.html#cb8-14" aria-hidden="true" tabindex="-1"></a>aeroportos.fator </span>
<span id="cb8-15"><a href="introdução-ao-r.html#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] BSB CON BSB VIC GUA FOR MAO GUA CON CON REC UDI VIC GUA</span></span>
<span id="cb8-16"><a href="introdução-ao-r.html#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Levels: BSB CON FOR GUA MAO REC UDI VIC</span></span>
<span id="cb8-17"><a href="introdução-ao-r.html#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrando a frequência de cada termo com a função &#39;summary()&#39;</span></span>
<span id="cb8-18"><a href="introdução-ao-r.html#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(aeroportos.fator) </span>
<span id="cb8-19"><a href="introdução-ao-r.html#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="do">## BSB CON FOR GUA MAO REC UDI VIC </span></span>
<span id="cb8-20"><a href="introdução-ao-r.html#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="do">##   2   3   1   3   1   1   1   2</span></span>
<span id="cb8-21"><a href="introdução-ao-r.html#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="introdução-ao-r.html#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Agora é possível gerar o gráfico de barras (barplot)</span></span>
<span id="cb8-23"><a href="introdução-ao-r.html#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">summary</span>(aeroportos.fator))</span></code></pre></div>
<p><img src="analise_textual_sociologia_files/figure-html/cars-1.png" width="672" /></p>
<p>Fatores são comuns em tabelas, mas são raros em análise textual.
Assim, ao trabalhar com análise textual, convém mudar as opções globais de strings, para não serem consideradas fatores:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="introdução-ao-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</div>
<div id="matrix" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Matriz (Matrix)</h3>
<p>Vejamos as matrizes:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="introdução-ao-r.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1:12=Os elementos da nossa matriz, 1 a 12</span></span>
<span id="cb10-2"><a href="introdução-ao-r.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 4=linhas no eixo vertical 3=linhas noeixo horizontal</span></span>
<span id="cb10-3"><a href="introdução-ao-r.html#cb10-3" aria-hidden="true" tabindex="-1"></a>minha.matriz <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb10-4"><a href="introdução-ao-r.html#cb10-4" aria-hidden="true" tabindex="-1"></a>minha.matriz</span>
<span id="cb10-5"><a href="introdução-ao-r.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="do">##      [,1] [,2] [,3]</span></span>
<span id="cb10-6"><a href="introdução-ao-r.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]    1    5    9</span></span>
<span id="cb10-7"><a href="introdução-ao-r.html#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]    2    6   10</span></span>
<span id="cb10-8"><a href="introdução-ao-r.html#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,]    3    7   11</span></span>
<span id="cb10-9"><a href="introdução-ao-r.html#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,]    4    8   12</span></span>
<span id="cb10-10"><a href="introdução-ao-r.html#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="introdução-ao-r.html#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando itens, linha 2, coluna 3</span></span>
<span id="cb10-12"><a href="introdução-ao-r.html#cb10-12" aria-hidden="true" tabindex="-1"></a>minha.matriz[<span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb10-13"><a href="introdução-ao-r.html#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 10</span></span>
<span id="cb10-14"><a href="introdução-ao-r.html#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="introdução-ao-r.html#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando uma linha inteira</span></span>
<span id="cb10-16"><a href="introdução-ao-r.html#cb10-16" aria-hidden="true" tabindex="-1"></a>minha.matriz[<span class="dv">2</span>, ]</span>
<span id="cb10-17"><a href="introdução-ao-r.html#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  2  6 10</span></span></code></pre></div>
<p>Matrizes também são usadas na análise textual, como nas <a href="#DTM">Document-Term-Matrix</a> e TermDocument Matrix.
Veremos em mais detalhes posteriormente, mas apenas para um primeiro contato, o DTM das frases “O rato roeu a roupa do rei”, “O rei riu do rato”, “A roupa do rato é de rei”, onde cada linha representa um documento (documento, neste caso, é cada uma das frases) e as colunas são as palavras.
Os números são a frequência de cada termo em cada frase:</p>
<!-- |    | Documentoss| -->
<!-- |-----|-----| -->
<!-- |*Termos*|1 |2 |3| -->
<!-- |  rato  |1 |1 |1| -->
<!-- |  rei   |1 |1 |1| -->
<!-- |  riu   |0 |1 |0| -->
<!-- |  roeu  |1 |0 |0| -->
<!-- |  roupa |1 |0 |1| -->
<!-- |  |  |  |  | -->
<!-- |----|----|---|---| -->
<!-- |**termos**|1 |2 |3| -->
<!-- |  rato  |1 |1 |1| -->
<!-- |  rei   |1 |1 |1| -->
<!-- |  riu   |0 |1 |0| -->
<!-- |  roeu  |1 |0 |0| -->
<!-- |  roupa |1 |0 |1| -->
<table>
<caption><span id="tab:unnamed-chunk-11">Table 4.1: </span>Um exemplo de DTM</caption>
<thead>
<tr class="header">
<th align="right">rato</th>
<th align="right">rei</th>
<th align="right">riu</th>
<th align="right">roeu</th>
<th align="right">roupa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div id="listas-list" class="section level3" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> Listas (<em>list</em>)</h3>
<p>Listas (ou “vetores genéricos”) são conjuntos de vetores mais simples.
Para criar uma lista, basta usar o comando <code>list()</code></p>
<!-- Lists (“generic vectors”) are another kind of data storage. Lists have elements, each of which can contain any type of R object, i.e. the elements of a list do not have to be of the same type. List elements are accessed through three different indexing operations. These are explained in detail in Indexing. Lists are vectors, and the basic vector types are referred to as atomic vectors where it is necessary to exclude lists. https://cran.r-project.org/doc/manuals/R-lang.html#Basic-types -->
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introdução-ao-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a>minha_lista <span class="ot">=</span> <span class="fu">list</span>(<span class="fu">c</span>(T,T,F), <span class="st">&quot;Joaquim José da Silva Xavier&quot;</span>, <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">3</span>,<span class="dv">67</span>,<span class="dv">22</span>) )</span>
<span id="cb11-2"><a href="introdução-ao-r.html#cb11-2" aria-hidden="true" tabindex="-1"></a>minha_lista</span>
<span id="cb11-3"><a href="introdução-ao-r.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb11-4"><a href="introdução-ao-r.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  TRUE  TRUE FALSE</span></span>
<span id="cb11-5"><a href="introdução-ao-r.html#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb11-6"><a href="introdução-ao-r.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [[2]]</span></span>
<span id="cb11-7"><a href="introdução-ao-r.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Joaquim José da Silva Xavier&quot;</span></span>
<span id="cb11-8"><a href="introdução-ao-r.html#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb11-9"><a href="introdução-ao-r.html#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [[3]]</span></span>
<span id="cb11-10"><a href="introdução-ao-r.html#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  3  6  3 67 22</span></span>
<span id="cb11-11"><a href="introdução-ao-r.html#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="introdução-ao-r.html#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando o vetor 3 de nossa lista. No caso de listas, usamos o duplo colchete</span></span>
<span id="cb11-13"><a href="introdução-ao-r.html#cb11-13" aria-hidden="true" tabindex="-1"></a>minha_lista[[<span class="dv">3</span>]]</span>
<span id="cb11-14"><a href="introdução-ao-r.html#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  3  6  3 67 22</span></span>
<span id="cb11-15"><a href="introdução-ao-r.html#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="introdução-ao-r.html#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando o vetor 3 de nossa lista, item 5</span></span>
<span id="cb11-17"><a href="introdução-ao-r.html#cb11-17" aria-hidden="true" tabindex="-1"></a>minha_lista[[<span class="dv">3</span>]][<span class="dv">5</span>]</span>
<span id="cb11-18"><a href="introdução-ao-r.html#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 22</span></span></code></pre></div>
<p>É possível também “quebrar” um texto em vetores, através do comando <code>strsplt()</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="introdução-ao-r.html#cb12-1" aria-hidden="true" tabindex="-1"></a>texto <span class="ot">=</span> <span class="st">&quot;Bla bla bla. Ble ble ble ble. Bli bli. Blo. Blu blu blu&quot;</span></span>
<span id="cb12-2"><a href="introdução-ao-r.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(texto)</span>
<span id="cb12-3"><a href="introdução-ao-r.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb12-4"><a href="introdução-ao-r.html#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="introdução-ao-r.html#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>)</span>
<span id="cb12-6"><a href="introdução-ao-r.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb12-7"><a href="introdução-ao-r.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Bla bla bla&quot;      &quot; Ble ble ble ble&quot; &quot; Bli bli&quot;         &quot; Blo&quot;            </span></span>
<span id="cb12-8"><a href="introdução-ao-r.html#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot; Blu blu blu&quot;</span></span></code></pre></div>
<p>No exemplo acima, o primeiro argumento em strplit() é a variável, o segundo argumento é o critério a ser usado para quebrar o texto.
Alguns caracteres são considerados especiais e precisam ser indicados que queremos seu significado literal.
É o caso de ponto final.
Para conseguirmos usá-lo como ponto final, ao invés de usarmos <code>"."</code>, usamos <code>\\.</code> . Note que ficaram espaços no início dos elementos dos vetores.
Podemos melhorar nosso código acrescentando um espaço em branco após o ponto final:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introdução-ao-r.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">. &quot;</span>)</span>
<span id="cb13-2"><a href="introdução-ao-r.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb13-3"><a href="introdução-ao-r.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Bla bla bla&quot;     &quot;Ble ble ble ble&quot; &quot;Bli bli&quot;         &quot;Blo&quot;            </span></span>
<span id="cb13-4"><a href="introdução-ao-r.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;Blu blu blu&quot;</span></span></code></pre></div>
<p>Se examinarmos o tipo de arquivo que temos, veremos que se trata de uma lista:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="introdução-ao-r.html#cb14-1" aria-hidden="true" tabindex="-1"></a>texto2 <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">. &quot;</span>)</span>
<span id="cb14-2"><a href="introdução-ao-r.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(texto2)</span>
<span id="cb14-3"><a href="introdução-ao-r.html#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;list&quot;</span></span></code></pre></div>
<p>Se quisermos que este seja um vetor simples, e não lista:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introdução-ao-r.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(texto2)</span>
<span id="cb15-2"><a href="introdução-ao-r.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;list&quot;</span></span>
<span id="cb15-3"><a href="introdução-ao-r.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="introdução-ao-r.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># usar o comando unlist()</span></span>
<span id="cb15-5"><a href="introdução-ao-r.html#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">unlist</span>(texto2)</span>
<span id="cb15-6"><a href="introdução-ao-r.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Bla bla bla&quot;     &quot;Ble ble ble ble&quot; &quot;Bli bli&quot;         &quot;Blo&quot;            </span></span>
<span id="cb15-7"><a href="introdução-ao-r.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;Blu blu blu&quot;</span></span>
<span id="cb15-8"><a href="introdução-ao-r.html#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">unlist</span>(texto2))</span>
<span id="cb15-9"><a href="introdução-ao-r.html#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;character&quot;</span></span>
<span id="cb15-10"><a href="introdução-ao-r.html#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="introdução-ao-r.html#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Ou ainda, acessando o item 1 da lista</span></span>
<span id="cb15-12"><a href="introdução-ao-r.html#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(texto, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">. &quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb15-13"><a href="introdução-ao-r.html#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Bla bla bla&quot;     &quot;Ble ble ble ble&quot; &quot;Bli bli&quot;         &quot;Blo&quot;            </span></span>
<span id="cb15-14"><a href="introdução-ao-r.html#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;Blu blu blu&quot;</span></span></code></pre></div>
</div>
<div id="dataframes" class="section level3" number="4.4.5">
<h3><span class="header-section-number">4.4.5</span> Data Frames</h3>
<p>Uma vantagem de se trabalhar com data frame é que as colunas tem nome e não apenas índice, e isto facilita nosso trabalho na hora de procurar as informações que queremos, pois buscar a coluna pelo seu número pode nos causar confusão.
A manipulação de dataframes foi facilitada com os <a href="introdução-ao-r.html#tibbles">tibbles</a> e os pacotes do tidyverse (ver mais abaixo), mas antes vejamos os dataframes tradicionais.</p>
<!-- escolaridade <- as.integer(c(08,13,15))  -->
<!-- https://educa.ibge.gov.br/jovens/conheca-o-brasil/populacao/18319-cor-ou-raca.html -->
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="introdução-ao-r.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando 3 vetores com valores aleatórios</span></span>
<span id="cb16-2"><a href="introdução-ao-r.html#cb16-2" aria-hidden="true" tabindex="-1"></a>idade <span class="ot">&lt;-</span>  <span class="fu">as.integer</span>(<span class="fu">c</span>(<span class="dv">12</span>,<span class="dv">23</span>,<span class="dv">35</span>)) </span>
<span id="cb16-3"><a href="introdução-ao-r.html#cb16-3" aria-hidden="true" tabindex="-1"></a>genero <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">&quot;fem&quot;</span>, <span class="st">&quot;mas&quot;</span>, <span class="st">&quot;fem&quot;</span>)) </span>
<span id="cb16-4"><a href="introdução-ao-r.html#cb16-4" aria-hidden="true" tabindex="-1"></a>raça <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">&quot;pret&quot;</span>, <span class="st">&quot;branc&quot;</span>, <span class="st">&quot;pard&quot;</span>)) </span>
<span id="cb16-5"><a href="introdução-ao-r.html#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="introdução-ao-r.html#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Jogando estes vetores no nosso dataframe, que vamos nomear de &quot;df&quot;</span></span>
<span id="cb16-7"><a href="introdução-ao-r.html#cb16-7" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(idade, genero, raça) </span>
<span id="cb16-8"><a href="introdução-ao-r.html#cb16-8" aria-hidden="true" tabindex="-1"></a>df <span class="co"># vendo nosso dataframe no console</span></span>
<span id="cb16-9"><a href="introdução-ao-r.html#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb16-10"><a href="introdução-ao-r.html#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb16-11"><a href="introdução-ao-r.html#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb16-12"><a href="introdução-ao-r.html#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb16-13"><a href="introdução-ao-r.html#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="introdução-ao-r.html#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ver o dataframe em uma nova janela pop-up</span></span>
<span id="cb16-15"><a href="introdução-ao-r.html#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(df) </span>
<span id="cb16-16"><a href="introdução-ao-r.html#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="introdução-ao-r.html#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df) <span class="co"># Qual a classe de nosso objeto, caso tenhamos esquecido?</span></span>
<span id="cb16-18"><a href="introdução-ao-r.html#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;data.frame&quot;</span></span>
<span id="cb16-19"><a href="introdução-ao-r.html#cb16-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-20"><a href="introdução-ao-r.html#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="co"># retornando apenas o nome das colunas</span></span>
<span id="cb16-21"><a href="introdução-ao-r.html#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;idade&quot;  &quot;genero&quot; &quot;raça&quot;</span></span>
<span id="cb16-22"><a href="introdução-ao-r.html#cb16-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-23"><a href="introdução-ao-r.html#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver o número de linhas e colunas através do comando</span></span>
<span id="cb16-24"><a href="introdução-ao-r.html#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="co"># dim() de &quot;dimensions&quot;</span></span>
<span id="cb16-25"><a href="introdução-ao-r.html#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df)</span>
<span id="cb16-26"><a href="introdução-ao-r.html#cb16-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3 3</span></span>
<span id="cb16-27"><a href="introdução-ao-r.html#cb16-27" aria-hidden="true" tabindex="-1"></a><span class="co"># mostra a estrutura do dataframe, como </span></span>
<span id="cb16-28"><a href="introdução-ao-r.html#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="co"># quantidade de linhas (obs.) e colunas (variables)</span></span>
<span id="cb16-29"><a href="introdução-ao-r.html#cb16-29" aria-hidden="true" tabindex="-1"></a><span class="co"># nomes das colunas, tipo de dado nesta coluna, primeiros valores</span></span>
<span id="cb16-30"><a href="introdução-ao-r.html#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df) </span>
<span id="cb16-31"><a href="introdução-ao-r.html#cb16-31" aria-hidden="true" tabindex="-1"></a><span class="do">## &#39;data.frame&#39;:    3 obs. of  3 variables:</span></span>
<span id="cb16-32"><a href="introdução-ao-r.html#cb16-32" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ idade : int  12 23 35</span></span>
<span id="cb16-33"><a href="introdução-ao-r.html#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ genero: chr  &quot;fem&quot; &quot;mas&quot; &quot;fem&quot;</span></span>
<span id="cb16-34"><a href="introdução-ao-r.html#cb16-34" aria-hidden="true" tabindex="-1"></a><span class="do">##  $ raça  : chr  &quot;pret&quot; &quot;branc&quot; &quot;pard&quot;</span></span>
<span id="cb16-35"><a href="introdução-ao-r.html#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="introdução-ao-r.html#cb16-36" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>genero <span class="co"># Filtrando o dataframe &quot;df&quot; pela coluna &quot;genero&quot;</span></span>
<span id="cb16-37"><a href="introdução-ao-r.html#cb16-37" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;fem&quot; &quot;mas&quot; &quot;fem&quot;</span></span>
<span id="cb16-38"><a href="introdução-ao-r.html#cb16-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-39"><a href="introdução-ao-r.html#cb16-39" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>] <span class="co"># Filtrando o dataframe pela coluna 2: df[numero] </span></span>
<span id="cb16-40"><a href="introdução-ao-r.html#cb16-40" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero</span></span>
<span id="cb16-41"><a href="introdução-ao-r.html#cb16-41" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    fem</span></span>
<span id="cb16-42"><a href="introdução-ao-r.html#cb16-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    mas</span></span>
<span id="cb16-43"><a href="introdução-ao-r.html#cb16-43" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    fem</span></span>
<span id="cb16-44"><a href="introdução-ao-r.html#cb16-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-45"><a href="introdução-ao-r.html#cb16-45" aria-hidden="true" tabindex="-1"></a>df[,<span class="dv">2</span>] <span class="co"># Filtrando o dataframe pela coluna 2:</span></span>
<span id="cb16-46"><a href="introdução-ao-r.html#cb16-46" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;fem&quot; &quot;mas&quot; &quot;fem&quot;</span></span>
<span id="cb16-47"><a href="introdução-ao-r.html#cb16-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-48"><a href="introdução-ao-r.html#cb16-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando o dataframe pelo número da linha: df[número_da_Linha,] . </span></span>
<span id="cb16-49"><a href="introdução-ao-r.html#cb16-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Repare na necessidade da vírgula.</span></span>
<span id="cb16-50"><a href="introdução-ao-r.html#cb16-50" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">1</span>,] <span class="co"># imprimindo a linha 1</span></span>
<span id="cb16-51"><a href="introdução-ao-r.html#cb16-51" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raça</span></span>
<span id="cb16-52"><a href="introdução-ao-r.html#cb16-52" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem pret</span></span>
<span id="cb16-53"><a href="introdução-ao-r.html#cb16-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-54"><a href="introdução-ao-r.html#cb16-54" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">3</span>,] <span class="co"># imprimindo a linha 3</span></span>
<span id="cb16-55"><a href="introdução-ao-r.html#cb16-55" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raça</span></span>
<span id="cb16-56"><a href="introdução-ao-r.html#cb16-56" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem pard</span></span>
<span id="cb16-57"><a href="introdução-ao-r.html#cb16-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-58"><a href="introdução-ao-r.html#cb16-58" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,] <span class="co"># retornando as linhas de 1 a 2</span></span>
<span id="cb16-59"><a href="introdução-ao-r.html#cb16-59" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb16-60"><a href="introdução-ao-r.html#cb16-60" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb16-61"><a href="introdução-ao-r.html#cb16-61" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb16-62"><a href="introdução-ao-r.html#cb16-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-63"><a href="introdução-ao-r.html#cb16-63" aria-hidden="true" tabindex="-1"></a><span class="co"># media da coluna &quot;idade&quot;</span></span>
<span id="cb16-64"><a href="introdução-ao-r.html#cb16-64" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>idade)</span>
<span id="cb16-65"><a href="introdução-ao-r.html#cb16-65" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 23.33333</span></span>
<span id="cb16-66"><a href="introdução-ao-r.html#cb16-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-67"><a href="introdução-ao-r.html#cb16-67" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df) <span class="co"># Obtendo uma visão estatística ampla da tabela</span></span>
<span id="cb16-68"><a href="introdução-ao-r.html#cb16-68" aria-hidden="true" tabindex="-1"></a><span class="do">##      idade          genero              raça          </span></span>
<span id="cb16-69"><a href="introdução-ao-r.html#cb16-69" aria-hidden="true" tabindex="-1"></a><span class="do">##  Min.   :12.00   Length:3           Length:3          </span></span>
<span id="cb16-70"><a href="introdução-ao-r.html#cb16-70" aria-hidden="true" tabindex="-1"></a><span class="do">##  1st Qu.:17.50   Class :character   Class :character  </span></span>
<span id="cb16-71"><a href="introdução-ao-r.html#cb16-71" aria-hidden="true" tabindex="-1"></a><span class="do">##  Median :23.00   Mode  :character   Mode  :character  </span></span>
<span id="cb16-72"><a href="introdução-ao-r.html#cb16-72" aria-hidden="true" tabindex="-1"></a><span class="do">##  Mean   :23.33                                        </span></span>
<span id="cb16-73"><a href="introdução-ao-r.html#cb16-73" aria-hidden="true" tabindex="-1"></a><span class="do">##  3rd Qu.:29.00                                        </span></span>
<span id="cb16-74"><a href="introdução-ao-r.html#cb16-74" aria-hidden="true" tabindex="-1"></a><span class="do">##  Max.   :35.00</span></span>
<span id="cb16-75"><a href="introdução-ao-r.html#cb16-75" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>genero) <span class="co"># sumário da coluna &quot;gênero&quot; do dataset &quot;df&quot;</span></span>
<span id="cb16-76"><a href="introdução-ao-r.html#cb16-76" aria-hidden="true" tabindex="-1"></a><span class="do">##    Length     Class      Mode </span></span>
<span id="cb16-77"><a href="introdução-ao-r.html#cb16-77" aria-hidden="true" tabindex="-1"></a><span class="do">##         3 character character</span></span>
<span id="cb16-78"><a href="introdução-ao-r.html#cb16-78" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>idade) <span class="co"># sumário da coluna &quot;idade&quot; do dataset &quot;df&quot;</span></span>
<span id="cb16-79"><a href="introdução-ao-r.html#cb16-79" aria-hidden="true" tabindex="-1"></a><span class="do">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb16-80"><a href="introdução-ao-r.html#cb16-80" aria-hidden="true" tabindex="-1"></a><span class="do">##   12.00   17.50   23.00   23.33   29.00   35.00</span></span>
<span id="cb16-81"><a href="introdução-ao-r.html#cb16-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-82"><a href="introdução-ao-r.html#cb16-82" aria-hidden="true" tabindex="-1"></a><span class="co"># testando se valores da coluna &quot;genero&quot; são &quot;fem&quot;</span></span>
<span id="cb16-83"><a href="introdução-ao-r.html#cb16-83" aria-hidden="true" tabindex="-1"></a> df<span class="sc">$</span>genero<span class="sc">==</span><span class="st">&quot;fem&quot;</span></span>
<span id="cb16-84"><a href="introdução-ao-r.html#cb16-84" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  TRUE FALSE  TRUE</span></span>
<span id="cb16-85"><a href="introdução-ao-r.html#cb16-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-86"><a href="introdução-ao-r.html#cb16-86" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando apenas as linhas onde a coluna &quot;genero&quot; for &quot;fem&quot;. </span></span>
<span id="cb16-87"><a href="introdução-ao-r.html#cb16-87" aria-hidden="true" tabindex="-1"></a><span class="co"># Explicando de outro modo: quando &quot;genero&quot; igual a &quot;fem&quot; for verdadeiro, imprima</span></span>
<span id="cb16-88"><a href="introdução-ao-r.html#cb16-88" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>genero<span class="sc">==</span><span class="st">&quot;fem&quot;</span>,]</span>
<span id="cb16-89"><a href="introdução-ao-r.html#cb16-89" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raça</span></span>
<span id="cb16-90"><a href="introdução-ao-r.html#cb16-90" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem pret</span></span>
<span id="cb16-91"><a href="introdução-ao-r.html#cb16-91" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem pard</span></span>
<span id="cb16-92"><a href="introdução-ao-r.html#cb16-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-93"><a href="introdução-ao-r.html#cb16-93" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando apenas as linhas onde a escolaridade for maior que 12. </span></span>
<span id="cb16-94"><a href="introdução-ao-r.html#cb16-94" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>idade <span class="sc">&gt;</span> <span class="dv">12</span>,]</span>
<span id="cb16-95"><a href="introdução-ao-r.html#cb16-95" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb16-96"><a href="introdução-ao-r.html#cb16-96" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb16-97"><a href="introdução-ao-r.html#cb16-97" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span></code></pre></div>
<div id="manipulandoeditando-o-data-frame" class="section level4" number="4.4.5.1">
<h4><span class="header-section-number">4.4.5.1</span> Manipulando/Editando o data frame</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="introdução-ao-r.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adicionando (append) nova linha ao data.frame </span></span>
<span id="cb17-2"><a href="introdução-ao-r.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Modo1: através do &#39;nrow&#39;</span></span>
<span id="cb17-3"><a href="introdução-ao-r.html#cb17-3" aria-hidden="true" tabindex="-1"></a>df[<span class="fu">nrow</span>(df)<span class="sc">+</span><span class="dv">1</span>,]<span class="ot">=</span><span class="fu">c</span>(<span class="dv">23</span>, <span class="st">&quot;mas&quot;</span>, <span class="st">&quot;branc&quot;</span>)</span>
<span id="cb17-4"><a href="introdução-ao-r.html#cb17-4" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb17-5"><a href="introdução-ao-r.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb17-6"><a href="introdução-ao-r.html#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb17-7"><a href="introdução-ao-r.html#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb17-8"><a href="introdução-ao-r.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb17-9"><a href="introdução-ao-r.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    23    mas branc</span></span>
<span id="cb17-10"><a href="introdução-ao-r.html#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Modo 2: rbind()</span></span>
<span id="cb17-11"><a href="introdução-ao-r.html#cb17-11" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df, <span class="fu">c</span>(<span class="dv">20</span>,<span class="st">&quot;fem&quot;</span>, <span class="st">&quot;pret&quot;</span>))</span>
<span id="cb17-12"><a href="introdução-ao-r.html#cb17-12" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb17-13"><a href="introdução-ao-r.html#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb17-14"><a href="introdução-ao-r.html#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb17-15"><a href="introdução-ao-r.html#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb17-16"><a href="introdução-ao-r.html#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb17-17"><a href="introdução-ao-r.html#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    23    mas branc</span></span>
<span id="cb17-18"><a href="introdução-ao-r.html#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem  pret</span></span>
<span id="cb17-19"><a href="introdução-ao-r.html#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="introdução-ao-r.html#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="co"># mudando um valor, em uma célula</span></span>
<span id="cb17-21"><a href="introdução-ao-r.html#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="co"># data.frame[número_da_linha, número_da_coluna] = new_value</span></span>
<span id="cb17-22"><a href="introdução-ao-r.html#cb17-22" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">4</span>,<span class="dv">1</span>] <span class="ot">=</span> <span class="dv">14</span></span>
<span id="cb17-23"><a href="introdução-ao-r.html#cb17-23" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb17-24"><a href="introdução-ao-r.html#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb17-25"><a href="introdução-ao-r.html#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb17-26"><a href="introdução-ao-r.html#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb17-27"><a href="introdução-ao-r.html#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb17-28"><a href="introdução-ao-r.html#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    14    mas branc</span></span>
<span id="cb17-29"><a href="introdução-ao-r.html#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem  pret</span></span>
<span id="cb17-30"><a href="introdução-ao-r.html#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="introdução-ao-r.html#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="co"># mudando um valor usando o nome da coluna</span></span>
<span id="cb17-32"><a href="introdução-ao-r.html#cb17-32" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">4</span>,<span class="st">&quot;raça&quot;</span>] <span class="ot">=</span> <span class="st">&quot;pret&quot;</span></span>
<span id="cb17-33"><a href="introdução-ao-r.html#cb17-33" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb17-34"><a href="introdução-ao-r.html#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero  raça</span></span>
<span id="cb17-35"><a href="introdução-ao-r.html#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem  pret</span></span>
<span id="cb17-36"><a href="introdução-ao-r.html#cb17-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branc</span></span>
<span id="cb17-37"><a href="introdução-ao-r.html#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem  pard</span></span>
<span id="cb17-38"><a href="introdução-ao-r.html#cb17-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    14    mas  pret</span></span>
<span id="cb17-39"><a href="introdução-ao-r.html#cb17-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem  pret</span></span>
<span id="cb17-40"><a href="introdução-ao-r.html#cb17-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-41"><a href="introdução-ao-r.html#cb17-41" aria-hidden="true" tabindex="-1"></a><span class="co"># mudando valores com condicionais</span></span>
<span id="cb17-42"><a href="introdução-ao-r.html#cb17-42" aria-hidden="true" tabindex="-1"></a><span class="co"># onde coluna raça for &quot;branc&quot;, mudar na coluna &quot;raça&quot; para &quot;branco&quot;</span></span>
<span id="cb17-43"><a href="introdução-ao-r.html#cb17-43" aria-hidden="true" tabindex="-1"></a><span class="co"># se o segundo parâmetro não for inserido, todas células ganharão valor &quot;branco&quot;</span></span>
<span id="cb17-44"><a href="introdução-ao-r.html#cb17-44" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>raça<span class="sc">==</span><span class="st">&quot;branc&quot;</span>, <span class="st">&quot;raça&quot;</span>] <span class="ot">=</span> <span class="st">&quot;branco&quot;</span></span>
<span id="cb17-45"><a href="introdução-ao-r.html#cb17-45" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb17-46"><a href="introdução-ao-r.html#cb17-46" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero   raça</span></span>
<span id="cb17-47"><a href="introdução-ao-r.html#cb17-47" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12    fem   pret</span></span>
<span id="cb17-48"><a href="introdução-ao-r.html#cb17-48" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branco</span></span>
<span id="cb17-49"><a href="introdução-ao-r.html#cb17-49" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem   pard</span></span>
<span id="cb17-50"><a href="introdução-ao-r.html#cb17-50" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    14    mas   pret</span></span>
<span id="cb17-51"><a href="introdução-ao-r.html#cb17-51" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem   pret</span></span>
<span id="cb17-52"><a href="introdução-ao-r.html#cb17-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-53"><a href="introdução-ao-r.html#cb17-53" aria-hidden="true" tabindex="-1"></a><span class="co"># deletando linhas</span></span>
<span id="cb17-54"><a href="introdução-ao-r.html#cb17-54" aria-hidden="true" tabindex="-1"></a><span class="co"># com base no numero da linha</span></span>
<span id="cb17-55"><a href="introdução-ao-r.html#cb17-55" aria-hidden="true" tabindex="-1"></a>df[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]  <span class="co"># deleta a linha 1</span></span>
<span id="cb17-56"><a href="introdução-ao-r.html#cb17-56" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero   raça</span></span>
<span id="cb17-57"><a href="introdução-ao-r.html#cb17-57" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23    mas branco</span></span>
<span id="cb17-58"><a href="introdução-ao-r.html#cb17-58" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35    fem   pard</span></span>
<span id="cb17-59"><a href="introdução-ao-r.html#cb17-59" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    14    mas   pret</span></span>
<span id="cb17-60"><a href="introdução-ao-r.html#cb17-60" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    20    fem   pret</span></span>
<span id="cb17-61"><a href="introdução-ao-r.html#cb17-61" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]  <span class="co"># para tornar a mudança permanente</span></span>
<span id="cb17-62"><a href="introdução-ao-r.html#cb17-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-63"><a href="introdução-ao-r.html#cb17-63" aria-hidden="true" tabindex="-1"></a><span class="co"># com base no valor</span></span>
<span id="cb17-64"><a href="introdução-ao-r.html#cb17-64" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> df[<span class="sc">!</span>df<span class="sc">$</span>a<span class="sc">==</span><span class="st">&quot;bla&quot;</span>,]</span></code></pre></div>
</div>
</div>
<div id="considerações-finais-sobre-estrutura-de-dados" class="section level3" number="4.4.6">
<h3><span class="header-section-number">4.4.6</span> Considerações finais sobre estrutura de dados</h3>
<p>Estes não são os únicos tipos de estrutura de dados no R.
Alguns pacotes podem criar o seu próprio tipo e não convém tentar cobrir todos.
Apesar de considerar tipos diferentes, podemos considerar os diferentes tipos como subcategorias de outras.
Data frames são um tipo restrito de listas.
Listas, por sua vez, são um tipo de vetor.
Veremos a seguir a suíte de pacotes do <code>tidyverse</code> que possui formato próprio de dados.</p>
</div>
<div id="criando-funções-no-r" class="section level3" number="4.4.7">
<h3><span class="header-section-number">4.4.7</span> Criando funções no R</h3>
<p>Funções são úteis para evitar retrabalho.
Possuem a seguinte sintaxe:</p>
<pre><code>nome_da_funcao &lt;- function(arg_1, arg_2, ...) {
   corpo da função
}</code></pre>
<p><code>arg_1</code>, <code>arg_2</code> são os parâmetros de entrada na função.
Ao chamar uma função, passa-se argumentos para esta processar.
Argumentos também podem conter valores padrão, caso a informação não lhe seja repassada.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="introdução-ao-r.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando função com valores padrão:</span></span>
<span id="cb19-2"><a href="introdução-ao-r.html#cb19-2" aria-hidden="true" tabindex="-1"></a>minhafuncao <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">a =</span> <span class="dv">2</span>, <span class="at">b =</span> <span class="dv">3</span>) {</span>
<span id="cb19-3"><a href="introdução-ao-r.html#cb19-3" aria-hidden="true" tabindex="-1"></a>   resultado <span class="ot">&lt;-</span> a <span class="sc">+</span> b</span>
<span id="cb19-4"><a href="introdução-ao-r.html#cb19-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">print</span>(resultado)</span>
<span id="cb19-5"><a href="introdução-ao-r.html#cb19-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-6"><a href="introdução-ao-r.html#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="introdução-ao-r.html#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># chamando a função sem nenhum argumento.</span></span>
<span id="cb19-8"><a href="introdução-ao-r.html#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="fu">minhafuncao</span>()</span>
<span id="cb19-9"><a href="introdução-ao-r.html#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span>
<span id="cb19-10"><a href="introdução-ao-r.html#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="introdução-ao-r.html#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># chamando a função repassando argumentos.</span></span>
<span id="cb19-12"><a href="introdução-ao-r.html#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="fu">minhafuncao</span>(<span class="dv">10</span>,<span class="dv">4</span>)</span>
<span id="cb19-13"><a href="introdução-ao-r.html#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 14</span></span>
<span id="cb19-14"><a href="introdução-ao-r.html#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="introdução-ao-r.html#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co"># chamando a função repassando parte dos argumentos.</span></span>
<span id="cb19-16"><a href="introdução-ao-r.html#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="fu">minhafuncao</span>(,<span class="dv">4</span>)</span>
<span id="cb19-17"><a href="introdução-ao-r.html#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 6</span></span></code></pre></div>
</div>
<div id="RDataHora" class="section level3" number="4.4.8">
<h3><span class="header-section-number">4.4.8</span> Manipulando data e hora</h3>
<p>Data e hora é algo simples, mas que pode dar dor de cabeça se não usar os pacotes já prontos.
O R usa o seguinte formato <code>"ano-mês-dia hora:minuto:segundo"</code> ou, por exemplo, <code>2021-03-09 13:05:03</code>.
O mês vem antes de dia e ano vem antes de todos já que assim é possível organizar as datas facilmente usando a ordem alfabética/numérica.</p>
<p>P.s: Cuidado!
não use <code>data</code> como nome para um objeto, já que <code>data</code> tem significado especial no R.</p>
<p>Existe um padrão para datas usado em várias linguagens.
Para consultar de modo fácil, olhe a ajuda <code>?strptime</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="introdução-ao-r.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dizendo ao R que nossa string &quot;12/05/1993 13:00:05&quot; é uma data</span></span>
<span id="cb20-2"><a href="introdução-ao-r.html#cb20-2" aria-hidden="true" tabindex="-1"></a>minha_data <span class="ot">=</span> <span class="st">&quot;12/05/1993 13:00:05&quot;</span></span>
<span id="cb20-3"><a href="introdução-ao-r.html#cb20-3" aria-hidden="true" tabindex="-1"></a>minha_data2 <span class="ot">=</span> <span class="fu">strptime</span>(minha_data, <span class="at">format =</span> <span class="st">&quot;%d/%m/%Y %H:%M:%S&quot;</span>)</span>
<span id="cb20-4"><a href="introdução-ao-r.html#cb20-4" aria-hidden="true" tabindex="-1"></a>minha_data2</span>
<span id="cb20-5"><a href="introdução-ao-r.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;1993-05-12 13:00:05 -03&quot;</span></span></code></pre></div>
<div id="gerando-uma-sequencia-de-datas-no-r" class="section level4" number="4.4.8.1">
<h4><span class="header-section-number">4.4.8.1</span> Gerando uma sequencia de datas no R</h4>
<!-- Em algum momento você pode precisar de uma sequência de datas, por exemplo, ao fazer a raspagem de dados de alguma página que usa o formato de data. Isto é bem fácil com o R. Vamos gerar datas entre "29 de novembro de 2020 ("2020-11-29") e 02 de janeiro de 2021 ("2021-01-02"). -->
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introdução-ao-r.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="fu">as.Date</span>(<span class="st">&quot;2020-11-29&quot;</span>), <span class="at">to=</span><span class="fu">as.Date</span>(<span class="st">&quot;2021-01-02&quot;</span>), <span class="at">by=</span><span class="st">&quot;day&quot;</span>)</span>
<span id="cb21-2"><a href="introdução-ao-r.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;2020-11-29&quot; &quot;2020-11-30&quot; &quot;2020-12-01&quot; &quot;2020-12-02&quot; &quot;2020-12-03&quot;</span></span>
<span id="cb21-3"><a href="introdução-ao-r.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [6] &quot;2020-12-04&quot; &quot;2020-12-05&quot; &quot;2020-12-06&quot; &quot;2020-12-07&quot; &quot;2020-12-08&quot;</span></span>
<span id="cb21-4"><a href="introdução-ao-r.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] &quot;2020-12-09&quot; &quot;2020-12-10&quot; &quot;2020-12-11&quot; &quot;2020-12-12&quot; &quot;2020-12-13&quot;</span></span>
<span id="cb21-5"><a href="introdução-ao-r.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [16] &quot;2020-12-14&quot; &quot;2020-12-15&quot; &quot;2020-12-16&quot; &quot;2020-12-17&quot; &quot;2020-12-18&quot;</span></span>
<span id="cb21-6"><a href="introdução-ao-r.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;2020-12-19&quot; &quot;2020-12-20&quot; &quot;2020-12-21&quot; &quot;2020-12-22&quot; &quot;2020-12-23&quot;</span></span>
<span id="cb21-7"><a href="introdução-ao-r.html#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [26] &quot;2020-12-24&quot; &quot;2020-12-25&quot; &quot;2020-12-26&quot; &quot;2020-12-27&quot; &quot;2020-12-28&quot;</span></span>
<span id="cb21-8"><a href="introdução-ao-r.html#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [31] &quot;2020-12-29&quot; &quot;2020-12-30&quot; &quot;2020-12-31&quot; &quot;2021-01-01&quot; &quot;2021-01-02&quot;</span></span></code></pre></div>
<p>O parâmetro <code>by</code> aceita ainda <code>week</code> e <code>month</code>.
O R também calcula anos bissextos.
Fazendo um teste, gerando datas entre 28 de fevereiro e 1 de março de diferentes anos:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introdução-ao-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criando uma função para testes</span></span>
<span id="cb22-2"><a href="introdução-ao-r.html#cb22-2" aria-hidden="true" tabindex="-1"></a>FevMarc <span class="ot">&lt;-</span> <span class="cf">function</span>(ano) { <span class="co"># nome_da_funcao &lt;- function(input){</span></span>
<span id="cb22-3"><a href="introdução-ao-r.html#cb22-3" aria-hidden="true" tabindex="-1"></a>  minhaDataInicial<span class="ot">=</span><span class="fu">paste0</span>(ano, <span class="st">&quot;-02-28&quot;</span>) </span>
<span id="cb22-4"><a href="introdução-ao-r.html#cb22-4" aria-hidden="true" tabindex="-1"></a>  MinhaDataFinal<span class="ot">=</span><span class="fu">paste0</span>(ano, <span class="st">&quot;-03-01&quot;</span>)</span>
<span id="cb22-5"><a href="introdução-ao-r.html#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">seq</span>(<span class="at">from=</span><span class="fu">as.Date</span>(minhaDataInicial), <span class="at">to=</span><span class="fu">as.Date</span>(MinhaDataFinal), <span class="at">by=</span><span class="st">&quot;day&quot;</span>)</span>
<span id="cb22-6"><a href="introdução-ao-r.html#cb22-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-7"><a href="introdução-ao-r.html#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="introdução-ao-r.html#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ( ano <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">2015</span><span class="sc">:</span><span class="dv">2021</span>) ) {</span>
<span id="cb22-9"><a href="introdução-ao-r.html#cb22-9" aria-hidden="true" tabindex="-1"></a>    x<span class="ot">=</span> <span class="fu">FevMarc</span>(ano)</span>
<span id="cb22-10"><a href="introdução-ao-r.html#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(x)</span>
<span id="cb22-11"><a href="introdução-ao-r.html#cb22-11" aria-hidden="true" tabindex="-1"></a>       }</span>
<span id="cb22-12"><a href="introdução-ao-r.html#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2015-02-28&quot; &quot;2015-03-01&quot;</span></span>
<span id="cb22-13"><a href="introdução-ao-r.html#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2016-02-28&quot; &quot;2016-02-29&quot; &quot;2016-03-01&quot;</span></span>
<span id="cb22-14"><a href="introdução-ao-r.html#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2017-02-28&quot; &quot;2017-03-01&quot;</span></span>
<span id="cb22-15"><a href="introdução-ao-r.html#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2018-02-28&quot; &quot;2018-03-01&quot;</span></span>
<span id="cb22-16"><a href="introdução-ao-r.html#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2019-02-28&quot; &quot;2019-03-01&quot;</span></span>
<span id="cb22-17"><a href="introdução-ao-r.html#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2020-02-28&quot; &quot;2020-02-29&quot; &quot;2020-03-01&quot;</span></span>
<span id="cb22-18"><a href="introdução-ao-r.html#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2021-02-28&quot; &quot;2021-03-01&quot;</span></span></code></pre></div>
</div>
<div id="converter-data-em-nome-por-extenso-do-mês" class="section level4" number="4.4.8.2">
<h4><span class="header-section-number">4.4.8.2</span> Converter data em nome por extenso do mês</h4>
<p>Dado um vetor de meses, podemos querer gerar o mês não como número, mas com seu nome.</p>
<!-- Sys.setlocale("LC_TIME", "pt_BR.utf8") -->
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introdução-ao-r.html#cb23-1" aria-hidden="true" tabindex="-1"></a>vetor_meses <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">12</span>,<span class="dv">6</span>)</span>
<span id="cb23-2"><a href="introdução-ao-r.html#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="introdução-ao-r.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co"># carregando o pacote lubridate</span></span>
<span id="cb23-4"><a href="introdução-ao-r.html#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb23-5"><a href="introdução-ao-r.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Attaching package: &#39;lubridate&#39;</span></span>
<span id="cb23-6"><a href="introdução-ao-r.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="do">## The following objects are masked from &#39;package:base&#39;:</span></span>
<span id="cb23-7"><a href="introdução-ao-r.html#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb23-8"><a href="introdução-ao-r.html#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="do">##     date, intersect, setdiff, union</span></span>
<span id="cb23-9"><a href="introdução-ao-r.html#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="introdução-ao-r.html#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co"># o locale pode ser que funcione com o valor &#39;pt_BR&#39;</span></span>
<span id="cb23-11"><a href="introdução-ao-r.html#cb23-11" aria-hidden="true" tabindex="-1"></a>Meses <span class="ot">&lt;-</span> <span class="fu">month</span>(<span class="fu">as.numeric</span>(vetor_meses), </span>
<span id="cb23-12"><a href="introdução-ao-r.html#cb23-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="co"># produz os meses </span></span>
<span id="cb23-13"><a href="introdução-ao-r.html#cb23-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">locale =</span> <span class="st">&quot;pt_BR.utf8&quot;</span>) <span class="co"># lingua</span></span>
<span id="cb23-14"><a href="introdução-ao-r.html#cb23-14" aria-hidden="true" tabindex="-1"></a>Meses</span>
<span id="cb23-15"><a href="introdução-ao-r.html#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] jan abr jul mar fev dez jun</span></span>
<span id="cb23-16"><a href="introdução-ao-r.html#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 12 Levels: jan &lt; fev &lt; mar &lt; abr &lt; mai &lt; jun &lt; jul &lt; ago &lt; set &lt; ... &lt; dez</span></span>
<span id="cb23-17"><a href="introdução-ao-r.html#cb23-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-18"><a href="introdução-ao-r.html#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="co"># De modo resumido</span></span>
<span id="cb23-19"><a href="introdução-ao-r.html#cb23-19" aria-hidden="true" tabindex="-1"></a>lubridate<span class="sc">::</span><span class="fu">month</span>(<span class="fu">as.numeric</span>(vetor_meses), <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">locale =</span> <span class="st">&quot;pt_BR.utf8&quot;</span>)</span>
<span id="cb23-20"><a href="introdução-ao-r.html#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] jan abr jul mar fev dez jun</span></span>
<span id="cb23-21"><a href="introdução-ao-r.html#cb23-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 12 Levels: jan &lt; fev &lt; mar &lt; abr &lt; mai &lt; jun &lt; jul &lt; ago &lt; set &lt; ... &lt; dez</span></span></code></pre></div>
<p>Fazendo o caminho inverso, supondo que tenhamos um vetor com nome dos meses e queiramos colocá-los em formato</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introdução-ao-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a>dataPorExtenso <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;12 agosto 2020&#39;</span>,</span>
<span id="cb24-2"><a href="introdução-ao-r.html#cb24-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">&#39;17 dezembro 2021&#39;</span>)</span>
<span id="cb24-3"><a href="introdução-ao-r.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(dataPorExtenso, <span class="at">format =</span> <span class="st">&quot;%d %B %Y&quot;</span>)</span>
<span id="cb24-4"><a href="introdução-ao-r.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2020-08-12&quot; &quot;2021-12-17&quot;</span></span></code></pre></div>
<!-- lubridate::month(Meses, label = TRUE, locale = "pt_BR") -->
<!-- lubridate::parse_date_time(Meses, orders = "d-b-y", locale = "pt-BR") -->
<p>ver - <a href="https://rstudio-pubs-static.s3.amazonaws.com/286177_ecf4fb7fd5b0405982fc5b3d2b590305.html">Manipulação de Dados Podemos trabalhar com outros formatos de datas</a></p>
</div>
</div>
</div>
<div id="a-suíte-de-pacotes-tidyverse" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> A suíte de pacotes <code>tidyverse</code></h2>
<div class="infobox obra">
<p><em>EM CONSTRUÇÃO</em></p>
</div>
<p>O tidyverse é uma suíte de pacotes bastante úteis e de uso mais fácil que os pacotes tradicionais do R.</p>
<div class="infobox note">
<p><strong>Dicas</strong></p>
<p>O artigo do Hadley Wickham, o criador da ideia, explicando a “filosofia” dos dados “tidy”.
&gt; Hadley Wickham. <a href="https://vita.had.co.nz/papers/tidy-data.pdf">Tidy Data</a>. Journal of Statistical Software</p>
</div>
<p>Para instalar a suíte de pacotes tidyverse</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="introdução-ao-r.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(tidyverse)</span></code></pre></div>
<p>O <code>tidyverse</code> conta com diversos pacotes e estão sempre aumentando.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introdução-ao-r.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb26-2"><a href="introdução-ao-r.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="do">## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</span></span>
<span id="cb26-3"><a href="introdução-ao-r.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="do">## ✓ ggplot2 3.3.3     ✓ purrr   0.3.4</span></span>
<span id="cb26-4"><a href="introdução-ao-r.html#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="do">## ✓ tibble  3.1.2     ✓ dplyr   1.0.6</span></span>
<span id="cb26-5"><a href="introdução-ao-r.html#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="do">## ✓ tidyr   1.1.3     ✓ stringr 1.4.0</span></span>
<span id="cb26-6"><a href="introdução-ao-r.html#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="do">## ✓ readr   1.4.0     ✓ forcats 0.5.1</span></span>
<span id="cb26-7"><a href="introdução-ao-r.html#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="do">## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span id="cb26-8"><a href="introdução-ao-r.html#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="do">## x ggplot2::annotate()      masks NLP::annotate()</span></span>
<span id="cb26-9"><a href="introdução-ao-r.html#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="do">## x lubridate::as.difftime() masks base::as.difftime()</span></span>
<span id="cb26-10"><a href="introdução-ao-r.html#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="do">## x lubridate::date()        masks base::date()</span></span>
<span id="cb26-11"><a href="introdução-ao-r.html#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="do">## x dplyr::filter()          masks stats::filter()</span></span>
<span id="cb26-12"><a href="introdução-ao-r.html#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="do">## x lubridate::intersect()   masks base::intersect()</span></span>
<span id="cb26-13"><a href="introdução-ao-r.html#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="do">## x dplyr::lag()             masks stats::lag()</span></span>
<span id="cb26-14"><a href="introdução-ao-r.html#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="do">## x lubridate::setdiff()     masks base::setdiff()</span></span>
<span id="cb26-15"><a href="introdução-ao-r.html#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="do">## x lubridate::union()       masks base::union()</span></span>
<span id="cb26-16"><a href="introdução-ao-r.html#cb26-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-17"><a href="introdução-ao-r.html#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co"># vendo os pacotes disponíveis no tidyverse:</span></span>
<span id="cb26-18"><a href="introdução-ao-r.html#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="fu">tidyverse_packages</span>()</span>
<span id="cb26-19"><a href="introdução-ao-r.html#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;broom&quot;         &quot;cli&quot;           &quot;crayon&quot;        &quot;dbplyr&quot;       </span></span>
<span id="cb26-20"><a href="introdução-ao-r.html#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;dplyr&quot;         &quot;dtplyr&quot;        &quot;forcats&quot;       &quot;googledrive&quot;  </span></span>
<span id="cb26-21"><a href="introdução-ao-r.html#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;googlesheets4&quot; &quot;ggplot2&quot;       &quot;haven&quot;         &quot;hms&quot;          </span></span>
<span id="cb26-22"><a href="introdução-ao-r.html#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] &quot;httr&quot;          &quot;jsonlite&quot;      &quot;lubridate&quot;     &quot;magrittr&quot;     </span></span>
<span id="cb26-23"><a href="introdução-ao-r.html#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] &quot;modelr&quot;        &quot;pillar&quot;        &quot;purrr&quot;         &quot;readr&quot;        </span></span>
<span id="cb26-24"><a href="introdução-ao-r.html#cb26-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] &quot;readxl&quot;        &quot;reprex&quot;        &quot;rlang&quot;         &quot;rstudioapi&quot;   </span></span>
<span id="cb26-25"><a href="introdução-ao-r.html#cb26-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] &quot;rvest&quot;         &quot;stringr&quot;       &quot;tibble&quot;        &quot;tidyr&quot;        </span></span>
<span id="cb26-26"><a href="introdução-ao-r.html#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] &quot;xml2&quot;          &quot;tidyverse&quot;</span></span></code></pre></div>
<div class="figure">
<img src="https://miro.medium.com/max/576/1*ckRqx4kCTUd--c9vZ1lc9Q.png" alt="" />
<p class="caption">O ecossistema tidyverse</p>
</div>
<p>Tidyverse ecosystem picture (author: Silvia Canelón, PhD. Original link)</p>
<p><img src="https://i0.wp.com/github.com/Joziani/Tidyverse/raw/master/imagens/pacotes.png" alt="Os que fazem os pacotes da suíte tidyverse" />
<!-- https://operdata.com.br/blog/tidyverse-os-pacotes-mais-usados-no-r/ --></p>
<p>Para nós, destes pacotes, os mais interessantes são:</p>
<table>
<thead>
<tr class="header">
<th>Pacote tidyverse</th>
<th>descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://readr.tidyverse.org/">readr</a></td>
<td>Lê dados retangulares (de tabelas) como csv, tsv e fwf</td>
</tr>
<tr class="even">
<td><a href="https://rvest.tidyverse.org/">rvest</a></td>
<td>usado para minerar dados na web de modo fácil</td>
</tr>
<tr class="odd">
<td><a href="https://tibble.tidyverse.org/">tibble</a></td>
<td></td>
</tr>
<tr class="even">
<td><a href="https://ggplot2.tidyverse.org/">ggplot2</a></td>
<td>Famoso pacote de geração de gráficos</td>
</tr>
<tr class="odd">
<td><a href="https://dplyr.tidyverse.org/">dplyr</a></td>
<td>Para manipulação facilitada de dados</td>
</tr>
<tr class="even">
<td><a href="https://stringr.tidyverse.org/">stringr</a></td>
<td>Usado na manipução de strings</td>
</tr>
<tr class="odd">
<td><a href="https://lubridate.tidyverse.org/">libridate</a></td>
<td>Para lidar com data e hora</td>
</tr>
</tbody>
</table>
<!-- |[tidyr](https://tidyr.tidyverse.org/)|Usado para cirar dados tipo tidy| -->
<!-- |forcats|| -->
<!-- |purrr|| -->
<div id="pipes" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Pipes</h3>
<!-- https://www.datacamp.com/community/tutorials/pipe-r-tutorial -->
<p>Quando aplicamos uma série de funções em série, o modo tradicional é de fazê-lo é colocando funções dentro de outras funções, as “nested functions”, por exemplo:</p>
<p><code>função3(função2(função1)))</code></p>
<p><img src="imagens/meme_function-function-function.jpg" style="width:50.0%" alt="Representação metafórica de funções dentro de outras funções" />
Repare que a ordem das funções é invertida, o que pode tornar bem trabahosa a tarefa de descobrir a ordem das funções.
Mas podemos fazer o mesmo de um modo mais fácil e bem mais inteligível, usando pipes do pacote <a href="https://www.rdocumentation.org/packages/magrittr/versions/2.0.1"><code>magritrr</code></a> do tidyverse. Para carregá-lo, basta carregar qualquer um dos pacotes do tidyverse, como stringr ou dplyr.</p>
<p>Com ele, ao invés das funções dentro de funções do exemplo anterior, é possível ordenar os comandos intercalados com pipes de um modo mais intuitivo</p>
<p><code>função1() %&gt;% função2() %&gt;% função3()</code></p>
<p>Caso não haja parâmetros dentro dos parênteses, pode-se retirar os parênteses.</p>
<p><code>função1 %&gt;% função2 %&gt;% função3</code></p>
<p>Caso, a função exija mais de um parâmetro, deve-se indicar o local onde o nome do dataframe/vetor, etc com um ponto final.</p>
<p><code>função1() %&gt;% função2(., parametroQualquer = True)</code></p>
<p>Há ainda outros pipes, mas neste caso, o pacote <code>magrittr</code> deve ser carregado explicitamente.
como o <code>%$%</code>. <code>data.frame %$% coluna</code> que equivale a <code>data.frame$coluna</code>.</p>
<!-- The compound assignment operator `%<>%` -->
<!-- magrittr package's  -->
<!-- `%$%` -->
<!-- `text_data_frame %$% polarity(text_column_name)` -->
<!-- polarity_object <- text_data_frame %$%  -->
<!--   polarity(text_column_name, grouping_column_name) -->
<!-- , “equivalent” is not technically exact: evaluation is non-standard -->
<!-- |Operador|Descrição|Exemplo| -->
<!-- |---|---|---| -->
<!-- |`%>%`|pipe|x %>% f is equivalent to `f(x)`. `x %>% f(y)` is equivalent to `f(x, y)`| -->
<!-- |`%<>%`|assignment pipe|| -->
<!-- |`%$%`|Exposition pipe|| -->
<!-- |`%T>%`|tee pipe|| -->
</div>
<div id="tibbles" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Tibbles</h3>
<p>O “Tibble” é um modo de chamar objetos da classe “tbl_df”, um tipo de data-frame.
O tibble, ao ser chamado, mostra apenas as 10 primeiras linhas, ao invés do datafrae inteiro, o que é bem útil quando temos tabelas que não sejam minúsculas.
Além disso, um tibble não força caracteres para fatores, que é o modo como lidamos com strings ao fazermos a análise textual.
<!-- <https://www.tidytextmining.com/tidytext.html?q=tibble#the-unnest_tokens-function> A tibble, which is a colloquial term for an object of class tbl_df. --></p>
<!-- A tibble, or tbl_df, is a modern reimagining of the data.frame, keeping what time has proven to be effective, and throwing out what is not. -->
<!-- Tibbles are data.frames that are lazy and surly: they do less (i.e. they don't change variable names or types, and don't do partial matching) and complain more (e.g. when a variable does not exist). -->
<!-- This forces you to confront problems earlier, typically leading to cleaner, more expressive code. -->
<!-- Tibbles also have an enhanced print() method which makes them easier to use with large datasets containing complex objects. -->
<!-- [Build a data frame](https://tibble.tidyverse.org/reference/tibble.html) -->
<!-- -   Character vectors are not coerced to factor. -->
<!-- -   List-columns are expressly anticipated and do not require special tricks. -->
<!-- -   Column names are not modified. -->
<!-- -   Inner names in columns are left unchanged. -->
<!-- never changes the type of the inputs (e.g. it never converts strings to factors!), it never changes the names of variables -->
<!-- <https://tibble.tidyverse.org/articles/tibble.html> There are three key differences between tibbles and data frames: printing, subsetting, and recycling rules. -->
<!-- ![](http://www.sthda.com/sthda/RDoc/images/tibble-data-format-tbl_df.png) -->
<p>Vamos criar um tibble com os dados que usamos no <a href="introdução-ao-r.html#dataframes">dataframe</a>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="introdução-ao-r.html#cb27-1" aria-hidden="true" tabindex="-1"></a>idade <span class="ot">&lt;-</span>  <span class="fu">as.integer</span>(<span class="fu">c</span>(<span class="dv">12</span>,<span class="dv">23</span>,<span class="dv">35</span>, <span class="dv">22</span>, <span class="dv">73</span>)) </span>
<span id="cb27-2"><a href="introdução-ao-r.html#cb27-2" aria-hidden="true" tabindex="-1"></a>genero <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">&quot;fem&quot;</span>, <span class="st">&quot;mas&quot;</span>, <span class="st">&quot;fem&quot;</span>, <span class="st">&quot;fem&quot;</span>, <span class="st">&quot;mas&quot;</span>)) </span>
<span id="cb27-3"><a href="introdução-ao-r.html#cb27-3" aria-hidden="true" tabindex="-1"></a>raca <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">&quot;preto&quot;</span>, <span class="st">&quot;branco&quot;</span>, <span class="st">&quot;pardo&quot;</span>, <span class="st">&quot;pardo&quot;</span>, <span class="st">&quot;branco&quot;</span>)) </span>
<span id="cb27-4"><a href="introdução-ao-r.html#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="introdução-ao-r.html#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># cria-se tibble com a função &#39;tibble()&#39;</span></span>
<span id="cb27-6"><a href="introdução-ao-r.html#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Deve-se explicitar o (nome_da_coluna = nome_da_variável,</span></span>
<span id="cb27-7"><a href="introdução-ao-r.html#cb27-7" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">idade =</span> idade,</span>
<span id="cb27-8"><a href="introdução-ao-r.html#cb27-8" aria-hidden="true" tabindex="-1"></a>                  <span class="co">#  Não esqueça de colocar vírgula ao final destas linhas</span></span>
<span id="cb27-9"><a href="introdução-ao-r.html#cb27-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">genero =</span> genero,</span>
<span id="cb27-10"><a href="introdução-ao-r.html#cb27-10" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># a ultima liha não leva vírgula</span></span>
<span id="cb27-11"><a href="introdução-ao-r.html#cb27-11" aria-hidden="true" tabindex="-1"></a>                       <span class="at">raca =</span> raca)</span>
<span id="cb27-12"><a href="introdução-ao-r.html#cb27-12" aria-hidden="true" tabindex="-1"></a>MeuTibble</span>
<span id="cb27-13"><a href="introdução-ao-r.html#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 x 3</span></span>
<span id="cb27-14"><a href="introdução-ao-r.html#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca  </span></span>
<span id="cb27-15"><a href="introdução-ao-r.html#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb27-16"><a href="introdução-ao-r.html#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem    preto </span></span>
<span id="cb27-17"><a href="introdução-ao-r.html#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23 mas    branco</span></span>
<span id="cb27-18"><a href="introdução-ao-r.html#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35 fem    pardo </span></span>
<span id="cb27-19"><a href="introdução-ao-r.html#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22 fem    pardo </span></span>
<span id="cb27-20"><a href="introdução-ao-r.html#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73 mas    branco</span></span>
<span id="cb27-21"><a href="introdução-ao-r.html#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="co"># mostrando apenas uma coluna</span></span>
<span id="cb27-22"><a href="introdução-ao-r.html#cb27-22" aria-hidden="true" tabindex="-1"></a>MeuTibble<span class="sc">$</span>genero</span>
<span id="cb27-23"><a href="introdução-ao-r.html#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;fem&quot; &quot;mas&quot; &quot;fem&quot; &quot;fem&quot; &quot;mas&quot;</span></span></code></pre></div>
<div id="tibble-verbos-ou-comandos" class="section level4" number="4.5.2.1">
<h4><span class="header-section-number">4.5.2.1</span> Tibble: Verbos (ou comandos)</h4>
<p>Dplyr tem vários verbos ou comandos:</p>
<ul>
<li>Manipulando linhas
<ul>
<li><a href="https://dplyr.tidyverse.org/reference/filter.html"><code>filter()</code></a> filtra linhas com base nos valores das colunas.</li>
<li><a href="https://dplyr.tidyverse.org/reference/slice.html"><code>slice()</code></a> escolhe linhas com base na localização.</li>
<li><a href="https://dplyr.tidyverse.org/reference/arrange.html"><code>arrange()</code></a> muda a ordem das linhas. Pode ser combinada com <code>desc()</code> para inverter a ordem.</li>
</ul></li>
<li>Colunas:
<ul>
<li><a href="https://dplyr.tidyverse.org/reference/select.html"><code>select()</code></a> seleciona/filtra variáveis/colunas. Para inverter a seleção, usar <code>select(!Variavel)</code>
<!-- changes whether or not a column is included. --></li>
<li><a href="https://dplyr.tidyverse.org/reference/rename.html"><code>rename()</code></a> muda o nome das colunas.</li>
<li><a href="https://dplyr.tidyverse.org/reference/mutate.html"><code>mutate()</code></a> muda os valores de colunas e pode também criar novas colunas (útil para criar nova coluna com base em uma já existente).</li>
<li><a href="https://dplyr.tidyverse.org/reference/relocate.html"><code>relocate()</code></a> muda a ordem das colunas.</li>
</ul></li>
<li>Grupo de linhas:
<ul>
<li><a href="https://dplyr.tidyverse.org/reference/summarise.html"><code>summarise()</code></a> colapsa um grupo de linhas em uma linha única, sendo combinada com outros comandos</li>
<li><a href="https://dplyr.tidyverse.org/reference/group_by.html"><code>group_by()</code></a> junta linhas de mesmo valor (bom para usar com fatores). Deve ser usado em conjunto com outros comandos. (Esta é uma função genérica, isto é, provê implementação de outros pacotes)</li>
</ul></li>
</ul>
<p>Fonte: Baseado parcialmente em <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html">Introduction to dplyr</a></p>
<p>Vejamos exemplos destes comandos.</p>
<p>Comando filter()</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introdução-ao-r.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando um valor específico de uma coluna</span></span>
<span id="cb28-2"><a href="introdução-ao-r.html#cb28-2" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="introdução-ao-r.html#cb28-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(genero <span class="sc">==</span> <span class="st">&quot;fem&quot;</span>)</span>
<span id="cb28-4"><a href="introdução-ao-r.html#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 3 x 3</span></span>
<span id="cb28-5"><a href="introdução-ao-r.html#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca </span></span>
<span id="cb28-6"><a href="introdução-ao-r.html#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;</span></span>
<span id="cb28-7"><a href="introdução-ao-r.html#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem    preto</span></span>
<span id="cb28-8"><a href="introdução-ao-r.html#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 fem    pardo</span></span>
<span id="cb28-9"><a href="introdução-ao-r.html#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    22 fem    pardo</span></span>
<span id="cb28-10"><a href="introdução-ao-r.html#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="introdução-ao-r.html#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrando por valores de duas colunas</span></span>
<span id="cb28-12"><a href="introdução-ao-r.html#cb28-12" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb28-13"><a href="introdução-ao-r.html#cb28-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(genero <span class="sc">==</span> <span class="st">&quot;fem&quot;</span>, raca <span class="sc">==</span> <span class="st">&quot;pardo&quot;</span>)</span>
<span id="cb28-14"><a href="introdução-ao-r.html#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 2 x 3</span></span>
<span id="cb28-15"><a href="introdução-ao-r.html#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca </span></span>
<span id="cb28-16"><a href="introdução-ao-r.html#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;</span></span>
<span id="cb28-17"><a href="introdução-ao-r.html#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    35 fem    pardo</span></span>
<span id="cb28-18"><a href="introdução-ao-r.html#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    22 fem    pardo</span></span></code></pre></div>
<p>Comando arrange()</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introdução-ao-r.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordenando por valores de coluna</span></span>
<span id="cb29-2"><a href="introdução-ao-r.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(MeuTibble, idade)</span>
<span id="cb29-3"><a href="introdução-ao-r.html#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 x 3</span></span>
<span id="cb29-4"><a href="introdução-ao-r.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca  </span></span>
<span id="cb29-5"><a href="introdução-ao-r.html#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb29-6"><a href="introdução-ao-r.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem    preto </span></span>
<span id="cb29-7"><a href="introdução-ao-r.html#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    22 fem    pardo </span></span>
<span id="cb29-8"><a href="introdução-ao-r.html#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    23 mas    branco</span></span>
<span id="cb29-9"><a href="introdução-ao-r.html#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    35 fem    pardo </span></span>
<span id="cb29-10"><a href="introdução-ao-r.html#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73 mas    branco</span></span>
<span id="cb29-11"><a href="introdução-ao-r.html#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Invertendo a ordenção</span></span>
<span id="cb29-12"><a href="introdução-ao-r.html#cb29-12" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(idade))</span>
<span id="cb29-13"><a href="introdução-ao-r.html#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 x 3</span></span>
<span id="cb29-14"><a href="introdução-ao-r.html#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero raca  </span></span>
<span id="cb29-15"><a href="introdução-ao-r.html#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb29-16"><a href="introdução-ao-r.html#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    73 mas    branco</span></span>
<span id="cb29-17"><a href="introdução-ao-r.html#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    35 fem    pardo </span></span>
<span id="cb29-18"><a href="introdução-ao-r.html#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    23 mas    branco</span></span>
<span id="cb29-19"><a href="introdução-ao-r.html#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22 fem    pardo </span></span>
<span id="cb29-20"><a href="introdução-ao-r.html#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    12 fem    preto</span></span></code></pre></div>
<p>Comando <code>select()</code>. Restringindo as colunas/variáveis.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="introdução-ao-r.html#cb30-1" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="introdução-ao-r.html#cb30-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(genero)</span>
<span id="cb30-3"><a href="introdução-ao-r.html#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 x 1</span></span>
<span id="cb30-4"><a href="introdução-ao-r.html#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero</span></span>
<span id="cb30-5"><a href="introdução-ao-r.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt; </span></span>
<span id="cb30-6"><a href="introdução-ao-r.html#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 fem   </span></span>
<span id="cb30-7"><a href="introdução-ao-r.html#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 mas   </span></span>
<span id="cb30-8"><a href="introdução-ao-r.html#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 fem   </span></span>
<span id="cb30-9"><a href="introdução-ao-r.html#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 fem   </span></span>
<span id="cb30-10"><a href="introdução-ao-r.html#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 mas</span></span>
<span id="cb30-11"><a href="introdução-ao-r.html#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co"># todas colunas, exceto a genero</span></span>
<span id="cb30-12"><a href="introdução-ao-r.html#cb30-12" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb30-13"><a href="introdução-ao-r.html#cb30-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(<span class="sc">!</span>genero)</span>
<span id="cb30-14"><a href="introdução-ao-r.html#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 x 2</span></span>
<span id="cb30-15"><a href="introdução-ao-r.html#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade raca  </span></span>
<span id="cb30-16"><a href="introdução-ao-r.html#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt; </span></span>
<span id="cb30-17"><a href="introdução-ao-r.html#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 preto </span></span>
<span id="cb30-18"><a href="introdução-ao-r.html#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23 branco</span></span>
<span id="cb30-19"><a href="introdução-ao-r.html#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35 pardo </span></span>
<span id="cb30-20"><a href="introdução-ao-r.html#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22 pardo </span></span>
<span id="cb30-21"><a href="introdução-ao-r.html#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73 branco</span></span></code></pre></div>
<p>Comando <code>rename(novo_nome = nome_antigos)</code></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="introdução-ao-r.html#cb31-1" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="introdução-ao-r.html#cb31-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">rename</span>(<span class="at">genero_bin =</span> genero)</span>
<span id="cb31-3"><a href="introdução-ao-r.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 x 3</span></span>
<span id="cb31-4"><a href="introdução-ao-r.html#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   idade genero_bin raca  </span></span>
<span id="cb31-5"><a href="introdução-ao-r.html#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; </span></span>
<span id="cb31-6"><a href="introdução-ao-r.html#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    12 fem        preto </span></span>
<span id="cb31-7"><a href="introdução-ao-r.html#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2    23 mas        branco</span></span>
<span id="cb31-8"><a href="introdução-ao-r.html#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3    35 fem        pardo </span></span>
<span id="cb31-9"><a href="introdução-ao-r.html#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    22 fem        pardo </span></span>
<span id="cb31-10"><a href="introdução-ao-r.html#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    73 mas        branco</span></span></code></pre></div>
<p>Comando <code>mutate(NomeVariavel = função())</code> modifica e cria novas colunas/variáveis. Pode ser usado em conjunto com outros cálculos</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="introdução-ao-r.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criando variável expectativa de vida</span></span>
<span id="cb32-2"><a href="introdução-ao-r.html#cb32-2" aria-hidden="true" tabindex="-1"></a>expectativa_vida <span class="ot">=</span> <span class="dv">70</span></span>
<span id="cb32-3"><a href="introdução-ao-r.html#cb32-3" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="introdução-ao-r.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genero, idade) <span class="sc">%&gt;%</span></span>
<span id="cb32-5"><a href="introdução-ao-r.html#cb32-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">ExpecVida =</span> expectativa_vida <span class="sc">-</span> idade)</span>
<span id="cb32-6"><a href="introdução-ao-r.html#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 x 3</span></span>
<span id="cb32-7"><a href="introdução-ao-r.html#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero idade ExpecVida</span></span>
<span id="cb32-8"><a href="introdução-ao-r.html#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb32-9"><a href="introdução-ao-r.html#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 fem       12        58</span></span>
<span id="cb32-10"><a href="introdução-ao-r.html#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 mas       23        47</span></span>
<span id="cb32-11"><a href="introdução-ao-r.html#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 fem       35        35</span></span>
<span id="cb32-12"><a href="introdução-ao-r.html#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 fem       22        48</span></span>
<span id="cb32-13"><a href="introdução-ao-r.html#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 mas       73        -3</span></span></code></pre></div>
<p>Comando <code>summarise()</code>
Cria um novo data frame. Pode ser usado com funções como <code>mean()</code>, <code>median()</code>, dentre outras.
Sua sintaxe é <code>summarize(novo_nome_summary = funcao_summary)</code></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="introdução-ao-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># verificando a média de idade</span></span>
<span id="cb33-2"><a href="introdução-ao-r.html#cb33-2" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="introdução-ao-r.html#cb33-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="fu">mean</span>(idade))</span>
<span id="cb33-4"><a href="introdução-ao-r.html#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 1 x 1</span></span>
<span id="cb33-5"><a href="introdução-ao-r.html#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   `mean(idade)`</span></span>
<span id="cb33-6"><a href="introdução-ao-r.html#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="do">##           &lt;dbl&gt;</span></span>
<span id="cb33-7"><a href="introdução-ao-r.html#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1            33</span></span></code></pre></div>
<p>O comando summarise se torna mais útil em conjunto com o comando <code>group_by()</code> e</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="introdução-ao-r.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Media de idade por genero</span></span>
<span id="cb34-2"><a href="introdução-ao-r.html#cb34-2" aria-hidden="true" tabindex="-1"></a>MeuTibble <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="introdução-ao-r.html#cb34-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(genero) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="introdução-ao-r.html#cb34-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">media =</span> <span class="fu">mean</span>(idade))</span>
<span id="cb34-5"><a href="introdução-ao-r.html#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 2 x 2</span></span>
<span id="cb34-6"><a href="introdução-ao-r.html#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   genero media</span></span>
<span id="cb34-7"><a href="introdução-ao-r.html#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;  &lt;dbl&gt;</span></span>
<span id="cb34-8"><a href="introdução-ao-r.html#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 fem       23</span></span>
<span id="cb34-9"><a href="introdução-ao-r.html#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 mas       48</span></span></code></pre></div>
<p>Pode-se adicionar novas linhas com <code>join()</code>.
<!-- union() --></p>
<p>Pode-se retirar linhas com <code>anti_join()</code>. Este comando pode ser útil para retirar <a href="#stopwords">stopwords</a> <code>anti_join(stop_words)</code></p>
<p>```</p>
<!-- # mudando valores de celulas a partir de padrão -->
<!-- library(dplyr) -->
<!-- library(stringr) -->
<!-- df %>%  -->
<!--   mutate(var1 = str_replace(var1, " ", "")) -->
<table>
<thead>
<tr class="header">
<th>comando</th>
<th>descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>bind_rows()</code></td>
<td>junta dois tibbles, permitindo linhas duplicadas</td>
</tr>
<tr class="even">
<td><code>union(df1,df2)</code></td>
<td>Junta tibbles, mas apenas os que forem novos.</td>
</tr>
</tbody>
</table>
<div class="infobox note">
<p><strong>Dicas: Tibble</strong></p>
<p>Uma boa introdução aos tibbles (em inglês) temos no capítulo <a href="https://r4ds.had.co.nz/tibbles.html">10.Tibbles</a> do livro “R for Data Science” de Wichham e Grolemund.</p>
</div>
</div>
</div>
<div id="lubridate-facilitando-manipulação-de-datas" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Lubridate: facilitando manipulação de datas</h3>
<p>Com o <code>Lubridate</code> é bem fácil manipular datas, ou mesmo alterar fuso horário.</p>
<p><a href="https://www.rdocumentation.org/packages/lubridate/versions/1.7.10">Documentarion Lubridate</a> <a href="http://material.curso-r.com/lubridate/">Tutorial do Lubridate em português do Curso-R</a></p>
<p><a href="https://www.youtube.com/watch?v=BYXFMdUx5C4">Como trabalhar com Data e Hora na linguagem R</a> <!-- ver wokflow --> <!-- https://escoladedados.org/tutoriais/tidy-data-dados-arrumados-e-5-problemas-comuns/ --></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="estrutura-de-dados-e-tipos-de-formatos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="normalização-de-texto-e-expressões-regulares.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
