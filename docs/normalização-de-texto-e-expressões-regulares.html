<!DOCTYPE html>
<html lang="pt-br" xml:lang="pt-br">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Normalização de texto e Expressões Regulares | Introdução à Análise Textual aplicada à Sociologia</title>
  <meta name="description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Normalização de texto e Expressões Regulares | Introdução à Análise Textual aplicada à Sociologia" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Normalização de texto e Expressões Regulares | Introdução à Análise Textual aplicada à Sociologia" />
  
  <meta name="twitter:description" content="Este é um manual em progresso destinado à análise textual aplicada às ciências sociais, priorizando materiais gratuitos e de código aberto." />
  

<meta name="author" content="Alisson Soares" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introdução-ao-r.html"/>
<link rel="next" href="dataviz.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.9/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Análise Textual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Objetivos deste manual</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#plano-do-livro"><i class="fa fa-check"></i>Plano do livro</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i>Introdução</a>
<ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#HD"><i class="fa fa-check"></i>O termo “humanidade digitais”</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#fluxo-de-trabalho"><i class="fa fa-check"></i>Fluxo de trabalho</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html"><i class="fa fa-check"></i><b>1</b> História da Análise Textual</a>
<ul>
<li class="chapter" data-level="1.1" data-path="história-da-análise-textual.html"><a href="história-da-análise-textual.html#linha-do-tempo-da-história-da-análise-textual"><i class="fa fa-check"></i><b>1.1</b> Linha do tempo da história da Análise Textual</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html"><i class="fa fa-check"></i><b>2</b> Exemplos de Pesquisas em Humanidades Digitais</a>
<ul>
<li class="chapter" data-level="2.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#bibliometria-cientometria-cienciometria"><i class="fa fa-check"></i><b>2.1</b> Bibliometria / cientometria / cienciometria</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-filósofos-da-ciência-na-sociologia"><i class="fa fa-check"></i><b>2.1.1</b> Exemplo: Filósofos da ciência na Sociologia</a></li>
<li class="chapter" data-level="2.1.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-a-teoria-dos-sistemas-sociais-de-niklas-luhmann"><i class="fa fa-check"></i><b>2.1.2</b> Exemplo: A teoria dos sistemas sociais de Niklas Luhmann</a></li>
<li class="chapter" data-level="2.1.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendência-de-termos-chave-da-sociologia"><i class="fa fa-check"></i><b>2.1.3</b> Exemplo: Tendência de termos chave da Sociologia</a></li>
<li class="chapter" data-level="2.1.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-tendências-das-correntes-na-filosofia"><i class="fa fa-check"></i><b>2.1.4</b> Exemplo: Tendências das correntes na filosofia</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exGoogleTrends"><i class="fa fa-check"></i><b>2.2</b> Exemplo: Google Trends como Proxy para epidemias</a></li>
<li class="chapter" data-level="2.3" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#ExFakesNewsMundo"><i class="fa fa-check"></i><b>2.3</b> Exemplo: Como as fake news sobre a pandemia de Covid-19 se assemelham/divergem entre os países?</a></li>
<li class="chapter" data-level="2.4" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-mudança-de-significado-de-palavras"><i class="fa fa-check"></i><b>2.4</b> Exemplo: Mudança de significado de palavras</a></li>
<li class="chapter" data-level="2.5" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-análise-de-complexidade-musical"><i class="fa fa-check"></i><b>2.5</b> Exemplo: Análise de complexidade musical</a></li>
<li class="chapter" data-level="2.6" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-polarização"><i class="fa fa-check"></i><b>2.6</b> Exemplo: Polarização</a></li>
<li class="chapter" data-level="2.7" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-complementando-dados-qualitativos"><i class="fa fa-check"></i><b>2.7</b> Exemplo de integração quali-quanti: Complementando dados qualitativos</a></li>
<li class="chapter" data-level="2.8" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-de-integração-quali-quanti-depurando-dados-quantitativos"><i class="fa fa-check"></i><b>2.8</b> Exemplo de integração quali-quanti: Depurando dados quantitativos</a></li>
<li class="chapter" data-level="2.9" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#exemplo-processo-civilizador"><i class="fa fa-check"></i><b>2.9</b> Exemplo: Processo Civilizador</a></li>
<li class="chapter" data-level="2.10" data-path="exemplos-de-pesquisas-em-humanidades-digitais.html"><a href="exemplos-de-pesquisas-em-humanidades-digitais.html#ex.-determinantes-sociais-do-florescimento-da-cultura-incel"><i class="fa fa-check"></i><b>2.10</b> Ex.: Determinantes sociais do florescimento da cultura Incel</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html"><i class="fa fa-check"></i><b>3</b> Estrutura de dados e tipos de formatos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-estruturados"><i class="fa fa-check"></i><b>3.1</b> Dados estruturados</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#csv"><i class="fa fa-check"></i><b>3.1.1</b> Os formatos csv (<em>comma separeted values</em>) e tsv.</a></li>
<li class="chapter" data-level="3.1.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoJson"><i class="fa fa-check"></i><b>3.1.2</b> O formato Json</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-não-estruturados"><i class="fa fa-check"></i><b>3.2</b> Dados não estruturados</a></li>
<li class="chapter" data-level="3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#dados-semi-estruturados"><i class="fa fa-check"></i><b>3.3</b> Dados semi-estruturados</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#exemplos-de-dados-semi-estruturados"><i class="fa fa-check"></i><b>3.3.1</b> Exemplos de dados semi-estruturados</a></li>
<li class="chapter" data-level="3.3.2" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoMarkdown"><i class="fa fa-check"></i><b>3.3.2</b> O formato Markdown</a></li>
<li class="chapter" data-level="3.3.3" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoYaml"><i class="fa fa-check"></i><b>3.3.3</b> O formato YAML</a></li>
<li class="chapter" data-level="3.3.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoLatex"><i class="fa fa-check"></i><b>3.3.4</b> O Formato LaTex</a></li>
<li class="chapter" data-level="3.3.5" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatoBibtex"><i class="fa fa-check"></i><b>3.3.5</b> O formato BibTex</a></li>
<li class="chapter" data-level="3.3.6" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatosXmlHtml"><i class="fa fa-check"></i><b>3.3.6</b> Os formatos xml e html</a></li>
<li class="chapter" data-level="3.3.7" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#formatos-mais-raros"><i class="fa fa-check"></i><b>3.3.7</b> Formatos mais raros</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="estrutura-de-dados-e-tipos-de-formatos.html"><a href="estrutura-de-dados-e-tipos-de-formatos.html#observações-finais"><i class="fa fa-check"></i><b>3.4</b> Observações finais</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html"><i class="fa fa-check"></i><b>4</b> Noções básicas de programação em R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#scaping"><i class="fa fa-check"></i><b>4.1</b> Sequências de scaping</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#coment"><i class="fa fa-check"></i><b>4.1.1</b> Comentando o código</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#variavel"><i class="fa fa-check"></i><b>4.2</b> Variável e atribuição</a></li>
<li class="chapter" data-level="4.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#funções-no-r"><i class="fa fa-check"></i><b>4.3</b> Funções no R</a></li>
<li class="chapter" data-level="4.4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#condicionais-seentão-ifelse"><i class="fa fa-check"></i><b>4.4</b> Condicionais: se/então, If/else</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#else"><i class="fa fa-check"></i><b>4.4.1</b> Else</a></li>
<li class="chapter" data-level="4.4.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#else-if"><i class="fa fa-check"></i><b>4.4.2</b> else if</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores"><i class="fa fa-check"></i><b>4.5</b> Operadores</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores-de-atribuição-assignment"><i class="fa fa-check"></i><b>4.5.1</b> Operadores de atribuição (assignment)</a></li>
<li class="chapter" data-level="4.5.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores-aritiméticos"><i class="fa fa-check"></i><b>4.5.2</b> Operadores Aritiméticos</a></li>
<li class="chapter" data-level="4.5.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_relacionais"><i class="fa fa-check"></i><b>4.5.3</b> Operadores relacionais</a></li>
<li class="chapter" data-level="4.5.4" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_booleanos"><i class="fa fa-check"></i><b>4.5.4</b> Operadores booleanos</a></li>
<li class="chapter" data-level="4.5.5" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#operadores_outros"><i class="fa fa-check"></i><b>4.5.5</b> Outros operadores</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#loops-repetições"><i class="fa fa-check"></i><b>4.6</b> Loops, repetições</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#for-loops"><i class="fa fa-check"></i><b>4.6.1</b> For Loops</a></li>
<li class="chapter" data-level="4.6.2" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#while-loop"><i class="fa fa-check"></i><b>4.6.2</b> While loop</a></li>
<li class="chapter" data-level="4.6.3" data-path="noções-básicas-de-programação-em-r.html"><a href="noções-básicas-de-programação-em-r.html#apply-lapply-sapply-tapply-e-mapply"><i class="fa fa-check"></i><b>4.6.3</b> apply (lapply, sapply, tapply e mapply)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html"><i class="fa fa-check"></i><b>5</b> Introdução ao R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#obtendo-ajuda-no-r"><i class="fa fa-check"></i><b>5.1</b> Obtendo Ajuda no R</a></li>
<li class="chapter" data-level="5.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#rcommander"><i class="fa fa-check"></i><b>5.2</b> R em modo gráfico: RKWard e RCommander</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#nvim-r"><i class="fa fa-check"></i><b>5.2.1</b> NVIM-R</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataTypes"><i class="fa fa-check"></i><b>5.3</b> Tipos de Dados no R (data types)</a></li>
<li class="chapter" data-level="5.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#estrutura-de-dados-no-r-data-structures"><i class="fa fa-check"></i><b>5.4</b> Estrutura de dados no R (Data Structures)</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#vectors"><i class="fa fa-check"></i><b>5.4.1</b> Vetor (<em>vector</em>)</a></li>
<li class="chapter" data-level="5.4.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#fatores"><i class="fa fa-check"></i><b>5.4.2</b> Fator (<em>Factor</em>)</a></li>
<li class="chapter" data-level="5.4.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#matrix"><i class="fa fa-check"></i><b>5.4.3</b> Matriz (Matrix)</a></li>
<li class="chapter" data-level="5.4.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tm-dtm"><i class="fa fa-check"></i><b>5.4.4</b> Gerando um DTM com o pacote TM</a></li>
<li class="chapter" data-level="5.4.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tidytext-dtm"><i class="fa fa-check"></i><b>5.4.5</b> Gerando DTM com o pacote Tidytext</a></li>
<li class="chapter" data-level="5.4.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lista"><i class="fa fa-check"></i><b>5.4.6</b> Listas (<em>list</em>)</a></li>
<li class="chapter" data-level="5.4.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dataframes"><i class="fa fa-check"></i><b>5.4.7</b> Data Frames</a></li>
<li class="chapter" data-level="5.4.8" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#fuzzySearch"><i class="fa fa-check"></i><b>5.4.8</b> Busca difusa (<em>fuzzy search</em>)</a></li>
<li class="chapter" data-level="5.4.9" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#considerações-finais-sobre-estrutura-de-dados"><i class="fa fa-check"></i><b>5.4.9</b> Considerações finais sobre estrutura de dados</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#instalandopacotes"><i class="fa fa-check"></i><b>5.5</b> Instalando pacotes no R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#modo-1-instalando-via-linha-de-comando"><i class="fa fa-check"></i><b>5.5.1</b> Modo 1: instalando via linha de comando</a></li>
<li class="chapter" data-level="5.5.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#modo-2-instalando-pacotes-no-modo-gráfico"><i class="fa fa-check"></i><b>5.5.2</b> Modo 2: Instalando pacotes no modo gráfico</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tidyverse"><i class="fa fa-check"></i><b>5.6</b> A suíte de pacotes <code>tidyverse</code></a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#pipes"><i class="fa fa-check"></i><b>5.6.1</b> Pipes</a></li>
<li class="chapter" data-level="5.6.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#tibbles"><i class="fa fa-check"></i><b>5.6.2</b> Tibbles</a></li>
<li class="chapter" data-level="5.6.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#dplyr"><i class="fa fa-check"></i><b>5.6.3</b> Dplyr: Verbos (ou comandos)</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#RDataHora"><i class="fa fa-check"></i><b>5.7</b> Manipulando data e hora</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#gerando-uma-sequencia-de-datas-no-r"><i class="fa fa-check"></i><b>5.7.1</b> Gerando uma sequencia de datas no R</a></li>
<li class="chapter" data-level="5.7.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#lubridate"><i class="fa fa-check"></i><b>5.7.2</b> Lubridate: facilitando manipulação de datas</a></li>
<li class="chapter" data-level="5.7.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#converter-data-em-nome-por-extenso-do-mês"><i class="fa fa-check"></i><b>5.7.3</b> Converter data em nome por extenso do mês</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#links-e-dicas"><i class="fa fa-check"></i><b>5.8</b> Links e Dicas</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html"><i class="fa fa-check"></i><b>6</b> Normalização de texto e Expressões Regulares</a>
<ul>
<li class="chapter" data-level="6.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#regex"><i class="fa fa-check"></i><b>6.1</b> Expressões regulares (RegEx)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#parâmetros-das-regex"><i class="fa fa-check"></i><b>6.1.1</b> Parâmetros das Regex</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#regex-no-r"><i class="fa fa-check"></i><b>6.2</b> RegEx no R</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#grep"><i class="fa fa-check"></i><b>6.2.1</b> Grep</a></li>
<li class="chapter" data-level="6.2.2" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#gsub"><i class="fa fa-check"></i><b>6.2.2</b> gsub()</a></li>
<li class="chapter" data-level="6.2.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exercício-qual-o-qualis-de-certas-revistas-quais-revistas-possuem-certo-qualis"><i class="fa fa-check"></i><b>6.2.3</b> Exercício: Qual o Qualis de certas revistas? Quais revistas possuem certo Qualis?</a></li>
<li class="chapter" data-level="6.2.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#transformando-strings-em-vetores-com-strsplit"><i class="fa fa-check"></i><b>6.2.4</b> Transformando strings em vetores com <code>strsplit()</code></a></li>
<li class="chapter" data-level="6.2.5" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#exemplo-regex"><i class="fa fa-check"></i><b>6.2.5</b> Exemplo regex</a></li>
<li class="chapter" data-level="6.2.6" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#lookaround-lookadead-e-lookbehind"><i class="fa fa-check"></i><b>6.2.6</b> Lookaround lookadead e lookbehind</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#stringr"><i class="fa fa-check"></i><b>6.3</b> Pacote stringr</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#normalização-com-stringr"><i class="fa fa-check"></i><b>6.3.1</b> Normalização com stringr</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="normalização-de-texto-e-expressões-regulares.html"><a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões-regex-no-r"><i class="fa fa-check"></i><b>6.4</b> Dicas/Sugestões: Regex no R</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>7</b> Visualização de dados <em>dataviz</em></a>
<ul>
<li class="chapter" data-level="7.1" data-path="dataviz.html"><a href="dataviz.html#baseplots"><i class="fa fa-check"></i><b>7.1</b> Base plots</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="dataviz.html"><a href="dataviz.html#hist"><i class="fa fa-check"></i><b>7.1.1</b> Histograma (<em>histogram</em>) no pacote base</a></li>
<li class="chapter" data-level="7.1.2" data-path="dataviz.html"><a href="dataviz.html#barplot"><i class="fa fa-check"></i><b>7.1.2</b> Gráfico de barras (<em>barplot</em>)</a></li>
<li class="chapter" data-level="7.1.3" data-path="dataviz.html"><a href="dataviz.html#piechart"><i class="fa fa-check"></i><b>7.1.3</b> Gráfico de Pizza (<em>pie chart</em>)</a></li>
<li class="chapter" data-level="7.1.4" data-path="dataviz.html"><a href="dataviz.html#scatterplot"><i class="fa fa-check"></i><b>7.1.4</b> Gráfico de dispersão (<em>scatterplot</em>)</a></li>
<li class="chapter" data-level="7.1.5" data-path="dataviz.html"><a href="dataviz.html#lineplot"><i class="fa fa-check"></i><b>7.1.5</b> Gráfico de linha (<em>line plot</em>)</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="dataviz.html"><a href="dataviz.html#cores"><i class="fa fa-check"></i><b>7.2</b> Cores</a></li>
<li class="chapter" data-level="7.3" data-path="dataviz.html"><a href="dataviz.html#o-pacote-lattice"><i class="fa fa-check"></i><b>7.3</b> O pacote Lattice</a></li>
<li class="chapter" data-level="7.4" data-path="dataviz.html"><a href="dataviz.html#ggplot2"><i class="fa fa-check"></i><b>7.4</b> O pacote ggplot2</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-aes"><i class="fa fa-check"></i><b>7.4.1</b> ggplot: nível aes</a></li>
<li class="chapter" data-level="7.4.2" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-geom"><i class="fa fa-check"></i><b>7.4.2</b> ggplot: Nível geom</a></li>
<li class="chapter" data-level="7.4.3" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-facet_"><i class="fa fa-check"></i><b>7.4.3</b> ggplot: nível facet_</a></li>
<li class="chapter" data-level="7.4.4" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-stat"><i class="fa fa-check"></i><b>7.4.4</b> ggplot: nível stat</a></li>
<li class="chapter" data-level="7.4.5" data-path="dataviz.html"><a href="dataviz.html#ggplot-nível-sistema-de-coordenadas"><i class="fa fa-check"></i><b>7.4.5</b> ggplot: nível sistema de coordenadas</a></li>
<li class="chapter" data-level="7.4.6" data-path="dataviz.html"><a href="dataviz.html#cores-no-ggplot"><i class="fa fa-check"></i><b>7.4.6</b> Cores no ggplot</a></li>
<li class="chapter" data-level="7.4.7" data-path="dataviz.html"><a href="dataviz.html#dicas-ggplot"><i class="fa fa-check"></i><b>7.4.7</b> Dicas ggplot</a></li>
<li class="chapter" data-level="7.4.8" data-path="dataviz.html"><a href="dataviz.html#dicas-outros-pacotes-gráficos"><i class="fa fa-check"></i><b>7.4.8</b> Dicas outros pacotes gráficos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html"><i class="fa fa-check"></i><b>8</b> Análise Textual (<em>text mining</em>)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#introdução"><i class="fa fa-check"></i><b>8.1</b> Introdução</a></li>
<li class="chapter" data-level="8.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagens-saco-de-palavras-bag-of-words-e-análise-semântica-semantic-parsing"><i class="fa fa-check"></i><b>8.2</b> Abordagens: saco de palavras (<em>bag of words</em>) e análise semântica (<em>semantic parsing</em>)</a></li>
<li class="chapter" data-level="8.3" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#abordagem-bag-of-words"><i class="fa fa-check"></i><b>8.3</b> Abordagem <em>Bag of words</em></a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#frequência-de-palavrastermos-e-ngrams"><i class="fa fa-check"></i><b>8.3.1</b> Frequência de palavras/termos e Ngrams</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stopwords"><i class="fa fa-check"></i><b>8.4</b> Remoção de palavra vazia (<em>stopwords</em>)</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#criando-lista-com-stopwords"><i class="fa fa-check"></i><b>8.4.1</b> Criando lista com stopwords</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#estemização-stemming-e-lematização"><i class="fa fa-check"></i><b>8.5</b> Estemização (<em>stemming</em>) e lematização</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#stemming"><i class="fa fa-check"></i><b>8.5.1</b> Estemização</a></li>
<li class="chapter" data-level="8.5.2" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#lemma"><i class="fa fa-check"></i><b>8.5.2</b> Lematização</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#wordcloud"><i class="fa fa-check"></i><b>8.6</b> Nuvem de palavras</a></li>
<li class="chapter" data-level="8.7" data-path="análise-textual-text-mining.html"><a href="análise-textual-text-mining.html#kwic"><i class="fa fa-check"></i><b>8.7</b> Palavras em contexto (<em>keyword-in-context KWIC</em>)</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html"><i class="fa fa-check"></i><b>9</b> Text mining: Semantic Parsing</a>
<ul>
<li class="chapter" data-level="9.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#pos---part-of-speech-tagging"><i class="fa fa-check"></i><b>9.1</b> POS - Part-of-speech tagging</a></li>
<li class="chapter" data-level="9.2" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#udpipe"><i class="fa fa-check"></i><b>9.2</b> Pacote UDPipe</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#coocorrência-de-palavras"><i class="fa fa-check"></i><b>9.2.1</b> Coocorrência de palavras</a></li>
<li class="chapter" data-level="9.2.2" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#rede-de-palavras-wordnet"><i class="fa fa-check"></i><b>9.2.2</b> Rede de palavras (<em>wordnet</em>)</a></li>
<li class="chapter" data-level="9.2.3" data-path="text-mining-semantic-parsing.html"><a href="text-mining-semantic-parsing.html#análise-de-semelhanças"><i class="fa fa-check"></i><b>9.2.3</b> Análise de semelhanças</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="sentiment.html"><a href="sentiment.html"><i class="fa fa-check"></i><b>10</b> Classificação: Dicionários e Análise de Sentimentos</a>
<ul>
<li class="chapter" data-level="10.1" data-path="sentiment.html"><a href="sentiment.html#classificacao"><i class="fa fa-check"></i><b>10.1</b> Classificação</a></li>
<li class="chapter" data-level="10.2" data-path="sentiment.html"><a href="sentiment.html#sentiment-analysis"><i class="fa fa-check"></i><b>10.2</b> Análise de sentimentos (<em>Sentiment Analysis</em>) por meio de dicionário/léxico</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="sentiment.html"><a href="sentiment.html#datasets-de-sentimentosemoções"><i class="fa fa-check"></i><b>10.2.1</b> Datasets de sentimentos/emoções</a></li>
<li class="chapter" data-level="10.2.2" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis"><i class="fa fa-check"></i><b>10.2.2</b> Pacote SentimentAnalysis</a></li>
<li class="chapter" data-level="10.2.3" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-Tidytext"><i class="fa fa-check"></i><b>10.2.3</b> Pacote Tidytext</a></li>
<li class="chapter" data-level="10.2.4" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-Quanteda"><i class="fa fa-check"></i><b>10.2.4</b> Pacote Quanteda</a></li>
<li class="chapter" data-level="10.2.5" data-path="sentiment.html"><a href="sentiment.html#SentimentAnalysis-syuzhet"><i class="fa fa-check"></i><b>10.2.5</b> Pacote syuzhet</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="sentiment.html"><a href="sentiment.html#dicas-finais-bibliografia-indicada"><i class="fa fa-check"></i><b>10.3</b> Dicas finais: Bibliografia indicada</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html"><i class="fa fa-check"></i><b>11</b> Análise de Redes Sociais</a>
<ul>
<li class="chapter" data-level="11.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#o-pacote-igraph"><i class="fa fa-check"></i><b>11.1</b> O pacote Igraph</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#clusterização"><i class="fa fa-check"></i><b>11.1.1</b> Clusterização</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#os-pacotes-ggraph-e-tidygraph-.-construindo-grafos-com-o-tidyverse."><i class="fa fa-check"></i><b>11.2</b> Os pacotes <code>ggraph</code> e <code>tidygraph</code> . Construindo grafos com o <code>tidyverse</code>.</a></li>
<li class="chapter" data-level="11.3" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-palavras"><i class="fa fa-check"></i><b>11.3</b> Redes de palavras</a></li>
<li class="chapter" data-level="11.4" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#redes-de-citação"><i class="fa fa-check"></i><b>11.4</b> Redes de citação</a></li>
<li class="chapter" data-level="11.5" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#gráfico-de-centralidade"><i class="fa fa-check"></i><b>11.5</b> Gráfico de centralidade</a></li>
<li class="chapter" data-level="11.6" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#comunidades"><i class="fa fa-check"></i><b>11.6</b> Comunidades</a></li>
<li class="chapter" data-level="11.7" data-path="análise-de-redes-sociais.html"><a href="análise-de-redes-sociais.html#SugestaoLinksredes"><i class="fa fa-check"></i><b>11.7</b> Sugestões de links</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="KE.html"><a href="KE.html"><i class="fa fa-check"></i><b>12</b> Extração de palavras-chave - <em>Key term</em> ou <em>keyword extraction</em></a>
<ul>
<li class="chapter" data-level="12.1" data-path="KE.html"><a href="KE.html#keywordassignment"><i class="fa fa-check"></i><b>12.1</b> Atribuição de palavra chave <em>Keyword assignment</em></a></li>
<li class="chapter" data-level="12.2" data-path="KE.html"><a href="KE.html#keywordextraction"><i class="fa fa-check"></i><b>12.2</b> Key term ou keyword extraction</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="KE.html"><a href="KE.html#tf-idf"><i class="fa fa-check"></i><b>12.2.1</b> TF-IDF: Term-Frequency Inverse Document Frequency</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="KE.html"><a href="KE.html#coocorrencia"><i class="fa fa-check"></i><b>12.3</b> Colocação e Coocorrência</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="KE.html"><a href="KE.html#colocação-com-o-quanteda"><i class="fa fa-check"></i><b>12.3.1</b> Colocação com o Quanteda</a></li>
<li class="chapter" data-level="12.3.2" data-path="KE.html"><a href="KE.html#colocação-com-udpipe"><i class="fa fa-check"></i><b>12.3.2</b> Colocação com Udpipe</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="links-úteis.html"><a href="links-úteis.html"><i class="fa fa-check"></i><b>13</b> Links úteis</a>
<ul>
<li class="chapter" data-level="13.1" data-path="links-úteis.html"><a href="links-úteis.html#humanidades-digitais"><i class="fa fa-check"></i><b>13.1</b> Humanidades digitais</a></li>
<li class="chapter" data-level="13.2" data-path="links-úteis.html"><a href="links-úteis.html#análise-de-redes-sociais-1"><i class="fa fa-check"></i><b>13.2</b> Análise de redes sociais</a></li>
<li class="chapter" data-level="13.3" data-path="links-úteis.html"><a href="links-úteis.html#textos-sobre-análise-textual"><i class="fa fa-check"></i><b>13.3</b> Textos sobre análise textual</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="links-úteis.html"><a href="links-úteis.html#sociologia-digital-ciências-sociais-computacionais"><i class="fa fa-check"></i><b>13.3.1</b> Sociologia Digital / Ciências Sociais Computacionais</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="links-úteis.html"><a href="links-úteis.html#processamento-linguagem-natural-pln-ou-nlp"><i class="fa fa-check"></i><b>13.4</b> Processamento Linguagem Natural (PLN ou NLP)</a></li>
<li class="chapter" data-level="13.5" data-path="links-úteis.html"><a href="links-úteis.html#revistas-journals-acadêmicos"><i class="fa fa-check"></i><b>13.5</b> Revistas / Journals acadêmicos</a></li>
<li class="chapter" data-level="13.6" data-path="links-úteis.html"><a href="links-úteis.html#dados-abertos"><i class="fa fa-check"></i><b>13.6</b> Dados Abertos</a></li>
<li class="chapter" data-level="13.7" data-path="links-úteis.html"><a href="links-úteis.html#vídeos"><i class="fa fa-check"></i><b>13.7</b> Vídeos</a></li>
<li class="chapter" data-level="13.8" data-path="links-úteis.html"><a href="links-úteis.html#sites-blogs"><i class="fa fa-check"></i><b>13.8</b> Sites / Blogs</a></li>
<li class="chapter" data-level="13.9" data-path="links-úteis.html"><a href="links-úteis.html#organizações"><i class="fa fa-check"></i><b>13.9</b> Organizações</a></li>
<li class="chapter" data-level="13.10" data-path="links-úteis.html"><a href="links-úteis.html#estatística"><i class="fa fa-check"></i><b>13.10</b> Estatística</a></li>
<li class="chapter" data-level="13.11" data-path="links-úteis.html"><a href="links-úteis.html#podcasts"><i class="fa fa-check"></i><b>13.11</b> Podcasts</a></li>
<li class="chapter" data-level="13.12" data-path="links-úteis.html"><a href="links-úteis.html#links-programação"><i class="fa fa-check"></i><b>13.12</b> Links Programação</a>
<ul>
<li class="chapter" data-level="13.12.1" data-path="links-úteis.html"><a href="links-úteis.html#r-introdução"><i class="fa fa-check"></i><b>13.12.1</b> R introdução</a></li>
<li class="chapter" data-level="13.12.2" data-path="links-úteis.html"><a href="links-úteis.html#r-e-estatística"><i class="fa fa-check"></i><b>13.12.2</b> R e estatística</a></li>
<li class="chapter" data-level="13.12.3" data-path="links-úteis.html"><a href="links-úteis.html#r---tópicos-específicos"><i class="fa fa-check"></i><b>13.12.3</b> R - tópicos específicos</a></li>
<li class="chapter" data-level="13.12.4" data-path="links-úteis.html"><a href="links-úteis.html#r---avançado"><i class="fa fa-check"></i><b>13.12.4</b> R - avançado</a></li>
<li class="chapter" data-level="13.12.5" data-path="links-úteis.html"><a href="links-úteis.html#links-python"><i class="fa fa-check"></i><b>13.12.5</b> Links Python</a></li>
<li class="chapter" data-level="13.12.6" data-path="links-úteis.html"><a href="links-úteis.html#python---tópicos-específicos"><i class="fa fa-check"></i><b>13.12.6</b> Python - tópicos específicos</a></li>
</ul></li>
<li class="chapter" data-level="13.13" data-path="links-úteis.html"><a href="links-úteis.html#links-de-cursos-online"><i class="fa fa-check"></i><b>13.13</b> Links de Cursos Online</a></li>
<li class="chapter" data-level="13.14" data-path="links-úteis.html"><a href="links-úteis.html#grupos-de-discussãoforum"><i class="fa fa-check"></i><b>13.14</b> Grupos de discussão/Forum</a>
<ul>
<li class="chapter" data-level="13.14.1" data-path="links-úteis.html"><a href="links-úteis.html#telegram"><i class="fa fa-check"></i><b>13.14.1</b> Telegram</a></li>
</ul></li>
<li class="chapter" data-level="13.15" data-path="links-úteis.html"><a href="links-úteis.html#links-de-folhas-de-dicas-cheat-sheets"><i class="fa fa-check"></i><b>13.15</b> Links de folhas de dicas (<em>Cheat-sheets</em>)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="excpi.html"><a href="excpi.html"><i class="fa fa-check"></i><b>14</b> Apêndice: Exemplo Análise - CPI da Pandemia</a>
<ul>
<li class="chapter" data-level="14.1" data-path="excpi.html"><a href="excpi.html#introdução-1"><i class="fa fa-check"></i><b>14.1</b> Introdução</a></li>
<li class="chapter" data-level="14.2" data-path="excpi.html"><a href="excpi.html#pré-processamento"><i class="fa fa-check"></i><b>14.2</b> Pré-processamento</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="excpi.html"><a href="excpi.html#pré-processamento-substituição-de-abreviaturas"><i class="fa fa-check"></i><b>14.2.1</b> Pré-processamento: substituição de abreviaturas</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="excpi.html"><a href="excpi.html#primeiras-observações"><i class="fa fa-check"></i><b>14.3</b> Primeiras observações</a></li>
<li class="chapter" data-level="14.4" data-path="excpi.html"><a href="excpi.html#entes"><i class="fa fa-check"></i><b>14.4</b> Entes</a></li>
<li class="chapter" data-level="14.5" data-path="excpi.html"><a href="excpi.html#palavras-chave-em-contexto---kwic"><i class="fa fa-check"></i><b>14.5</b> Palavras chave em contexto - KWIC</a></li>
<li class="chapter" data-level="14.6" data-path="excpi.html"><a href="excpi.html#opção-1-separando-apenas-os-senadores"><i class="fa fa-check"></i><b>14.6</b> Opção 1: Separando apenas os senadores</a></li>
<li class="chapter" data-level="14.7" data-path="excpi.html"><a href="excpi.html#opção-2-somente-senadores-a-partir-do-site-do-senado"><i class="fa fa-check"></i><b>14.7</b> Opção 2: Somente senadores, a partir do site do Senado</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="excpi.html"><a href="excpi.html#exCpi_wordcloud"><i class="fa fa-check"></i><b>14.7.1</b> Frequência e <em>wordcloud</em> (Nuvem de palavras)</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="excpi.html"><a href="excpi.html#nuvem-de-palavras-comparativa-wordcloud-comparision"><i class="fa fa-check"></i><b>14.8</b> Nuvem de palavras comparativa <em>Wordcloud comparision</em></a></li>
<li class="chapter" data-level="14.9" data-path="excpi.html"><a href="excpi.html#extração-de-palavras-chave-keywords---colocação-collocation"><i class="fa fa-check"></i><b>14.9</b> Extração de palavras chave Keywords - colocação (<em>collocation</em>)</a></li>
<li class="chapter" data-level="14.10" data-path="excpi.html"><a href="excpi.html#tf-idf-dos-senadores"><i class="fa fa-check"></i><b>14.10</b> TF-IDF dos Senadores</a></li>
<li class="chapter" data-level="14.11" data-path="excpi.html"><a href="excpi.html#dicionário"><i class="fa fa-check"></i><b>14.11</b> Dicionário</a></li>
<li class="chapter" data-level="14.12" data-path="excpi.html"><a href="excpi.html#exCpi_coocorrencia"><i class="fa fa-check"></i><b>14.12</b> Análise de coocorrência</a></li>
<li class="chapter" data-level="14.13" data-path="excpi.html"><a href="excpi.html#modelagem-de-tópicos"><i class="fa fa-check"></i><b>14.13</b> Modelagem de tópicos</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="datasets.html"><a href="datasets.html"><i class="fa fa-check"></i><b>15</b> Apêndice: Datasets</a>
<ul>
<li class="chapter" data-level="15.1" data-path="datasets.html"><a href="datasets.html#pacotes-r-com-datasets"><i class="fa fa-check"></i><b>15.1</b> Pacotes R com datasets</a></li>
<li class="chapter" data-level="15.2" data-path="datasets.html"><a href="datasets.html#datasets-em-sites-diversos"><i class="fa fa-check"></i><b>15.2</b> Datasets em sites diversos:</a></li>
<li class="chapter" data-level="15.3" data-path="datasets.html"><a href="datasets.html#datasets-no-kaggle"><i class="fa fa-check"></i><b>15.3</b> Datasets no <span>Kaggle</span>:</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Análise Textual aplicada à Sociologia</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="normalização-de-texto-e-expressões-regulares" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Normalização de texto e Expressões Regulares<a href="normalização-de-texto-e-expressões-regulares.html#normalização-de-texto-e-expressões-regulares" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="infobox objetivo">
<p>Objetivos deste capítulo:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li>Apresentar as expressões regulares (regex)</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li>Apresentar comandos regex no R</li>
</ol></li>
</ul>
</div>
<p>A <em>normalização de texto</em> consiste em converter texto para formatos mais padronizados, e
expressões regulares, ou “regex” são uma ferramenta importante neste processo.
A normalização de texto, a limpeza dos dados, sua reestruturação no formato necessário pode tomar a maior parte do tempo em um projeto.</p>
<p>Vamos partir de um problema inicial.
Quem quiser saber sobre uso de remédios como azitromicina, ivermectina e cloroquina em pacientes com “síndrome respiratória aguda grave”, podemos baixar a tabela csv do <a href="https://opendatasus.saude.gov.br/dataset/bd-srag-2020">opendatasus</a> e olhar a coluna “OUT_ANTIV”. Lá vemos que não há padronização, os dados estão bagunçados (ou “messy data”). Por exemplo, “azitromicina” foi escrita também como “azitronicina”,“az” “azt”, “azitro”, isto é, além de abreviações diferentes, há erros de ortografia. Em casos assim, expressões regulares podem ajudar a normalizar este campo, isto é, deixando tudo num mesmo padrão.
<!-- https://twitter.com/Capyvara/status/1405639077333016578/photo/1 "FIOCRUX","COROVAC","EV FORD","PFIZAER","OKFORD","SARCOV" --></p>
<p>Esta parte de limpeza, padronização, também chamada de <em>cleaning</em> e <em>data wrangling</em> (algo como “manipulação de dados”) consome boa parte do tempo</p>
<blockquote>
<p>“É dito, frequentemente, que 80% da análise de dados é gasto no processo de limpeza e preparação dos dados. A preparação dos dados é não só o primeiro passo, como deve ser repetido tantas vezes no curso da análise na medida que novos problemas aparecem ou novos dados são coletados.”</p>
</blockquote>
<blockquote>
<p><em>It is often said that 80% of data analysis is spent on the process of cleaning and preparing the data</em> (Dasu and Johnson 2003). Data preparation is not just a first step, but must be repeated many times over the course of analysis as new problems come to light or new datais collected.
fonte: WICKHAM, Hadley. <a href="https://www.jstatsoft.org/article/view/v059i10/v59i10.pdf">Tidy Data. Journal of Statistical Software. August 2014, Volume 59, Issue 10</a></p>
</blockquote>
<p>Apesar desse número “80%” parecer ser ficcioso, ou que varie conforme as condições e destreza do pesquisador (<a href="https://blog.ldodds.com/2020/01/31/do-data-scientists-spend-80-of-their-time-cleaning-data-turns-out-no/">veja aqui</a>), não deixa de ser uma verdade que grande parte do tempo é gasto neste processo e processo de arrumar e rearrumar os dados.</p>
<div id="regex" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Expressões regulares (RegEx)<a href="normalização-de-texto-e-expressões-regulares.html#regex" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Certa vez Jamie Zawinski fez uma piada sobre regex que se tornou bastante conhecida ao se mencioar regex:</p>
<blockquote>
<p>Algumas pessoas, ao se defrontarem com um problema, pensam “Acho que vou usar expressões regulares”. Agora elas tem dois problemas.</p>
</blockquote>
<p>Talvez um pouco exagerada a piada, expressões regulares podem ser um pouco difíceis no início, mas depois que se aprende, fica difícil viver sem elas.
Em editores de texto como Microsoft Word, OpenOffice, LibreOffice, GoogleDocs etc.
é possível buscar por trechos de texto idênticos, é possível tornar a busca sensível a termos em maiúsculo e minúsculo. A busca utilizando regex permite isto e muito mais.</p>
<div class="figure">
<img src="imagens/regex_LibreOffice.png" style="width:70.0%" alt="" />
<p class="caption">Busca e subtituição com regex no Libre Office Calc</p>
</div>
<div class="figure">
<img src="imagens/regex_Rstudio.png" alt="" />
<p class="caption">Busca e subtituição com regex no Rstudio em Edit/Replace Find</p>
</div>
<p>Regex trata-se de uma ferramenta coringa na hora de limpar ou transformar texto, estando presente nas mais diversas linguagens de programação, com sintaxe mais ou menos comum a todas elas.
As expressões regulares (<em>regular expressions</em>), ou RegEx, RegExp, etc., mas mais conhecidas como regex, trata-se de busca e substituição avançada usando não só o texto exato, mas usando <em>padrões de texto</em>.
Perguntas das expressões regulares:</p>
<ul>
<li><em>O quê?</em> Números? Letras? Letras minúsculas ou maiúsculas? Palavras? Símbolos ou caracteres específicos? Quebras de linha? Tabulação?</li>
<li><em>Quantas vezes?</em> Um vez? Uma ou nenhuma? Uma ou várias vezes? Uma quantidade específica? Em regex chama-se isso de <strong>quantificadores</strong>.</li>
<li><em>Onde?</em> Antes ou de depois do quê? No início ou no fim da sentença? Em regex isso chama-se <strong>âncora</strong>.</li>
</ul>
<p>É possível delimitar a busca por letras específicas, por escopo de letras e/ou números, pode-se especificar a quantidade de caracteres, tirar ou acrescentar quebra de linha, acrescentar/retirar algo no início ou fim da linha.</p>
<p>As regras do Regex são padronizadas em diversas linguagens de programação, apesar de algumas peculiaridades em cada uma, há uma gramática comum. Assim, aprendendo em uma linguagem, você aprendeu em outras.s</p>
<!-- ### Exemplo simples de uso do regex -->
<p>Supondo que queira ter uma ferramenta simples de consulta do Qualis de revistas da área de sociologia.
Baixando o relatório qualis capes de sociologia <a href="https://www.capes.gov.br/images/Relatorio_qualis_periodicos_referencia_2019/Relatorio_qualis_sociologia.pdf">neste link</a> é possível filtrar com base no nome ou na avaliação.</p>
<p>Com regex podemos transformar uma tabela em csv</p>
<pre><code>Estado;sigla;capital;região;
Acre;AC;Rio Branco;Norte;
Alagoas;AL;Maceió;Nordeste;
Amapá;AP;Macapá;Norte;
Amazonas;AM;Manaus;Norte;
Bahia;BA;Salvador;Nordeste;
Ceará;CE;Fortaleza;Nordeste;</code></pre>
<p>para o formato de tabela em markdwon</p>
<pre><code>|Estado | sigla | capital| região|
|------|----|-----|-----|
|Acre |AC |Rio Branco |Norte|
|Alagoas |AL |Maceió |Nordeste|
|Amapá |AP |Macapá |Norte|
|Amazonas |AM |Manaus |Norte|
|Bahia |BA |Salvador |Nordeste|</code></pre>
<p>Com regex é possível fazer transformações, por exemplo, como pegar datas como “20/03/2020” ,“13/01/1990” ,“04/06/2001”, que estão no formado <code>dd/mm/aaaa</code> (dia/mês/ano) e mudá-las para outra disposição, como <code>aaaa-mm-dd</code> (ano/mês/dia), passando para “2020-03-20”, “1990-01-13”, “2001-06-04”.</p>
<p>Há uma <a href="introdução-ao-r.html#RDataHora">sessão nesse manual dedicada a manipulação de datas</a>, com pacotes específicos.
<!-- |Original |Converter para| -->
<!-- |------|------| -->
<!-- |20/03/2020| "2020-03-20"| -->
<!-- |13/01/1990| "1990-01-13"| -->
<!-- |04/06/2001|"2001-06-04"| --></p>
<p>Vejamos os parâmetros que usamos com regex</p>
<div id="parâmetros-das-regex" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Parâmetros das Regex<a href="normalização-de-texto-e-expressões-regulares.html#parâmetros-das-regex" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="metacaracteres-especiais" class="section level4 hasAnchor" number="6.1.1.1">
<h4><span class="header-section-number">6.1.1.1</span> Metacaracteres especiais<a href="normalização-de-texto-e-expressões-regulares.html#metacaracteres-especiais" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Alguns caracteres tem significado especial</p>
<ul>
<li><code>\n</code> usado para quebra de linha, ou “newline”.</li>
<li><code>\t</code> caractere de tabulação.</li>
<li><code>\\</code> para usar a própria barra</li>
<li><code>\r</code> retorno de carro ou “carriage return”, que move o cursor para a próxima linha, mas sem aparecer em seu início. De uso no Windows.</li>
<li><code>\v</code> tab vertical</li>
<li><code>\f</code> form feed</li>
</ul>
<p>Destes, os mais comuns são o <code>\n</code>, <code>\t</code>, <code>\\</code> e por vezes o <code>\r</code>.</p>
<!-- Mas ATENÇÂO: No R, usamos duas barras para a sequência escape. Assim,  -->
</div>
<div id="âncoras" class="section level4 hasAnchor" number="6.1.1.2">
<h4><span class="header-section-number">6.1.1.2</span> Âncoras<a href="normalização-de-texto-e-expressões-regulares.html#âncoras" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<thead>
<tr class="header">
<th>símbolo</th>
<th>descrição</th>
<th>exemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>\^a</code></td>
<td>Início da string</td>
<td><code>^a</code> busca “<u>a</u>aa aaa”</td>
</tr>
<tr class="even">
<td><code>a$</code></td>
<td>Fim da string</td>
<td><code>a$</code> busca “aaaa aa<u>a</u>”</td>
</tr>
<tr class="odd">
<td><code>\b</code></td>
<td>limite de palavra</td>
<td><code>\b[A-Za-z]\b</code></td>
</tr>
<tr class="even">
<td><code>\B</code></td>
<td>NÃO limite de palavra</td>
<td></td>
</tr>
<tr class="odd">
<td><code>\\&lt;</code></td>
<td>Início de uma palavra</td>
<td></td>
</tr>
<tr class="even">
<td><code>\\&gt;</code></td>
<td>Fim de uma palavra</td>
<td></td>
</tr>
</tbody>
</table>
<div class="figure">
<img src="imagens/regex_googleDrive.png" style="width:50.0%" alt="" />
<p class="caption">Exemplo de substituição com regex no Google Docs: acrescentou-se “Disse:” no início das células demarcadas</p>
</div>
</div>
<div id="operadores-1" class="section level4 hasAnchor" number="6.1.1.3">
<h4><span class="header-section-number">6.1.1.3</span> Operadores<a href="normalização-de-texto-e-expressões-regulares.html#operadores-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<colgroup>
<col width="36%" />
<col width="36%" />
<col width="27%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Descrição</th>
<th>Exemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>.</code></td>
<td>Pega um caractere único, qualquer um.</td>
<td>Dado <code>aba, abc, asa</code>, a busca por <code>ab.</code> retorna <code>aba, abc</code>. A busca de <code>a..</code> retorna <code>aba, asa</code></td>
</tr>
<tr class="even">
<td><code>[..]</code></td>
<td>Lista de caracteres, podendo usar a barra <code>-</code> para definir um escopo.</td>
<td>Dado <code>abcdefgh</code> a busca por <code>[a-d]</code>, retorna <code>abcd</code></td>
</tr>
<tr class="odd">
<td><code>[^..]</code></td>
<td>Inversão do caso anterior. Pega todos os elementos, exceto os especificados ali</td>
<td>Dado <code>abcdefgh</code> a busca por <code>[^a-d]</code>, retorna <code>efgh</code>.</td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>Operador booleano do tipo “ou”.</td>
<td>Dado <code>"bananada, bananeira, bandolim"</code>, a busca utilizando <code>"eira|dol"</code>, retorna <code>"bananeira, bandolim"</code></td>
</tr>
<tr class="odd">
<td><code>(...)</code></td>
<td>Agrupamento. É bastante usado com “backreference”</td>
<td>Dado <code>"banana, bananada, bananeira"</code>, a busca utilizando <code>"banan(ada|eira)"</code>, retorna <code>"bananada, bananeira"</code></td>
</tr>
</tbody>
</table>
<p>Podemos usar os colchetes <code>[]</code> para pegarmos um escopo. Se usamos <code>[a-f]</code>, então nossa expressão pega qualquer coisa que contenha a,b,c,d,e, ou f, em minúscula. Assim, se quisermos pegar todas as letras minúsculas, usamos <code>[a-z]</code>, se quisermos pegar todas as maiúsculas e minúsculas, usamos <code>[A-Za-z]</code>. Mas atenção, desta forma não detectamos caracteres acentuados, como “à”, “ç”, “ã”, etc. Para isso, acrescentamos <code>à-ÿ</code> que pega o escopo de caracteres acentuados.</p>
</div>
<div id="quantificadores" class="section level4 hasAnchor" number="6.1.1.4">
<h4><span class="header-section-number">6.1.1.4</span> Quantificadores<a href="normalização-de-texto-e-expressões-regulares.html#quantificadores" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Os quantificadores especificam quantas vezes o padrão anterior é repetido</p>
<table>
<colgroup>
<col width="38%" />
<col width="30%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th>símbolo</th>
<th>explicação</th>
<th>exemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>*</td>
<td>busca o item anterior zero ou mais vezes</td>
<td></td>
</tr>
<tr class="even">
<td>+</td>
<td>busca o item anterior uma ou mais vezes</td>
<td></td>
</tr>
<tr class="odd">
<td>?</td>
<td>o item anterior é opcional, e pode aparecer no máximo uma vez.</td>
<td>O padrão <code>bananas?</code> encontra “<u>banana</u>” “<u>banana</u>s” “<u>banana</u>l” “<u>banana</u>da”</td>
</tr>
<tr class="even">
<td>{n}</td>
<td>busca o item anterior exatamente n vezes</td>
<td></td>
</tr>
<tr class="odd">
<td>{n,}</td>
<td>busca o item anterior n vezes ou mais</td>
<td></td>
</tr>
<tr class="even">
<td>{n,m}</td>
<td>busca o item anterior com no mínimo n vezes e com no máximo m vezes. (Faz sentido usálo com delimitadores como <code>\b</code>)</td>
<td><code>no_vec &lt;- c("no", "nono", "nonono", "nononono", "nonato")</code> <code>grep("(no){2,3}", no_vec, value=TRUE)</code> <code>[1] "nono"     "nonono"   "nononono"</code></td>
</tr>
</tbody>
</table>
<p>Os quantificadores podem ser combinados. Por exemplo:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb90-1" aria-hidden="true" tabindex="-1"></a>texto <span class="ot">&lt;-</span> <span class="st">&quot;O SR. PRESIDENTE (Omar Aziz. PSD - AM. Fala da Presidência.) – Os Srs. Senadores que as aprovam permaneçam como se encontram. (Pausa.)&quot;</span></span></code></pre></div>
<p>Possui dois textos entre parênteses. Assim se usarmos:
<!-- gsub('.*(\\(.*\\)).*','\\1' , texto) --></p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb91-1" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_extract</span>(texto, <span class="st">&#39;</span><span class="sc">\\</span><span class="st">(.*</span><span class="sc">\\</span><span class="st">)&#39;</span>) </span>
<span id="cb91-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;(Omar Aziz. PSD - AM. Fala da Presidência.) – Os Srs. Senadores que as aprovam permaneçam como se encontram. (Pausa.)&quot;</span></span></code></pre></div>
<p>Pegamos o texto desde o primeiro parêntese até o último. Isto acontece por o símbolo de asterisco <code>*</code> ser “greedy” (voraz, guloso, segundo a terminologia de regex). Precisamos torná-lo “lazy” (preguiçoso) se quisermos pegar apenas o primeiro caso. O fazemos com a sequência de quantificadores <code>*?</code>
<!-- gsub('.*(\\(.*?\\)).*','\\1' , texto) --></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb92-1" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_extract</span>(texto, <span class="st">&#39;</span><span class="sc">\\</span><span class="st">(.*?</span><span class="sc">\\</span><span class="st">)&#39;</span>) </span>
<span id="cb92-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;(Omar Aziz. PSD - AM. Fala da Presidência.)&quot;</span></span></code></pre></div>
<p><strong>Exemplos:</strong></p>
<!--
banana_vec <- c("banana", "bananas", "bananal", "bananando", "bananada", "bananeira", "bandolim") 
-->
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-1" aria-hidden="true" tabindex="-1"></a>banana_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;banana&quot;</span>, <span class="st">&quot;bananas&quot;</span>, <span class="st">&quot;bananal&quot;</span>, <span class="st">&quot;bananada&quot;</span>, <span class="st">&quot;bananeira&quot;</span>, <span class="st">&quot;bandolim&quot;</span>)</span>
<span id="cb93-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;ban.*&quot;</span>, banana_vec, <span class="at">value=</span>T)</span>
<span id="cb93-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;    &quot;bananas&quot;   &quot;bananal&quot;   &quot;bananada&quot;  &quot;bananeira&quot; &quot;bandolim&quot;</span></span>
<span id="cb93-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;banan.*&quot;</span>, banana_vec, <span class="at">value=</span>T)</span>
<span id="cb93-7"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;    &quot;bananas&quot;   &quot;bananal&quot;   &quot;bananada&quot;  &quot;bananeira&quot;</span></span>
<span id="cb93-8"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;banana.*&quot;</span>, banana_vec, <span class="at">value=</span>T)</span>
<span id="cb93-9"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;   &quot;bananas&quot;  &quot;bananal&quot;  &quot;bananada&quot;</span></span>
<span id="cb93-10"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-11"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-11" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;banana.?&quot;</span>, banana_vec, <span class="at">value=</span><span class="cn">TRUE</span>)</span>
<span id="cb93-12"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;   &quot;bananas&quot;  &quot;bananal&quot;  &quot;bananada&quot;</span></span>
<span id="cb93-13"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-13" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;banana.?$&quot;</span>, banana_vec, <span class="at">value=</span><span class="cn">TRUE</span>)</span>
<span id="cb93-14"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;  &quot;bananas&quot; &quot;bananal&quot;</span></span>
<span id="cb93-15"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-16"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-16" aria-hidden="true" tabindex="-1"></a><span class="co"># A sequência &quot;an&quot; pode aparecer uma ou mais vezes repetida, como &quot;ban&quot;, &quot;banan&quot;, &quot;bananan&quot;, &quot;banananan&quot;, etc.</span></span>
<span id="cb93-17"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;b(an)+&quot;</span>, banana_vec, <span class="at">value=</span>T)</span>
<span id="cb93-18"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;    &quot;bananas&quot;   &quot;bananal&quot;   &quot;bananada&quot;  &quot;bananeira&quot; &quot;bandolim&quot;</span></span>
<span id="cb93-19"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-20"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-20" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;b[an]{2}&quot;</span>, banana_vec, <span class="at">value=</span>T) </span>
<span id="cb93-21"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;    &quot;bananas&quot;   &quot;bananal&quot;   &quot;bananada&quot;  &quot;bananeira&quot; &quot;bandolim&quot;</span></span>
<span id="cb93-22"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-23"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-23" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;b(an){2}&quot;</span>, banana_vec, <span class="at">value=</span>T)</span>
<span id="cb93-24"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;    &quot;bananas&quot;   &quot;bananal&quot;   &quot;bananada&quot;  &quot;bananeira&quot;</span></span>
<span id="cb93-25"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-26"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-26" aria-hidden="true" tabindex="-1"></a><span class="co"># se quiser delimitar a busca, restringindo a encontrar apenas o termo exato (exact match), deve-se usar o delimitador de palavra &quot;\b&quot;. E para usá-lo aqui, deve-se acrescentar mais uma barra para o escape, ficando &quot;\\b&quot;.</span></span>
<span id="cb93-27"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-27" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">bbanana</span><span class="sc">\\</span><span class="st">b&quot;</span>, banana_vec, <span class="at">value=</span>T)</span>
<span id="cb93-28"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;banana&quot;</span></span>
<span id="cb93-29"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-30"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-30" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">bbanana.</span><span class="sc">\\</span><span class="st">b&quot;</span>, banana_vec, <span class="at">value=</span>T)</span>
<span id="cb93-31"><a href="normalização-de-texto-e-expressões-regulares.html#cb93-31" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;bananas&quot; &quot;bananal&quot;</span></span></code></pre></div>
<div class="infobox history">
<p><strong>A História do comando GREP: </strong></p>
<p>O comando grep exite graças à uma demanda da análise textual.
Na década de 1960, um problema intrigava diversos pesquisadores. Quem são os autores de cada texto dos textos dos Federalistas?
Os <em>Federalist Papers</em> foram 85 textos publicados de modo anônimo sob pseudônimo de “Publius”, podendo ser de autoria de James Madinson, Alexander Hamilton, John Jay em 1787 e 1788. Mas quem escreveu quais textos?
Lee McMahon comentou deste problema com seus colegas. Ele queria buscar por certas palavras através de vários textos.
Ken Thompson - personagem importante na história da programação - escutou aquilo e no dia seguinte voltou com o programa que veio a ser chamado <code>grep</code>:</p>
<ul>
<li>“g” de “Global”, procurar em vários documentos</li>
<li>“re” de regular expressions</li>
<li>“p” de print. Se achar o padrão de regex, então imprima na tela. Poderia ainda ser apagar, ou substituir também.</li>
</ul>
<p>O <code>grep</code> se tornou parte obrigatória do arcabouço computacional na programação em geral, principalmente nos sistemas baseados em Unix (Mac e Linux).</p>
<p>Esta história foi contada em <a href="https://www.youtube.com/watch?v=NTfOnGZUZDk">Where GREP Came From - Computerphile</a>. Outros detalhes mais técnicos podem ser vistos <a href="https://blogs.iu.edu/mdpi/2020/04/07/precision-searching-with-powergrep-2/">aqui</a>
A identificação de autoria pelo padrão de escrita veio a ser chamado de “digitais linguísticas” (<em>linguistic fingerprint</em>). Posteriormente, um grupo de pesquisadores da Universidade de Aston usaram de técnica semelhante (porém mais avançada) para <a href="https://venturebeat.com/2014/04/16/linguistic-fingerprints-in-little-words-may-have-identified-the-real-bitcoin-creator/">identificar a identidade real de Satoshi Nakamoto</a>, criador do Bitcoin e da tecnologia de blockchain.</p>
</div>
</div>
<div id="escapando-escaping" class="section level4 hasAnchor" number="6.1.1.5">
<h4><span class="header-section-number">6.1.1.5</span> Escapando (escaping)<a href="normalização-de-texto-e-expressões-regulares.html#escapando-escaping" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Vimos que os símbolos <code>[</code>, <code>]</code>, <code>(</code>, <code>)</code>, <code>{</code>, <code>}</code>, os operadores <code>*</code>, <code>+</code>, <code>?</code> <code>.</code>, <code>|</code>, <code>-</code> possuem um significado especial nas expressões regulares.
E para usar estes mesmos símbolos literalmente? Para isto, usamos o “<em>escape</em>”, usando uma barra <code>'\'</code> antes destes símbolos. Assim, se quisermos indicar o ponto final, usamos <code>\.</code>. No caso do R, usamos barra dupla. O exemplo anterior ficaria <code>\\.</code>.</p>
</div>
<div id="classes-posix" class="section level4 hasAnchor" number="6.1.1.6">
<h4><span class="header-section-number">6.1.1.6</span> Classes POSIX<a href="normalização-de-texto-e-expressões-regulares.html#classes-posix" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<colgroup>
<col width="15%" />
<col width="80%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th>POSIX</th>
<th>Descrição</th>
<th>Equivalente</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>[:digit:]</code> ou <code>\\d</code></td>
<td>Dígitos: 0 1 2 3 4 5 6 7 8 9.</td>
<td>[0-9]</td>
</tr>
<tr class="even">
<td><code>[:lower:]</code></td>
<td>letras em minúsculo (Lower-case)</td>
<td>[a-z]</td>
</tr>
<tr class="odd">
<td><code>[:upper:]</code></td>
<td>Caracteres maiúsculos</td>
<td>[A-Z]</td>
</tr>
<tr class="even">
<td><code>[:alpha:]</code></td>
<td>Caracteres alfabéticos: [:lower:] and [:upper:].</td>
<td>[a-zA-Z]</td>
</tr>
<tr class="odd">
<td><code>[:alnum:]</code> ou <code>\w</code></td>
<td>Caracteres alfanuméricos: [:alpha:] e [:digit:].</td>
<td><code>[a-zA-Z0-9]</code> ou <code>[A-z0-9]</code></td>
</tr>
<tr class="even">
<td><code>\W</code></td>
<td>Não palavra</td>
<td><code>[^A-z0-9]</code></td>
</tr>
<tr class="odd">
<td><code>[:blank:]</code></td>
<td>Caracteres vazios, como espaço e tab.</td>
<td></td>
</tr>
<tr class="even">
<td><code>[:cntrl:]</code></td>
<td>Caracteres de controle, como <code>\n</code>, <code>\r</code>, <code>[\x00-\x1F\x7F]</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>[:graph:]</code></td>
<td>Caracteres gráficos : [:alnum:] e [:punct:].</td>
<td></td>
</tr>
<tr class="even">
<td><code>[:print:]</code></td>
<td>Caracteres impimíveis: [:alnum:], [:punct:] and space.</td>
<td></td>
</tr>
<tr class="odd">
<td><code>[:space:]</code></td>
<td>Caracteres de espaço: tab <code>\t</code>, nova linha <code>\n</code>, tab vertical, form feed, carriage return <code>\r</code>, espaço e outros similares</td>
<td></td>
</tr>
<tr class="even">
<td><code>[:xdigit:]</code></td>
<td>Dígitos hexadecimais: 0 1 2 3 4 5 6 7 8 9 A B C D E F a b c d e f.</td>
<td></td>
</tr>
<tr class="odd">
<td><code>\s</code></td>
<td>espaço em branco</td>
<td><code>[ ]</code></td>
</tr>
<tr class="even">
<td><code>\S</code></td>
<td>(maiúsculo) tudo, exceto espaço em branco</td>
<td><code>[^ ]</code></td>
</tr>
<tr class="odd">
<td><code>[:punct:]</code></td>
<td>Caracteres de pontuação: ‘! ” # $ % &amp; ' ( ) * + , - . / : ; &lt; = &gt; ? @ [  ] ^ _ ` { } ~ . |’</td>
<td></td>
</tr>
</tbody>
</table>
<p>Mas no R, para usar esta classe posix, deve-se reforçar as colchetes. Assim, para usarmos <code>[:punct:]</code> no R, devemos fazê-lo assim: <code>[[:punct:]]</code></p>
</div>
<div id="backreference" class="section level4 hasAnchor" number="6.1.1.7">
<h4><span class="header-section-number">6.1.1.7</span> Backreference<a href="normalização-de-texto-e-expressões-regulares.html#backreference" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Podemos reaproveitar trechos através de backreference.
Ao fazer substituições nos textos, um modo de delimitar ou reorganizar os elementos é feita com o uso de backreference.
Indicamos o que queremos reutilizar com os parênteses, e reutilizamos através de numeração como ‘\1’, ‘\2’.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb94-1" aria-hidden="true" tabindex="-1"></a>nome <span class="ot">&lt;-</span> <span class="st">&quot;Fulano Silva&quot;</span></span>
<span id="cb94-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&#39;(.*) (.*)&#39;</span>, <span class="st">&#39;</span><span class="sc">\\</span><span class="st">2,</span><span class="sc">\\</span><span class="st">1.&#39;</span>, nome)</span>
<span id="cb94-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Silva,Fulano.&quot;</span></span></code></pre></div>
<p>Onde <code>\\0</code> indica toda a string, <code>\\1</code> indica o primeiro caso, <code>\\2</code> indica o segundo e assim por diante.</p>
<!-- strings <- c("^ab", "ab", "abc", "abd", "abe", "ab 12") -->
<!-- gsub("(ab) 12", "\\1 34", strings) -->
<!-- ## Lookarounds -->
</div>
</div>
<div class="infobox note">
<div id="dicassugestões" class="section level3 hasAnchor" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Dicas/Sugestões<a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=exYBIoTEX4A&amp;t=1800s">SICSS 2019 – Basic text analysis with grep</a>. Video do YouTube do Summer Institute in Computational Social Science.</li>
<li><a href="https://www.rexegg.com/regex-quickstart.html" class="uri">https://www.rexegg.com/regex-quickstart.html</a></li>
</ul>
</div>
<div id="indicação-de-leitura-sobre-regex" class="section level3 hasAnchor" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> Indicação de leitura sobre Regex<a href="normalização-de-texto-e-expressões-regulares.html#indicação-de-leitura-sobre-regex" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>JURAFSKY, Dan.; MARTIN, James H.<a href="https://web.stanford.edu/~jurafsky/slp3/2.pdf">Regular Expressions, Text Normalization, Edit Distance</a> in __Speech and language processing: An introduction to speech recognition, computational linguistics and natural language processing. Upper Saddle River, NJ: Prentice Hall, 2020. Cap.2 p.2-28</li>
<li>FRIEDL, Jeffrey E. F. <a href="https://www.oreilly.com/library/view/mastering-regular-expressions/0596528124/">Mastering Regular Expressions</a>, 3rd Edition. 2006. O’Reilly Media, Inc. ISBN: 9780596528126. Há opção free trial do livro.</li>
<li><a href="www.ILoveJackDaniels.com">cheatsheet de expressões regulares</a> (em inglês)</li>
</ul>
<p><strong>Softwares</strong>
Para lidar com dados bagunçados (“messy data”), uma sugestão é usar o
<a href="https://openrefine.org/">OpenRefine</a>. Antes “Google Refine”, mas após a Google abandonar o projeto, virou “Open Refine”, livre e de código aberto, ajuda a padronizar dados de tabelas, planilhas, limpando, corrigindo, filtrando (com regex), clusterizando ou transformando em outro formato. No site há tutoriais. Ele abre no seu navegador de internet, mas roda direto do seu computador.
Usam esta ferramenta do OpenRefine, por exemplo,
o <a href="http://estadaodados.com/basometro/">Basômetro</a> do Estadão Dados, que mede o apoio que o governo federal tem no legislativo
e o <a href="https://www.propublica.org/about/">ProPublica</a> de jornalismo investigativo independente,
<!-- o [sponsokit](https://www.sponsokit.com/) para marketing de influenciadores.-->
No próprio site do <a href="https://openrefine.org/documentation.html">OpenRefine</a> há tutoriais e no <a href="https://www.propublica.org/nerds/item/using-google-refine-for-data-cleaning">ProPublica</a>, ambos em inglês).</p>
</div>
</div>
</div>
<div id="regex-no-r" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> RegEx no R<a href="normalização-de-texto-e-expressões-regulares.html#regex-no-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>O uso de regex vem por padrão no R, no pacote <code>base</code>, mas há também uma expansão de regex com o pacote <a href="normalização-de-texto-e-expressões-regulares.html#stringr">stringr</a> que veremos mais à frente.
<!-- usado para lidarmos com strings com diversas funções com soluções simplificadas para problemas que recorrentemente precisamos de fazer algum regex mais complicado. O Stringr possui ainda uma sintaxe um pouco diferente. --></p>
<div id="grep" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Grep<a href="normalização-de-texto-e-expressões-regulares.html#grep" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Como vimos, o grep serve para filtrar linhas que contenham algo que buscamos.
Primeiro, vamos criar duas variáveis com texto.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb95-1" aria-hidden="true" tabindex="-1"></a>nosso_texto <span class="ot">&lt;-</span> <span class="st">&quot;Estamos aprendendo expressão regular no R. Bla bla bla no no no.&quot;</span></span>
<span id="cb95-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb95-2" aria-hidden="true" tabindex="-1"></a>poema <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;E agora, José?&quot;</span>, <span class="st">&quot;A festa acabou,&quot;</span> , <span class="st">&quot;a luz apagou,&quot;</span>, <span class="st">&quot;o povo sumiu,&quot;</span>, <span class="st">&quot;a noite esfriou&quot;</span>, <span class="st">&quot;e agora, José?&quot;</span>)</span></code></pre></div>
<p>Usaremos estas frases como exemplos a seguir:</p>
<div id="grepl" class="section level4 hasAnchor" number="6.2.1.1">
<h4><span class="header-section-number">6.2.1.1</span> grepl()<a href="normalização-de-texto-e-expressões-regulares.html#grepl" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Com o <code>grepl("Termo", Nome_variável)</code> verificamos se uma expressão está presente em nosso texto e ele nos retorna booleanos <code>TRUE</code>(verdadeiro, termo encontrado) ou <code>FALSE</code> (falso, termo não encontrado).</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;Estamos&quot;</span>, nosso_texto)</span>
<span id="cb96-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb96-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;paralelepípedo&quot;</span>, nosso_texto)</span>
<span id="cb96-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb96-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;festa&quot;</span>, poema)</span>
<span id="cb96-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE  TRUE FALSE FALSE FALSE FALSE</span></span></code></pre></div>
</div>
<div id="greppadrão-variável" class="section level4 hasAnchor" number="6.2.1.2">
<h4><span class="header-section-number">6.2.1.2</span> grep(“padrão”, variável)<a href="normalização-de-texto-e-expressões-regulares.html#greppadrão-variável" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Tendo várias linhas em um vetor, como por exemplo:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;festa&quot;</span>, poema)</span>
<span id="cb97-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb97-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;José&quot;</span>, poema)</span>
<span id="cb97-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 6</span></span>
<span id="cb97-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;josé&quot;</span>, poema)</span>
<span id="cb97-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb97-6" aria-hidden="true" tabindex="-1"></a><span class="do">## integer(0)</span></span></code></pre></div>
<p>No primeiro e segundo exemplo, buscamos por “festa” e “José” e o R nos retornou o local do termo buscado no vetor. No terceiro exemplo, o termo “josé” - todo em minúsculo - não existia, e por isso o R retornou <code>integer(0)</code>.
Se quisermos ver as respectivas linhas, fazemos assim:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb98-1" aria-hidden="true" tabindex="-1"></a>poema[<span class="fu">grep</span>(<span class="st">&quot;José&quot;</span>, poema)]</span>
<span id="cb98-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;E agora, José?&quot; &quot;e agora, José?&quot;</span></span>
<span id="cb98-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb98-3" aria-hidden="true" tabindex="-1"></a>poema[<span class="fu">grep</span>(<span class="st">&quot;festa&quot;</span>, poema)]</span>
<span id="cb98-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;A festa acabou,&quot;</span></span></code></pre></div>
<p>Ou ainda, usando <code>value = TRUE)</code> para mostrar o texto encontrado, e não apenas o índice.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;José&quot;</span>, poema, <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb99-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;E agora, José?&quot; &quot;e agora, José?&quot;</span></span>
<span id="cb99-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;festa&quot;</span>, poema, <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb99-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;A festa acabou,&quot;</span></span></code></pre></div>
<p>O <code>grep</code> em sua versão completa no R, pode ter ainda as seguintes designações:
&gt; grep(padrão, nome_variável, ignore.case = FALSE, perl = FALSE, value = FALSE, fixed = FALSE, useBytes = FALSE, invert = FALSE)</p>
<table>
<colgroup>
<col width="70%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th>Campo do grep</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>padrão</td>
<td>padrão regex a ser buscado</td>
</tr>
<tr class="even">
<td>nome_variável</td>
<td>Nome da variável. Se o grep vier após um pipe (<code>%&gt;%</code>), é substituído por ponto <code>.</code></td>
</tr>
<tr class="odd">
<td>ignore.case = FALSE</td>
<td>se <code>ignore.case = TRUE</code> , então a busca não distinguirá maiúscula de minúscula</td>
</tr>
<tr class="even">
<td>perl = FALSE</td>
<td>usa o padrão Perl de regex</td>
</tr>
<tr class="odd">
<td>value = FALSE</td>
<td>Imprime os índices. Se <code>TRUE</code>, mostra os elementos. `<code>| |fixed = FALSE| considera a busca como texto puro, sem nenhuma expressão regex| |useBytes = FALSE| se</code>TRUE<code>a busca é feita byte-a-byte ao invés de caractere a caractere| |invert = FALSE| Se</code>invert = TRUE`, então serão exibidas todas as linhas, exceto as que contenham o padrão buscado.</td>
</tr>
</tbody>
</table>
<p><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/grep.html" class="uri">https://stat.ethz.ch/R-manual/R-devel/library/base/html/grep.html</a></p>
</div>
</div>
<div id="gsub" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> gsub()<a href="normalização-de-texto-e-expressões-regulares.html#gsub" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Se quisermos substituir trechos de nossa frase, usamos <code>gsub("o que será retirado", "O que queremos colocar no lugar", nome_variável)</code></p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;Bla&quot;</span>, <span class="st">&quot;paralelepípedo&quot;</span>, nosso_texto)</span>
<span id="cb100-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Estamos aprendendo expressão regular no R. paralelepípedo bla bla no no no.&quot;</span></span>
<span id="cb100-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;bla&quot;</span>, <span class="st">&quot;paralelepípedo&quot;</span>, nosso_texto)</span>
<span id="cb100-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Estamos aprendendo expressão regular no R. Bla paralelepípedo paralelepípedo no no no.&quot;</span></span></code></pre></div>
<p>Também podemos usar <code>gsub</code> para limpar nosso texto, colocando <code>""</code> no campo intermediário da nossa função gsub. Por exemplo, se quisermos retirar os “no”:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;no&quot;</span>, <span class="st">&quot;&quot;</span>, nosso_texto)</span>
<span id="cb101-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Estamos aprendendo expressão regular  R. Bla bla bla   .&quot;</span></span></code></pre></div>
<p>Ou se quisermos retirar os “bla”:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;bla&quot;</span>, <span class="st">&quot;&quot;</span>, nosso_texto)</span>
<span id="cb102-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Estamos aprendendo expressão regular no R. Bla   no no no.&quot;</span></span>
<span id="cb102-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;[bB]la&quot;</span>, <span class="st">&quot;&quot;</span>, nosso_texto)</span>
<span id="cb102-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Estamos aprendendo expressão regular no R.    no no no.&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;?&quot;</span>, <span class="st">&quot;&quot;</span>, poema)</span>
<span id="cb103-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;E agora, José?&quot;  &quot;A festa acabou,&quot; &quot;a luz apagou,&quot;   &quot;o povo sumiu,&quot;  </span></span>
<span id="cb103-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;a noite esfriou&quot; &quot;e agora, José?&quot;</span></span>
<span id="cb103-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>, <span class="st">&quot;&quot;</span>, poema)</span>
<span id="cb103-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;E agora José?&quot;   &quot;A festa acabou&quot;  &quot;a luz apagou&quot;    &quot;o povo sumiu&quot;   </span></span>
<span id="cb103-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;a noite esfriou&quot; &quot;e agora José?&quot;</span></span></code></pre></div>
<p>A retirada da vírgula ocorreu normalmente. Já a interrogação continuou, uma vez que é um caractere usado com significado específico no regex. Devemos então indicar que se trata de uma interrogação comum.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">?&quot;</span>, <span class="st">&quot;&quot;</span>, poema)</span>
<span id="cb104-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;E agora, José&quot;   &quot;A festa acabou,&quot; &quot;a luz apagou,&quot;   &quot;o povo sumiu,&quot;  </span></span>
<span id="cb104-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;a noite esfriou&quot; &quot;e agora, José&quot;</span></span></code></pre></div>
<p>E retirando também a vírgula:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;[</span><span class="sc">\\</span><span class="st">?,]&quot;</span>, <span class="st">&quot;&quot;</span>, poema)</span>
<span id="cb105-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;E agora José&quot;    &quot;A festa acabou&quot;  &quot;a luz apagou&quot;    &quot;o povo sumiu&quot;   </span></span>
<span id="cb105-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;a noite esfriou&quot; &quot;e agora José&quot;</span></span></code></pre></div>
</div>
<div id="exercício-qual-o-qualis-de-certas-revistas-quais-revistas-possuem-certo-qualis" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Exercício: Qual o Qualis de certas revistas? Quais revistas possuem certo Qualis?<a href="normalização-de-texto-e-expressões-regulares.html#exercício-qual-o-qualis-de-certas-revistas-quais-revistas-possuem-certo-qualis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vamos montar um script de busca dos Qualis de revistas de sociologia.
Vasculhando a internet, encontrei uma lista com os <a href="https://www2.ufjf.br/ppgcso/wp-content/uploads/sites/133/2015/04/1-Qualis-Sociologia-Atualizado.pdf">Qualis das revistas de sociologia em pdf</a>.
<!-- e salvei no meu computador. -->
Precisamos extrair a informação do pdf, precisamos dos pacotes <code>pdftools</code> e <code>tidyverse</code>. O comando <code>pdf_text()</code> do pacote pdf tools carrega tanto arquivos locais, em seu computador, como direto da internet.
<!--  [Extracting data from a PDF into R](https://rstudio-pubs-static.s3.amazonaws.com/415060_553527fd13ed4f30aae0f1e4483aa970.html). --></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pdftools)</span>
<span id="cb106-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb106-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="co"># O endereço de nosso pdf</span></span>
<span id="cb106-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-5" aria-hidden="true" tabindex="-1"></a>PDF.url <span class="ot">=</span> <span class="st">&quot;https://www2.ufjf.br/ppgcso/wp-content/uploads/sites/133/2015/04/1-Qualis-Sociologia-Atualizado.pdf&quot;</span></span>
<span id="cb106-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Carregando o conteúdo do pdf na variável &quot;meupdf&quot;</span></span>
<span id="cb106-7"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-7" aria-hidden="true" tabindex="-1"></a>meupdf <span class="ot">&lt;-</span> <span class="fu">pdf_text</span>(PDF.url)</span>
<span id="cb106-8"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos checar se deu tudo certo, imprimindo apenas as primeiras linhas</span></span>
<span id="cb106-9"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(meupdf)</span>
<span id="cb106-10"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;                                                  Consulta por Classificação / Área Avaliação\nISSN        TÍTULO                                                                              ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0335-5322   Actes de la Recherche en Sciences Sociales                                          A1      SOCIOLOGIA              Atualizado\n\n0002-7294   American Anthropologist                                                             A1      SOCIOLOGIA              Atualizado\n\n1042-0533   American Journal of Human Biology                                                   A1      SOCIOLOGIA              Atualizado\n\n0003-2573   Análise Social                                                                      A1      SOCIOLOGIA              Atualizado\n\n1573-3416   An International Journal of Politics, Culture and Society (Dordrecht. Online)       A1      SOCIOLOGIA              Atualizado\n\n0004-0002   Archives of Sexual Behavior                                                         A1      SOCIOLOGIA              Atualizado\n\n0261-3050   Bulletin of Latin American Research                                                 A1      SOCIOLOGIA              Atualizado\n\n1983-8239   Caderno CRH (Online)                                                                A1      SOCIOLOGIA              Atualizado\n\n0103-4979   Caderno CRH (UFBA. Impresso)                                                        A1      SOCIOLOGIA              Atualizado\n\n0104-8333   Cadernos Pagu (UNICAMP. Impresso)                                                   A1      SOCIOLOGIA              Atualizado\n\n0010-4159   Comparative Politics                                                                A1      SOCIOLOGIA              Atualizado\n\n1351-0487   Constellations (Oxford. Print)                                                      A1      SOCIOLOGIA              Atualizado\n\n0094-3061   Contemporary Sociology (Washington)                                                 A1      SOCIOLOGIA              Atualizado\n\n1354-067X   Culture &amp; Psychology                                                                A1      SOCIOLOGIA              Atualizado\n\n0011-3204   Current Anthropology                                                                A1      SOCIOLOGIA              Atualizado\n\n0011-3921   Current Sociology (Print)                                                           A1      SOCIOLOGIA              Atualizado\n\n0011-5258   Dados (Rio de Janeiro. Impresso)                                                    A1      SOCIOLOGIA              Atualizado\n\n1351-0347   Democratization (London)                                                            A1      SOCIOLOGIA              Atualizado\n\n0101-7330   Educação &amp; Sociedade (Impresso)                                                     A1      SOCIOLOGIA              Atualizado\n\n1044-3983   Epidemiology (Cambridge, Mass., Print)                                              A1      SOCIOLOGIA              Atualizado\n\n0185-4186   Estudios Sociológicos                                                               A1      SOCIOLOGIA              Atualizado\n\n0141-9870   Ethnic and Racial Studies (Print)                                                   A1      SOCIOLOGIA              Atualizado\n\n0873-6561   Etnográfica (Lisboa                                                                 A1      SOCIOLOGIA              Atualizado\n\n\n\n                                                                                            1                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;</span></span>
<span id="cb106-11"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [2] &quot;ISSN        TÍTULO                                                       ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0014-2182   Etudes Rurales                                               A1      SOCIOLOGIA              Atualizado\n\n1368-4310   European Journal of Social Theory                            A1      SOCIOLOGIA              Atualizado\n\n0104-5970   História, Ciências, Saúde-Manguinhos (Impresso)              A1      SOCIOLOGIA              Atualizado\n\n1678-4758   História, Ciências, Saúde-Manguinhos (Online)                A1      SOCIOLOGIA              Atualizado\n\n1806-9983   Horizontes Antropológicos (Online)                           A1      SOCIOLOGIA              Atualizado\n\n0104-7183   Horizontes Antropológicos (UFRGS. Impresso)                  A1      SOCIOLOGIA              Atualizado\n\n0539-0184   Information sur les Sciences Sociales (Paris)                A1      SOCIOLOGIA              Atualizado\n\n0891-4486   International Journal of Politics, Culture and Society       A1      SOCIOLOGIA              Atualizado\n\n2182-4096   International Journal on Working Conditions                  A1      SOCIOLOGIA              Atualizado\n\n0192-5121   International Political Science Review                       A1      SOCIOLOGIA              Atualizado\n\n0269-2171   International Review of Applied Economics                    A1      SOCIOLOGIA              Atualizado\n\n0020-8701   International Social Science Journal (Print)                 A1      SOCIOLOGIA              Atualizado\n\n0268-5809   International Sociology                                      A1      SOCIOLOGIA              Atualizado\n\n1468-795X   Journal of Classical Sociology                               A1      SOCIOLOGIA              Atualizado\n\n1467-6443   Journal of Historical Sociology (Online)                     A1      SOCIOLOGIA              Atualizado\n\n0022-216X   Journal of Latin American Studies (Print)                    A1      SOCIOLOGIA              Atualizado\n\n0022-4537   Journal of Social Issues (Print)                             A1      SOCIOLOGIA              Atualizado\n\n0094-582X   Latin American Perspectives                                  A1      SOCIOLOGIA              Atualizado\n\n0023-8791   Latin American Research Review                               A1      SOCIOLOGIA              Atualizado\n\n0102-6445   Lua Nova (Impresso)                                          A1      SOCIOLOGIA              Atualizado\n\n1678-4944   Mana (Rio de Janeiro. Online)                                A1      SOCIOLOGIA              Atualizado\n\n0104-9313   Mana (UFRJ. Impresso)                                        A1      SOCIOLOGIA              Atualizado\n\n0101-3300   Novos Estudos CEBRAP (Impresso)                              A1      SOCIOLOGIA              Atualizado\n\n0102-4469   Perspectiva Teológica (Belo Horizonte)                       A1      SOCIOLOGIA              Atualizado\n\n\n\n                                                                     2                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       </span></span>
<span id="cb106-12"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [3] &quot;ISSN        TÍTULO                                                                   ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0048-3931   Philosophy of the Social Sciences                                        A1      SOCIOLOGIA              Atualizado\n\n0191-4537   Philosophy &amp; Social Criticism                                            A1      SOCIOLOGIA              Atualizado\n\n0276-5624   Research in Social Stratification and Mobility                           A1      SOCIOLOGIA              Atualizado\n\n0048-7333   Research Policy                                                          A1      SOCIOLOGIA              Atualizado\n\n0102-6909   Revista Brasileira de Ciências Sociais (Impresso)                        A1      SOCIOLOGIA              Atualizado\n\n0254-1106   Revista Crítica de Ciências Sociais                                      A1      SOCIOLOGIA              Atualizado\n\n0034-7701   Revista de Antropologia (USP. Impresso)                                  A1      SOCIOLOGIA              Atualizado\n\n0188-2503   Revista Mexicana de SociologÍa                                           A1      SOCIOLOGIA              Atualizado\n\n0390-6701   Revue Internationale de Sociologie                                       A1      SOCIOLOGIA              Atualizado\n\n0037-7686   Social Compass (Imprimé)                                                 A1      SOCIOLOGIA              Atualizado\n\n0037-7732   Social Forces                                                            A1      SOCIOLOGIA              Atualizado\n\n0303-8300   Social Indicators Research                                               A1      SOCIOLOGIA              Atualizado\n\n0277-9536   Social Science &amp; Medicine (1982)                                         A1      SOCIOLOGIA              Atualizado\n\n0102-6992   Sociedade e Estado (UnB. Impresso)                                       A1      SOCIOLOGIA              Atualizado\n\n0038-0199   Sociologia Ruralis (Print)                                               A1      SOCIOLOGIA              Atualizado\n\n1517-4522   Sociologias (UFRGS. Impresso)                                            A1      SOCIOLOGIA              Atualizado\n\n0735-2751   Sociological Theory                                                      A1      SOCIOLOGIA              Atualizado\n\n0038-0296   Sociologie du Travail                                                    A1      SOCIOLOGIA              Atualizado\n\n1069-4404   Sociology of Religion                                                    A1      SOCIOLOGIA              Atualizado\n\n0340-918X   Soziologie (Opladen)                                                     A1      SOCIOLOGIA              Atualizado\n\n0103-2070   Tempo Social (USP. Impresso)                                             A1      SOCIOLOGIA              Atualizado\n\n0002-7162   The Annals of the American Academy of Political and Social Science       A1      SOCIOLOGIA              Atualizado\n\n0263-2764   Theory, Culture &amp; Society                                                A1      SOCIOLOGIA              Atualizado\n\n0725-5136   Thesis Eleven (Print)                                                    A1      SOCIOLOGIA              Atualizado\n\n\n\n                                                                                 3                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;                                                                                                                                                                                                                                               </span></span>
<span id="cb106-13"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [4] &quot;ISSN        TÍTULO                                                         ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0730-8884   Work and Occupations                                           A1      SOCIOLOGIA              Atualizado\n\n0305-750X   World Development                                              A1      SOCIOLOGIA              Atualizado\n\n0954-0121   Aids Care (Print)                                              A2      SOCIOLOGIA              Atualizado\n\n0889-2229   AIDS Research and Human Retroviruses                           A2      SOCIOLOGIA              Atualizado\n\n1414-753X   Ambiente e Sociedade (Campinas)                                A2      SOCIOLOGIA              Atualizado\n\n1809-4422   Ambiente &amp; Sociedade (Online)                                  A2      SOCIOLOGIA              Atualizado\n\n0044-7447   Ambio (Oslo)                                                   A2      SOCIOLOGIA              Atualizado\n\n1130-2887   América Latina Hoy                                             A2      SOCIOLOGIA              Atualizado\n\n0161-7761   Anthropology &amp; Education Quarterly                             A2      SOCIOLOGIA              Atualizado\n\n0210-1963   Arbor (Madrid)                                                 A2      SOCIOLOGIA              Atualizado\n\n0863-1808   Berliner Journal fur Soziologie                                A2      SOCIOLOGIA              Atualizado\n\n0102-311X   Cadernos de Saúde Pública (ENSP. Impresso)                     A2      SOCIOLOGIA              Atualizado\n\n1298-6046   Cahiers du Genre (Paris)                                       A2      SOCIOLOGIA              Atualizado\n\n0008-0276   Cahiers Internationaux de Sociologie                           A2      SOCIOLOGIA              Atualizado\n\n0826-3663   Canadian Journal of Latin American and Caribbean Studies       A2      SOCIOLOGIA              Atualizado\n\n1188-3774   Canadian Journal of Urban Research                             A2      SOCIOLOGIA              Atualizado\n\n0309-8168   Capital &amp; Class                                                A2      SOCIOLOGIA              Atualizado\n\n0341-8162   Catena (Cremlingen)                                            A2      SOCIOLOGIA              Atualizado\n\n1519-6089   Civitas: Revista de Ciências Sociais (Impresso)                A2      SOCIOLOGIA              Atualizado\n\n0010-4086   Comparative Education Review                                   A2      SOCIOLOGIA              Atualizado\n\n0360-1315   Computers and Education                                        A2      SOCIOLOGIA              Atualizado\n\n0102-8529   Contexto Internacional (PUCRJ. Impresso)                       A2      SOCIOLOGIA              Atualizado\n\n1478-0046   Cultural and Social History (Online)                           A2      SOCIOLOGIA              Atualizado\n\n0419-1633   Diogène (Ed. Française)                                        A2      SOCIOLOGIA              Atualizado\n\n\n\n                                                                       4                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   </span></span>
<span id="cb106-14"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot;ISSN        TÍTULO                                                            ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0392-1921   Diogenes (English ed.)                                            A2      SOCIOLOGIA              Atualizado\n\n1362-024X   Durkheimian Studies                                               A2      SOCIOLOGIA              Atualizado\n\n0921-8009   Ecological Economics (Amsterdam)                                  A2      SOCIOLOGIA              Atualizado\n\n0143-831X   Economic and Industrial Democracy                                 A2      SOCIOLOGIA              Atualizado\n\n0142-5455   Employee Relations                                                A2      SOCIOLOGIA              Atualizado\n\n0104-4036   Ensaio (Fundação Cesgranrio. Impresso)                            A2      SOCIOLOGIA              Atualizado\n\n0014-1844   Ethnos (Stockholm)                                                A2      SOCIOLOGIA              Atualizado\n\n0015-704X   Fordham Law Review                                                A2      SOCIOLOGIA              Atualizado\n\n0016-3287   Futures (London)                                                  A2      SOCIOLOGIA              Atualizado\n\n0197-3975   Habitat International                                             A2      SOCIOLOGIA              Atualizado\n\n1468-2737   Hispanic Research Journal                                         A2      SOCIOLOGIA              Atualizado\n\n0018-7615   Humboldt (Spanische Ausg.)                                        A2      SOCIOLOGIA              Atualizado\n\n0265-5012   IDS Bulletin (Brighton. 1984)                                     A2      SOCIOLOGIA              Atualizado\n\n0306-4379   Information Systems (Oxford)                                      A2      SOCIOLOGIA              Atualizado\n\n1469-8412   Innovation: The European Journal of Social Science Research       A2      SOCIOLOGIA              Atualizado\n\n0034-9690   Interamerican Journal of Psychology                               A2      SOCIOLOGIA              Atualizado\n\n1861-1303   International Journal of Action Research                          A2      SOCIOLOGIA              Atualizado\n\n0020-8523   International Review of Administrative Sciences                   A2      SOCIOLOGIA              Atualizado\n\n0037-9174   Journal de la Société des Américanistes                           A2      SOCIOLOGIA              Atualizado\n\n1471-0358   Journal of Agrarian Change (Print)                                A2      SOCIOLOGIA              Atualizado\n\n0168-7034   Journal of Consumer Policy                                        A2      SOCIOLOGIA              Atualizado\n\n1353-7903   Journal of Contemporary Religion                                  A2      SOCIOLOGIA              Atualizado\n\n1533-7928   Journal of Machine Learning Research (Online)                     A2      SOCIOLOGIA              Atualizado\n\n0306-6150   Journal of Peasant Studies                                        A2      SOCIOLOGIA              Atualizado\n\n\n\n                                                                          5                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                     </span></span>
<span id="cb106-15"><a href="normalização-de-texto-e-expressões-regulares.html#cb106-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [6] &quot;ISSN        TÍTULO                                                      ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0047-2697   Journal of Political &amp; Military Sociology                   A2      SOCIOLOGIA              Atualizado\n\n1053-1858   Journal of Public Administration Research and Theory        A2      SOCIOLOGIA              Atualizado\n\n0022-4200   Journal of Religion in Africa (Print)                       A2      SOCIOLOGIA              Atualizado\n\n0022-4529   Journal of Social History                                   A2      SOCIOLOGIA              Atualizado\n\n1744-2222   Latin American and Caribbean Ethnic Studies (Print)         A2      SOCIOLOGIA              Atualizado\n\n1531-426X   Latin American Politics and Society                         A2      SOCIOLOGIA              Atualizado\n\n0439-4216   L&#39;Homme (Paris. 1961)                                       A2      SOCIOLOGIA              Atualizado\n\n0024-7413   Luso-Brazilian Review                                       A2      SOCIOLOGIA              Atualizado\n\n1548-9957   Luso-Brazilian Review (Online)                              A2      SOCIOLOGIA              Atualizado\n\n1240-1307   Natures Sciences Sociétés                                   A2      SOCIOLOGIA              Atualizado\n\n0028-6060   New Left Review                                             A2      SOCIOLOGIA              Atualizado\n\n1461-4448   New Media &amp; Society (Print)                                 A2      SOCIOLOGIA              Atualizado\n\n0251-3552   Nueva Sociedad                                              A2      SOCIOLOGIA              Atualizado\n\n0104-6276   Opinião Pública (UNICAMP. Impresso)                         A2      SOCIOLOGIA              Atualizado\n\n0146-1672   Personality &amp; Social Psychology Bulletin                    A2      SOCIOLOGIA              Atualizado\n\n1203-9438   Politique et Sociétés (Montréal)                            A2      SOCIOLOGIA              Atualizado\n\n0032-471X   Population Review (Print)                                   A2      SOCIOLOGIA              Atualizado\n\n1544-8444   Population, Space and Place                                 A2      SOCIOLOGIA              Atualizado\n\n0102-7972   Psicologia: Reflexão e Crítica (UFRGS. Impresso)            A2      SOCIOLOGIA              Atualizado\n\n0963-6625   Public Understanding of Science (Print)                     A2      SOCIOLOGIA              Atualizado\n\n0100-8587   Religião &amp; Sociedade (Impresso)                             A2      SOCIOLOGIA              Atualizado\n\n0968-8080   Reproductive Health Matters (Print)                         A2      SOCIOLOGIA              Atualizado\n\n0102-3098   Revista Brasileira de Estudos de População (Impresso)       A2      SOCIOLOGIA              Atualizado\n\n1806-9347   Revista Brasileira de História (Online)                     A2      SOCIOLOGIA              Atualizado\n\n\n\n                                                                    6                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;</span></span></code></pre></div>
<p>Vamos filtrar a tabela; toda linha que tiver “Soziol” irá aparecer na nossa busca. (escolhi este nome por gerar poucos resultados e não encher nossa tela)</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;Soziolo&quot;</span>, meupdf, <span class="at">value=</span>T) </span>
<span id="cb107-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;ISSN        TÍTULO                                                                   ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0048-3931   Philosophy of the Social Sciences                                        A1      SOCIOLOGIA              Atualizado\n\n0191-4537   Philosophy &amp; Social Criticism                                            A1      SOCIOLOGIA              Atualizado\n\n0276-5624   Research in Social Stratification and Mobility                           A1      SOCIOLOGIA              Atualizado\n\n0048-7333   Research Policy                                                          A1      SOCIOLOGIA              Atualizado\n\n0102-6909   Revista Brasileira de Ciências Sociais (Impresso)                        A1      SOCIOLOGIA              Atualizado\n\n0254-1106   Revista Crítica de Ciências Sociais                                      A1      SOCIOLOGIA              Atualizado\n\n0034-7701   Revista de Antropologia (USP. Impresso)                                  A1      SOCIOLOGIA              Atualizado\n\n0188-2503   Revista Mexicana de SociologÍa                                           A1      SOCIOLOGIA              Atualizado\n\n0390-6701   Revue Internationale de Sociologie                                       A1      SOCIOLOGIA              Atualizado\n\n0037-7686   Social Compass (Imprimé)                                                 A1      SOCIOLOGIA              Atualizado\n\n0037-7732   Social Forces                                                            A1      SOCIOLOGIA              Atualizado\n\n0303-8300   Social Indicators Research                                               A1      SOCIOLOGIA              Atualizado\n\n0277-9536   Social Science &amp; Medicine (1982)                                         A1      SOCIOLOGIA              Atualizado\n\n0102-6992   Sociedade e Estado (UnB. Impresso)                                       A1      SOCIOLOGIA              Atualizado\n\n0038-0199   Sociologia Ruralis (Print)                                               A1      SOCIOLOGIA              Atualizado\n\n1517-4522   Sociologias (UFRGS. Impresso)                                            A1      SOCIOLOGIA              Atualizado\n\n0735-2751   Sociological Theory                                                      A1      SOCIOLOGIA              Atualizado\n\n0038-0296   Sociologie du Travail                                                    A1      SOCIOLOGIA              Atualizado\n\n1069-4404   Sociology of Religion                                                    A1      SOCIOLOGIA              Atualizado\n\n0340-918X   Soziologie (Opladen)                                                     A1      SOCIOLOGIA              Atualizado\n\n0103-2070   Tempo Social (USP. Impresso)                                             A1      SOCIOLOGIA              Atualizado\n\n0002-7162   The Annals of the American Academy of Political and Social Science       A1      SOCIOLOGIA              Atualizado\n\n0263-2764   Theory, Culture &amp; Society                                                A1      SOCIOLOGIA              Atualizado\n\n0725-5136   Thesis Eleven (Print)                                                    A1      SOCIOLOGIA              Atualizado\n\n\n\n                                                                                 3                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;</span></span>
<span id="cb107-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [2] &quot;ISSN        TÍTULO                                                         ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0730-8884   Work and Occupations                                           A1      SOCIOLOGIA              Atualizado\n\n0305-750X   World Development                                              A1      SOCIOLOGIA              Atualizado\n\n0954-0121   Aids Care (Print)                                              A2      SOCIOLOGIA              Atualizado\n\n0889-2229   AIDS Research and Human Retroviruses                           A2      SOCIOLOGIA              Atualizado\n\n1414-753X   Ambiente e Sociedade (Campinas)                                A2      SOCIOLOGIA              Atualizado\n\n1809-4422   Ambiente &amp; Sociedade (Online)                                  A2      SOCIOLOGIA              Atualizado\n\n0044-7447   Ambio (Oslo)                                                   A2      SOCIOLOGIA              Atualizado\n\n1130-2887   América Latina Hoy                                             A2      SOCIOLOGIA              Atualizado\n\n0161-7761   Anthropology &amp; Education Quarterly                             A2      SOCIOLOGIA              Atualizado\n\n0210-1963   Arbor (Madrid)                                                 A2      SOCIOLOGIA              Atualizado\n\n0863-1808   Berliner Journal fur Soziologie                                A2      SOCIOLOGIA              Atualizado\n\n0102-311X   Cadernos de Saúde Pública (ENSP. Impresso)                     A2      SOCIOLOGIA              Atualizado\n\n1298-6046   Cahiers du Genre (Paris)                                       A2      SOCIOLOGIA              Atualizado\n\n0008-0276   Cahiers Internationaux de Sociologie                           A2      SOCIOLOGIA              Atualizado\n\n0826-3663   Canadian Journal of Latin American and Caribbean Studies       A2      SOCIOLOGIA              Atualizado\n\n1188-3774   Canadian Journal of Urban Research                             A2      SOCIOLOGIA              Atualizado\n\n0309-8168   Capital &amp; Class                                                A2      SOCIOLOGIA              Atualizado\n\n0341-8162   Catena (Cremlingen)                                            A2      SOCIOLOGIA              Atualizado\n\n1519-6089   Civitas: Revista de Ciências Sociais (Impresso)                A2      SOCIOLOGIA              Atualizado\n\n0010-4086   Comparative Education Review                                   A2      SOCIOLOGIA              Atualizado\n\n0360-1315   Computers and Education                                        A2      SOCIOLOGIA              Atualizado\n\n0102-8529   Contexto Internacional (PUCRJ. Impresso)                       A2      SOCIOLOGIA              Atualizado\n\n1478-0046   Cultural and Social History (Online)                           A2      SOCIOLOGIA              Atualizado\n\n0419-1633   Diogène (Ed. Française)                                        A2      SOCIOLOGIA              Atualizado\n\n\n\n                                                                       4                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;                                                                                                                                                                                                                                                                    </span></span>
<span id="cb107-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [3] &quot;ISSN        TÍTULO                                                  ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0034-8910   Revista de Saúde Pública (Impresso)                     A2      SOCIOLOGIA              Atualizado\n\n1518-8787   Revista de Saúde Pública (Online)                       A2      SOCIOLOGIA              Atualizado\n\n1678-9873   Revista de Sociologia e Política (Online)               A2      SOCIOLOGIA              Atualizado\n\n0104-4478   Revista de Sociologia e Política (UFPR. Impresso)       A2      SOCIOLOGIA              Atualizado\n\n0104-026X   Revista Estudos Feministas (UFSC. Impresso)             A2      SOCIOLOGIA              Atualizado\n\n0378-5548   Revista Internacional del Trabajo (Impresa)             A2      SOCIOLOGIA              Atualizado\n\n0034-9712   Revista Internacional de Sociología                     A2      SOCIOLOGIA              Atualizado\n\n1293-8882   Revue Tiers Monde                                       A2      SOCIOLOGIA              Atualizado\n\n1363-4607   Sexualities (London)                                    A2      SOCIOLOGIA              Atualizado\n\n0097-9740   Signs (Chicago, Ill.)                                   A2      SOCIOLOGIA              Atualizado\n\n1350-4630   Social Identities (Print)                               A2      SOCIOLOGIA              Atualizado\n\n0765-3697   Sociétés (Paris)                                        A2      SOCIOLOGIA              Atualizado\n\n0210-8364   Sociología del Trabajo                                  A2      SOCIOLOGIA              Atualizado\n\n2152-8586   South African Review of Sociology                       A2      SOCIOLOGIA              Atualizado\n\n1654-0204   Stockholm Review of Latin American Studies              A2      SOCIOLOGIA              Atualizado\n\n1477-7487   Surveillance &amp; Society (Online)                         A2      SOCIOLOGIA              Atualizado\n\n0730-479X   The Tocqueville Review                                  A2      SOCIOLOGIA              Atualizado\n\n0143-6597   Third World Quarterly (Print)                           A2      SOCIOLOGIA              Atualizado\n\n1745-641X   Work Organisation, Labour &amp; Globalisation (Print)       A2      SOCIOLOGIA              Atualizado\n\n1935-6226   World Political Science Review                          A2      SOCIOLOGIA              Atualizado\n\n0340-1804   Zeitschrift fur Soziologie                              A2      SOCIOLOGIA              Atualizado\n\n0994-4524   Actuel Marx                                             B1      SOCIOLOGIA              Atualizado\n\n0095-3997   Administration &amp; Society                                B1      SOCIOLOGIA              Atualizado\n\n1057-6290   Advances in Medical Sociology                           B1      SOCIOLOGIA              Atualizado\n\n\n\n                                                                7                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;</span></span></code></pre></div>
<!-- library(pdftools) -->
<!-- library(tidyverse) -->
<!-- # carregando o arquivo pdf na variável "meupdf" -->
<!-- meupdf <- pdf_text("~/Documentos/Programação/R/1-Qualis-Sociologia-Atualizado.pdf") %>% readr::read_lines()  -->
<!-- # filtrando a tabela, toda linha que tiver "Soziol" irá aparecer. -->
<!-- grep("Soziolo", meupdf, value=T)  -->
<p>Filtrando a tabela, toda linha que tiver “A1” irá aparecer, não importa em que coluna esteja.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;A1&quot;</span>, meupdf, <span class="at">value=</span>T) </span>
<span id="cb108-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;                                                  Consulta por Classificação / Área Avaliação\nISSN        TÍTULO                                                                              ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0335-5322   Actes de la Recherche en Sciences Sociales                                          A1      SOCIOLOGIA              Atualizado\n\n0002-7294   American Anthropologist                                                             A1      SOCIOLOGIA              Atualizado\n\n1042-0533   American Journal of Human Biology                                                   A1      SOCIOLOGIA              Atualizado\n\n0003-2573   Análise Social                                                                      A1      SOCIOLOGIA              Atualizado\n\n1573-3416   An International Journal of Politics, Culture and Society (Dordrecht. Online)       A1      SOCIOLOGIA              Atualizado\n\n0004-0002   Archives of Sexual Behavior                                                         A1      SOCIOLOGIA              Atualizado\n\n0261-3050   Bulletin of Latin American Research                                                 A1      SOCIOLOGIA              Atualizado\n\n1983-8239   Caderno CRH (Online)                                                                A1      SOCIOLOGIA              Atualizado\n\n0103-4979   Caderno CRH (UFBA. Impresso)                                                        A1      SOCIOLOGIA              Atualizado\n\n0104-8333   Cadernos Pagu (UNICAMP. Impresso)                                                   A1      SOCIOLOGIA              Atualizado\n\n0010-4159   Comparative Politics                                                                A1      SOCIOLOGIA              Atualizado\n\n1351-0487   Constellations (Oxford. Print)                                                      A1      SOCIOLOGIA              Atualizado\n\n0094-3061   Contemporary Sociology (Washington)                                                 A1      SOCIOLOGIA              Atualizado\n\n1354-067X   Culture &amp; Psychology                                                                A1      SOCIOLOGIA              Atualizado\n\n0011-3204   Current Anthropology                                                                A1      SOCIOLOGIA              Atualizado\n\n0011-3921   Current Sociology (Print)                                                           A1      SOCIOLOGIA              Atualizado\n\n0011-5258   Dados (Rio de Janeiro. Impresso)                                                    A1      SOCIOLOGIA              Atualizado\n\n1351-0347   Democratization (London)                                                            A1      SOCIOLOGIA              Atualizado\n\n0101-7330   Educação &amp; Sociedade (Impresso)                                                     A1      SOCIOLOGIA              Atualizado\n\n1044-3983   Epidemiology (Cambridge, Mass., Print)                                              A1      SOCIOLOGIA              Atualizado\n\n0185-4186   Estudios Sociológicos                                                               A1      SOCIOLOGIA              Atualizado\n\n0141-9870   Ethnic and Racial Studies (Print)                                                   A1      SOCIOLOGIA              Atualizado\n\n0873-6561   Etnográfica (Lisboa                                                                 A1      SOCIOLOGIA              Atualizado\n\n\n\n                                                                                            1                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;</span></span>
<span id="cb108-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [2] &quot;ISSN        TÍTULO                                                       ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0014-2182   Etudes Rurales                                               A1      SOCIOLOGIA              Atualizado\n\n1368-4310   European Journal of Social Theory                            A1      SOCIOLOGIA              Atualizado\n\n0104-5970   História, Ciências, Saúde-Manguinhos (Impresso)              A1      SOCIOLOGIA              Atualizado\n\n1678-4758   História, Ciências, Saúde-Manguinhos (Online)                A1      SOCIOLOGIA              Atualizado\n\n1806-9983   Horizontes Antropológicos (Online)                           A1      SOCIOLOGIA              Atualizado\n\n0104-7183   Horizontes Antropológicos (UFRGS. Impresso)                  A1      SOCIOLOGIA              Atualizado\n\n0539-0184   Information sur les Sciences Sociales (Paris)                A1      SOCIOLOGIA              Atualizado\n\n0891-4486   International Journal of Politics, Culture and Society       A1      SOCIOLOGIA              Atualizado\n\n2182-4096   International Journal on Working Conditions                  A1      SOCIOLOGIA              Atualizado\n\n0192-5121   International Political Science Review                       A1      SOCIOLOGIA              Atualizado\n\n0269-2171   International Review of Applied Economics                    A1      SOCIOLOGIA              Atualizado\n\n0020-8701   International Social Science Journal (Print)                 A1      SOCIOLOGIA              Atualizado\n\n0268-5809   International Sociology                                      A1      SOCIOLOGIA              Atualizado\n\n1468-795X   Journal of Classical Sociology                               A1      SOCIOLOGIA              Atualizado\n\n1467-6443   Journal of Historical Sociology (Online)                     A1      SOCIOLOGIA              Atualizado\n\n0022-216X   Journal of Latin American Studies (Print)                    A1      SOCIOLOGIA              Atualizado\n\n0022-4537   Journal of Social Issues (Print)                             A1      SOCIOLOGIA              Atualizado\n\n0094-582X   Latin American Perspectives                                  A1      SOCIOLOGIA              Atualizado\n\n0023-8791   Latin American Research Review                               A1      SOCIOLOGIA              Atualizado\n\n0102-6445   Lua Nova (Impresso)                                          A1      SOCIOLOGIA              Atualizado\n\n1678-4944   Mana (Rio de Janeiro. Online)                                A1      SOCIOLOGIA              Atualizado\n\n0104-9313   Mana (UFRJ. Impresso)                                        A1      SOCIOLOGIA              Atualizado\n\n0101-3300   Novos Estudos CEBRAP (Impresso)                              A1      SOCIOLOGIA              Atualizado\n\n0102-4469   Perspectiva Teológica (Belo Horizonte)                       A1      SOCIOLOGIA              Atualizado\n\n\n\n                                                                     2                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       </span></span>
<span id="cb108-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [3] &quot;ISSN        TÍTULO                                                                   ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0048-3931   Philosophy of the Social Sciences                                        A1      SOCIOLOGIA              Atualizado\n\n0191-4537   Philosophy &amp; Social Criticism                                            A1      SOCIOLOGIA              Atualizado\n\n0276-5624   Research in Social Stratification and Mobility                           A1      SOCIOLOGIA              Atualizado\n\n0048-7333   Research Policy                                                          A1      SOCIOLOGIA              Atualizado\n\n0102-6909   Revista Brasileira de Ciências Sociais (Impresso)                        A1      SOCIOLOGIA              Atualizado\n\n0254-1106   Revista Crítica de Ciências Sociais                                      A1      SOCIOLOGIA              Atualizado\n\n0034-7701   Revista de Antropologia (USP. Impresso)                                  A1      SOCIOLOGIA              Atualizado\n\n0188-2503   Revista Mexicana de SociologÍa                                           A1      SOCIOLOGIA              Atualizado\n\n0390-6701   Revue Internationale de Sociologie                                       A1      SOCIOLOGIA              Atualizado\n\n0037-7686   Social Compass (Imprimé)                                                 A1      SOCIOLOGIA              Atualizado\n\n0037-7732   Social Forces                                                            A1      SOCIOLOGIA              Atualizado\n\n0303-8300   Social Indicators Research                                               A1      SOCIOLOGIA              Atualizado\n\n0277-9536   Social Science &amp; Medicine (1982)                                         A1      SOCIOLOGIA              Atualizado\n\n0102-6992   Sociedade e Estado (UnB. Impresso)                                       A1      SOCIOLOGIA              Atualizado\n\n0038-0199   Sociologia Ruralis (Print)                                               A1      SOCIOLOGIA              Atualizado\n\n1517-4522   Sociologias (UFRGS. Impresso)                                            A1      SOCIOLOGIA              Atualizado\n\n0735-2751   Sociological Theory                                                      A1      SOCIOLOGIA              Atualizado\n\n0038-0296   Sociologie du Travail                                                    A1      SOCIOLOGIA              Atualizado\n\n1069-4404   Sociology of Religion                                                    A1      SOCIOLOGIA              Atualizado\n\n0340-918X   Soziologie (Opladen)                                                     A1      SOCIOLOGIA              Atualizado\n\n0103-2070   Tempo Social (USP. Impresso)                                             A1      SOCIOLOGIA              Atualizado\n\n0002-7162   The Annals of the American Academy of Political and Social Science       A1      SOCIOLOGIA              Atualizado\n\n0263-2764   Theory, Culture &amp; Society                                                A1      SOCIOLOGIA              Atualizado\n\n0725-5136   Thesis Eleven (Print)                                                    A1      SOCIOLOGIA              Atualizado\n\n\n\n                                                                                 3                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;                                                                                                                                                                                                                                               </span></span>
<span id="cb108-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [4] &quot;ISSN        TÍTULO                                                         ESTRATO ÁREA DE AVALIAÇÃO       STATUS\n0730-8884   Work and Occupations                                           A1      SOCIOLOGIA              Atualizado\n\n0305-750X   World Development                                              A1      SOCIOLOGIA              Atualizado\n\n0954-0121   Aids Care (Print)                                              A2      SOCIOLOGIA              Atualizado\n\n0889-2229   AIDS Research and Human Retroviruses                           A2      SOCIOLOGIA              Atualizado\n\n1414-753X   Ambiente e Sociedade (Campinas)                                A2      SOCIOLOGIA              Atualizado\n\n1809-4422   Ambiente &amp; Sociedade (Online)                                  A2      SOCIOLOGIA              Atualizado\n\n0044-7447   Ambio (Oslo)                                                   A2      SOCIOLOGIA              Atualizado\n\n1130-2887   América Latina Hoy                                             A2      SOCIOLOGIA              Atualizado\n\n0161-7761   Anthropology &amp; Education Quarterly                             A2      SOCIOLOGIA              Atualizado\n\n0210-1963   Arbor (Madrid)                                                 A2      SOCIOLOGIA              Atualizado\n\n0863-1808   Berliner Journal fur Soziologie                                A2      SOCIOLOGIA              Atualizado\n\n0102-311X   Cadernos de Saúde Pública (ENSP. Impresso)                     A2      SOCIOLOGIA              Atualizado\n\n1298-6046   Cahiers du Genre (Paris)                                       A2      SOCIOLOGIA              Atualizado\n\n0008-0276   Cahiers Internationaux de Sociologie                           A2      SOCIOLOGIA              Atualizado\n\n0826-3663   Canadian Journal of Latin American and Caribbean Studies       A2      SOCIOLOGIA              Atualizado\n\n1188-3774   Canadian Journal of Urban Research                             A2      SOCIOLOGIA              Atualizado\n\n0309-8168   Capital &amp; Class                                                A2      SOCIOLOGIA              Atualizado\n\n0341-8162   Catena (Cremlingen)                                            A2      SOCIOLOGIA              Atualizado\n\n1519-6089   Civitas: Revista de Ciências Sociais (Impresso)                A2      SOCIOLOGIA              Atualizado\n\n0010-4086   Comparative Education Review                                   A2      SOCIOLOGIA              Atualizado\n\n0360-1315   Computers and Education                                        A2      SOCIOLOGIA              Atualizado\n\n0102-8529   Contexto Internacional (PUCRJ. Impresso)                       A2      SOCIOLOGIA              Atualizado\n\n1478-0046   Cultural and Social History (Online)                           A2      SOCIOLOGIA              Atualizado\n\n0419-1633   Diogène (Ed. Française)                                        A2      SOCIOLOGIA              Atualizado\n\n\n\n                                                                       4                               Quarta-feira 04 Fevereiro 2015 18:33:10\n&quot;</span></span></code></pre></div>
<p>A busca está funcionando! No entanto, vale lembrar, não conseguimos aqui delimitar nossa busca a colunas específicas. Poderíamos fazer com que buscássemos apenas na coluna com classificação. Há outros modos de importarmos estes dados e fazermos esta busca no R. Este foi um modo simples para treinarmos o regex no R.</p>
<!-- Para facilitar as coisas, já extraí em csv estes dados -->
</div>
<div id="transformando-strings-em-vetores-com-strsplit" class="section level3 hasAnchor" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> Transformando strings em vetores com <code>strsplit()</code><a href="normalização-de-texto-e-expressões-regulares.html#transformando-strings-em-vetores-com-strsplit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>É possível quebrar uma string em vários elementos de um vetor usando um padrão regex</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># nosso texto inicial</span></span>
<span id="cb109-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-2" aria-hidden="true" tabindex="-1"></a>rato_vetor <span class="ot">&lt;-</span> <span class="st">&quot;O rato roeu. Roeu a roupa. A roupa que era do rei. Qual rei? O rei de Roma!&quot;</span></span>
<span id="cb109-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor tendo como critério de quebra o ponto final, deve-se usar o símbolo de escape &quot;\\.&quot;</span></span>
<span id="cb109-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(rato_vetor, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>)</span>
<span id="cb109-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb109-7"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;O rato roeu&quot;               &quot; Roeu a roupa&quot;            </span></span>
<span id="cb109-8"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [3] &quot; A roupa que era do rei&quot;   &quot; Qual rei? O rei de Roma!&quot;</span></span>
<span id="cb109-9"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-10"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetores a partir da pontuação</span></span>
<span id="cb109-11"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-11" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(rato_vetor, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.|</span><span class="sc">\\</span><span class="st">?&quot;</span>)</span>
<span id="cb109-12"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb109-13"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;O rato roeu&quot;             &quot; Roeu a roupa&quot;          </span></span>
<span id="cb109-14"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [3] &quot; A roupa que era do rei&quot; &quot; Qual rei&quot;              </span></span>
<span id="cb109-15"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [5] &quot; O rei de Roma!&quot;</span></span>
<span id="cb109-16"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-17"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Uma dica. Os elementos de vetores estão ficando com espaço em branco. Podemos resolver isso:</span></span>
<span id="cb109-18"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-18" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(rato_vetor, <span class="st">&quot;(</span><span class="sc">\\</span><span class="st">.|</span><span class="sc">\\</span><span class="st">?) ?&quot;</span>)</span>
<span id="cb109-19"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb109-20"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;O rato roeu&quot;            &quot;Roeu a roupa&quot;           &quot;A roupa que era do rei&quot;</span></span>
<span id="cb109-21"><a href="normalização-de-texto-e-expressões-regulares.html#cb109-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [4] &quot;Qual rei&quot;               &quot;O rei de Roma!&quot;</span></span></code></pre></div>
<p>No pacote <a href="normalização-de-texto-e-expressões-regulares.html#stringr">stringr</a> o comando equivalente é o <code>str_split()</code>.</p>
<p>Atenção:
Ao tentar usar regex com espaços em branco (whitespace) e ele não funciona, é bom saber que há diversos tipos de espaços em branco.
Há <a href="https://qwerty.dev/whitespace/">diferentes tipos de espaço em branco</a>
<a href="https://www.oracle.com/technical-resources/articles/wang-whitespace.html"></a></p>
</div>
<div id="exemplo-regex" class="section level3 hasAnchor" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> Exemplo regex<a href="normalização-de-texto-e-expressões-regulares.html#exemplo-regex" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Voltando ao nosso exemplo anterior, podemos transformar as datas abaixo, que estão no formado <code>dd/mm/aaaa</code> (dia/mês/ano) para o formato <code>aaaa-mm-dd</code> (ano-mês-dia), para que possamos, por exemplo, ordenar as datas de modo fácil.</p>
<table>
<thead>
<tr class="header">
<th>Original</th>
<th>Converter para</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>20/03/2020</td>
<td>“2020-03-20”</td>
</tr>
<tr class="even">
<td>13/01/1990</td>
<td>“1990-01-13”</td>
</tr>
<tr class="odd">
<td>04/06/2001</td>
<td>“2001-06-04”</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb110-1" aria-hidden="true" tabindex="-1"></a>datas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;20/03/2020&#39;</span>, <span class="st">&#39;13/01/1990&#39;</span>, <span class="st">&#39;04/06/2001&#39;</span>)</span>
<span id="cb110-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&#39;([0-9]{2})/([0-9]{2})/([0-9]{4})&#39;</span>,<span class="st">&#39;</span><span class="sc">\\</span><span class="st">3-</span><span class="sc">\\</span><span class="st">2-</span><span class="sc">\\</span><span class="st">1&#39;</span>, datas)</span>
<span id="cb110-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;2020-03-20&quot; &quot;1990-01-13&quot; &quot;2001-06-04&quot;</span></span></code></pre></div>
<p>Vale lembrar, o R possui funções (como o <code>strptime()</code> ) e <a href="introdução-ao-r.html#RDataHora">pacotes específicos para lidar com datas</a>. O exemplo acima foi apenas um exercício.</p>
<p>O R possui diversos pacotes para lidar com regex. As funções do base, que já vem com o R possuem diversas funções.
Há ainda o pacote <a href="https://cran.r-project.org/web//packages/re2/re2.pdf">Google RE2</a> que é uma versão rápida desenvolvida pela Google. Outro pacote interessante é o <a href="normalização-de-texto-e-expressões-regulares.html#stringr">stringr</a> que veremos a seguir.</p>
</div>
<div id="lookaround-lookadead-e-lookbehind" class="section level3 hasAnchor" number="6.2.6">
<h3><span class="header-section-number">6.2.6</span> Lookaround lookadead e lookbehind<a href="normalização-de-texto-e-expressões-regulares.html#lookaround-lookadead-e-lookbehind" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>É possível fazer com que um padrão passe a valer antes ou depois de outro padrão.</p>
<ul>
<li>Se um padrão deve ser considerado se <em>antes</em> de outro padrão, então usamos <em>lookahead</em>.</li>
<li>Se um padrão deve ser considerado se <em>depois</em> de outro padrão, então usamos <em>lookbehind</em>.</li>
</ul>
<p>Para saber mais sobre, <a href="https://direito.consudata.com.br/shiny/stringr/#section-lookaround">este manual</a> pode ser útil.</p>
</div>
</div>
<div id="stringr" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Pacote stringr<a href="normalização-de-texto-e-expressões-regulares.html#stringr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="figure">
<img src="https://stringr.tidyverse.org/logo.png" alt="" />
<p class="caption">Logotipo do pacote Stringr</p>
</div>
<p>Há problemas recorrentes com soluções recorrentes em regex.
O pacote <a href="https://stringr.tidyverse.org/">stringr</a> nos ajuda nisso, tendo em si diversas funções para lidarmos com strings, com soluções simplificadas para problemas que recorrentemente precisamos de fazer algum regex mais complicado, ou uma sequêwncia de comandos.
O Stringr possui ainda uma sintaxe um pouco diferente.
Toda função do stringr começa com <code>str_</code>.</p>
<table>
<colgroup>
<col width="38%" />
<col width="61%" />
</colgroup>
<thead>
<tr class="header">
<th>Função</th>
<th>descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace()</a></td>
<td>Substitui por padrões na string</td>
</tr>
</tbody>
</table>
<p>Vejamos um trecho de A Divisão do Trabalho Social.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-1" aria-hidden="true" tabindex="-1"></a>durkheim.DTS <span class="ot">&lt;-</span> <span class="st">&quot;Quanto à questão que originou este trabalho, é a das relações entre a personalidade individual e a solidariedade social. Como é que, ao mesmo passo que se torna mais autõnomo, o indivíduo depende mais intimamente da sociedade? Como pode ser, ao mesmo tempo, mais pessoal e mais solidário? Pois é inconteste que esses dois movimentos, por mais contraditórios que pareçam, seguem-se paralelamente.&quot;</span></span>
<span id="cb111-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="co"># contando quantas vezes um termo/padrão aparece</span></span>
<span id="cb111-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-4" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_count</span>(durkheim.DTS, <span class="st">&quot;indiv&quot;</span>)</span>
<span id="cb111-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb111-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-7"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-7" aria-hidden="true" tabindex="-1"></a><span class="co"># extraindo um termo/padrão: todos os termos que comecem com &quot;indiv&quot;</span></span>
<span id="cb111-8"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-8" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_extract_all</span>(durkheim.DTS, <span class="st">&quot;indiv</span><span class="sc">\\</span><span class="st">w+&quot;</span>)</span>
<span id="cb111-9"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb111-10"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;individual&quot; &quot;indivíduo&quot;</span></span>
<span id="cb111-11"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-12"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-12" aria-hidden="true" tabindex="-1"></a><span class="co"># str_ retorna uma lista, para termos o resultado em vetor usamos `unlist()`</span></span>
<span id="cb111-13"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-13" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_extract_all</span>(durkheim.DTS, <span class="st">&quot;indiv</span><span class="sc">\\</span><span class="st">w+&quot;</span>) <span class="sc">|&gt;</span> <span class="fu">unlist</span>()</span>
<span id="cb111-14"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;individual&quot; &quot;indivíduo&quot;</span></span>
<span id="cb111-15"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-16"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-16" aria-hidden="true" tabindex="-1"></a><span class="co"># substituição: apenas da primeira ocorrência do termo</span></span>
<span id="cb111-17"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-17" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_replace</span>(durkheim.DTS, <span class="st">&quot;indiv</span><span class="sc">\\</span><span class="st">w+&quot;</span>, <span class="st">&quot;indiv&quot;</span>)</span>
<span id="cb111-18"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Quanto à questão que originou este trabalho, é a das relações entre a personalidade indiv e a solidariedade social. Como é que, ao mesmo passo que se torna mais autõnomo, o indivíduo depende mais intimamente da sociedade? Como pode ser, ao mesmo tempo, mais pessoal e mais solidário? Pois é inconteste que esses dois movimentos, por mais contraditórios que pareçam, seguem-se paralelamente.&quot;</span></span>
<span id="cb111-19"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-20"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-20" aria-hidden="true" tabindex="-1"></a><span class="co"># substituição: todas as ocorrências do termo</span></span>
<span id="cb111-21"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-21" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(durkheim.DTS, <span class="st">&quot;indiv</span><span class="sc">\\</span><span class="st">w+&quot;</span>, <span class="st">&quot;indiv&quot;</span>) </span>
<span id="cb111-22"><a href="normalização-de-texto-e-expressões-regulares.html#cb111-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;Quanto à questão que originou este trabalho, é a das relações entre a personalidade indiv e a solidariedade social. Como é que, ao mesmo passo que se torna mais autõnomo, o indiv depende mais intimamente da sociedade? Como pode ser, ao mesmo tempo, mais pessoal e mais solidário? Pois é inconteste que esses dois movimentos, por mais contraditórios que pareçam, seguem-se paralelamente.&quot;</span></span></code></pre></div>
<div id="normalização-com-stringr" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Normalização com stringr<a href="normalização-de-texto-e-expressões-regulares.html#normalização-com-stringr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Um problema ao lidar com tabelas pode ser a normalização. Por exemplo, ao pegar dados da saúde em uma tabela que quem preenche o formulário, digita por extenso ao invés de escolher a partir de uma lista pré-definida (como são os <a href="introdução-ao-r.html#fatores">fatores</a>) pode ocorrer isto aqui:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-1" aria-hidden="true" tabindex="-1"></a>remedios <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">header =</span> T, <span class="at">text =</span> <span class="st">&#39;</span></span>
<span id="cb112-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="st">  n remedio</span></span>
<span id="cb112-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="st">  1 bogripe</span></span>
<span id="cb112-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="st">  1 biozina</span></span>
<span id="cb112-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="st">  1 bidioxicloquina</span></span>
<span id="cb112-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="st">  1 betametasona</span></span>
<span id="cb112-7"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-7" aria-hidden="true" tabindex="-1"></a><span class="st">  1 bengripe</span></span>
<span id="cb112-8"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-8" aria-hidden="true" tabindex="-1"></a><span class="st">  1 benegripi</span></span>
<span id="cb112-9"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-9" aria-hidden="true" tabindex="-1"></a><span class="st">  1 benegripe</span></span>
<span id="cb112-10"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-10" aria-hidden="true" tabindex="-1"></a><span class="st">  1 BENEGRIPE</span></span>
<span id="cb112-11"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-11" aria-hidden="true" tabindex="-1"></a><span class="st">  1 benegripe</span></span>
<span id="cb112-12"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-12" aria-hidden="true" tabindex="-1"></a><span class="st">  1 Benegripe</span></span>
<span id="cb112-13"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-13" aria-hidden="true" tabindex="-1"></a><span class="st">  1 BENEFRIPE</span></span>
<span id="cb112-14"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-14" aria-hidden="true" tabindex="-1"></a><span class="st">  1 bena</span></span>
<span id="cb112-15"><a href="normalização-de-texto-e-expressões-regulares.html#cb112-15" aria-hidden="true" tabindex="-1"></a><span class="st">  1 bemegripe&#39;</span>)</span></code></pre></div>
<p>Estes dados vieram da <a href="https://opendatasus.saude.gov.br/dataset/bd-srag-2020">SRAG 2020</a>, o banco de dados de Síndrome Respiratória aguda grave (salvo engano, na coluna <code>OUT_ANTIV</code>).
Repare como um mesmo remédio está escrito de diferentes formas. Um modos de tentar padronizar esta variedade de nomes escritos de formas diferentes - mas não o único e não o mais indicado para este caso que tem muitas grafias diferentes, mas que é interessante em termos didáticos da ferramenta - é este a seguir.
Podemos resolver isso com <code>str_detect</code> e <code>dplyr::case_when</code></p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-1" aria-hidden="true" tabindex="-1"></a>remedios <span class="sc">%&gt;%</span> </span>
<span id="cb113-2"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">remedio_novo =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb113-3"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-3" aria-hidden="true" tabindex="-1"></a>                                      stringr<span class="sc">::</span><span class="fu">str_detect</span>(</span>
<span id="cb113-4"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-4" aria-hidden="true" tabindex="-1"></a>                                        remedio,<span class="st">&quot;(?i)be[mn]egrip[ei]&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Benegripe&quot;</span>))</span>
<span id="cb113-5"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="do">##    n         remedio remedio_novo</span></span>
<span id="cb113-6"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1  1         bogripe         &lt;NA&gt;</span></span>
<span id="cb113-7"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2  1         biozina         &lt;NA&gt;</span></span>
<span id="cb113-8"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3  1 bidioxicloquina         &lt;NA&gt;</span></span>
<span id="cb113-9"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4  1    betametasona         &lt;NA&gt;</span></span>
<span id="cb113-10"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 5  1        bengripe         &lt;NA&gt;</span></span>
<span id="cb113-11"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 6  1       benegripi    Benegripe</span></span>
<span id="cb113-12"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 7  1       benegripe    Benegripe</span></span>
<span id="cb113-13"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 8  1       BENEGRIPE    Benegripe</span></span>
<span id="cb113-14"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 9  1       benegripe    Benegripe</span></span>
<span id="cb113-15"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 1       Benegripe    Benegripe</span></span>
<span id="cb113-16"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 11 1       BENEFRIPE         &lt;NA&gt;</span></span>
<span id="cb113-17"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 12 1            bena         &lt;NA&gt;</span></span>
<span id="cb113-18"><a href="normalização-de-texto-e-expressões-regulares.html#cb113-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 13 1       bemegripe    Benegripe</span></span></code></pre></div>
<ul>
<li>O símbolo <code>(?i)</code> indica que a busca é case insenitive, isto é, não distingue maiúsclas de minúsculas e vice versa.</li>
<li>Nosso padrão não detectou todos os casos, ficando para trás “bengripe” e “BENEFRIPE”.</li>
<li><code>case_when(stringr::str_detect(</code> nos dá a condição, se certo padrão for encontrado, faça algo</li>
<li><code>"(?i)be[mn]egrip[ei]")</code> o padrão a ser encontrado e <code>~ "Benegripe"</code> diz qual valor será usado em substituição.</li>
<li>Por fim, a intenção do exemplo acima é mostrar a ferramenta. Mas no caso deste problema, uma abordagem mais adequada seria usar alguma medida de <em>minimum edit distance</em> (como a de Levenstein), onde teríamos uma lista com os nomes corretos e encontraríamos as palavras mais próximas na lista com nomes com grafia errada.</li>
</ul>
</div>
</div>
<div id="dicassugestões-regex-no-r" class="section level2 hasAnchor infobox note" number="6.4">
<h2><span class="header-section-number">6.4</span> Dicas/Sugestões: Regex no R<a href="normalização-de-texto-e-expressões-regulares.html#dicassugestões-regex-no-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/regex.pdf">Cheatsheet de expressões regulares no R</a> (em inglês) RECOMENDADO</li>
<li><a href="http://edrub.in/CheatSheets/cheatSheetStringr.pdf">cheatcheet stringr</a></li>
<li><a href="https://direito.consudata.com.br/shiny/stringr/#section-substituic%C3%A3o-str_replace">Introdução ao regex com R</a>. Um manual online em portugês onde você pode rodar códigos na página à medida que aprende truques novos.</li>
<li><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/regex.html">“Regular Expressions as used in R”</a>.Expressão regular no R. Documento oficial. (em inglês)</li>
<li>Albert Y. Kim. <a href="https://rstudio-pubs-static.s3.amazonaws.com/74603_76cd14d5983f47408fdf0b323550b846.html">Regular Expressions in R</a></li>
<li><a href="https://www.regular-expressions.info/rlanguage.html">Regular Expressions with The R Language</a>. Site dedicao às RegEx em várias linguagens de programação.</li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/translations/portuguese/data-wrangling-cheatsheet-portuguese.pdf">Data Wrangling</a> Cheatsheet em português, tradução de Augusto Queiroz de Macedo</li>
<li><a href="https://cran.r-project.org/web/packages/stringr/vignettes/regular-expressions.html">Regular expressions</a></li>
<li>PENG, Roger. <a href="https://bookdown.org/rdpeng/rprogdatascience/regular-expressions.html">R Programming for Data Science</a>. 2020. Bookdown online.</li>
<li>J. Kyle Armstrong <a href="https://bookdown.org/jkylearmstrong/jeff_data_wrangling/">Fundamentals of Data Wrangling with R</a> 2021. bookdown online</li>
<li>O pacote <a href="https://www.garrickadenbuie.com/project/regexplain/">regexplain</a> ajuda a testar regexes e comandos que usam regex no R de modo interativo e fácil, utilizando interface baseada em shiny.</li>
</ul>
</div>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="introdução-ao-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dataviz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "vk"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
